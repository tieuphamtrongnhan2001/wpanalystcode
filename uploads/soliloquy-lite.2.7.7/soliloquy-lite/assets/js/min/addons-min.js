(()=>{var e={311:a=>{"use strict";a.exports=jQuery}},n={};function t(a){var o=n[a];return void 0!==o||(o=n[a]={exports:{}},e[a](o,o.exports,t)),o.exports}var r,c,a;a=t(311),r=a,window,document,c=soliloquy_addons,r(function(){r(".soliloquy-chosen").each(function(){r(this).chosen({disable_search:!0})}),r("#soliloquy-addon-filter").on("change",function(){var a=r(this).val(),e=r("#soliloquy-addons-area"),o=(e.data("soliloquy-filter"),r("#soliloquy-addons-area .soliloquy-addon"));switch(o.show(),a){case"asc":o.sort(function(a,o){return r(a).data("addon-title").localeCompare(r(o).data("addon-title"))}).each(function(a,o){r(o).removeClass("last"),e.append(o).hide().fadeIn(100)}),r("#soliloquy-addons-area .soliloquy-addon:nth-child(3n)").addClass("last");break;case"desc":o.sort(function(a,o){return r(o).data("addon-title").localeCompare(r(a).data("addon-title"))}).each(function(a,o){r(o).removeClass("last"),e.append(o).hide().fadeIn(100)}),r("#soliloquy-addons-area .soliloquy-addon:nth-child(3n)").addClass("last");break;case"active":o.hide().filter('[data-addon-status="active"]').show(),o.removeClass("last"),r("#soliloquy-addons-area .soliloquy-addon:visible").each(function(a){(a+1)%3==0&&r(this).addClass("last")});break;case"inactive":o.hide().filter('[data-addon-status="inactive"]').show(),o.removeClass("last"),r("#soliloquy-addons-area .soliloquy-addon:visible").each(function(a){(a+1)%3==0&&r(this).addClass("last")});break;case"installed":o.hide().filter('[data-addon-status="not_installed"]').show(),o.removeClass("last"),r("#soliloquy-addons-area .soliloquy-addon:visible").each(function(a){(a+1)%3==0&&r(this).addClass("last")})}}),r("#soliloquy-addons-area").on("click.refreshInstallAddon",".soliloquy-addon-action-button",function(a){a.preventDefault();var e=r(this),a=r("#soliloquy-addons-area").find(".soliloquy-addon-action-button");r.each(a,function(a,o){if(e===o)return!0;r(o).attr("disabled")&&r(o).removeAttr("disabled"),r(o).parent().parent().hasClass("soliloquy-addon-not-installed")&&r(o).text(c.install)})}),r("#soliloquy-addons-area").on("click.activateAddon",".soliloquy-activate-addon",function(a){a.preventDefault();var n=r(this),a=n.attr("rel"),o=n.parent().parent(),e=n.parent().parent().find(".addon-status").children("span"),a=(r(".soliloquy-addon-error").remove(),n.text(c.activating),n.next().css({display:"inline-block","margin-top":"0px"}),{url:ajaxurl,type:"post",async:!0,cache:!1,dataType:"json",data:{action:"soliloquy_activate_addon",nonce:c.activate_nonce,plugin:a},success:function(a){a&&!0!==a?o.slideDown("normal",function(){r(this).after('<div class="soliloquy-addon-error"><strong>'+a.error+"</strong></div>"),n.next().hide(),r(".soliloquy-addon-error").delay(3e3).slideUp()}):(n.text(c.deactivate).removeClass("soliloquy-activate-addon").addClass("soliloquy-deactivate-addon"),e.text(c.active),o.removeClass("soliloquy-addon-inactive").addClass("soliloquy-addon-active"),n.next().hide())},error:function(a,o,e){n.next().hide()}});r.ajax(a)}),r("#soliloquy-addons-area").on("click.deactivateAddon",".soliloquy-deactivate-addon",function(a){a.preventDefault();var n=r(this),a=n.attr("rel"),o=n.parent().parent(),e=n.parent().parent().find(".addon-status").children("span"),a=(r(".soliloquy-addon-error").remove(),n.text(c.deactivating),n.next().css({display:"inline-block","margin-top":"0px"}),{url:ajaxurl,type:"post",async:!0,cache:!1,dataType:"json",data:{action:"soliloquy_deactivate_addon",nonce:c.deactivate_nonce,plugin:a},success:function(a){a&&!0!==a?o.slideDown("normal",function(){r(this).after('<div class="soliloquy-addon-error"><strong>'+a.error+"</strong></div>"),n.next().hide(),r(".soliloquy-addon-error").delay(3e3).slideUp()}):(n.text(c.activate).removeClass("soliloquy-deactivate-addon").addClass("soliloquy-activate-addon"),e.text(c.inactive),o.removeClass("soliloquy-addon-active").addClass("soliloquy-addon-inactive"),n.next().hide())},error:function(a,o,e){n.next().hide()}});r.ajax(a)}),r("#soliloquy-addons-area").on("click.installAddon",".soliloquy-install-addon",function(a){a.preventDefault();var s=r(this),l=s.attr("rel"),i=s.parent().parent(),d=s.parent().parent().find(".addon-status").children("span"),a=(r(".soliloquy-addon-error").remove(),s.text(c.installing),s.next().css({display:"inline-block","margin-top":"0px"}),{url:ajaxurl,type:"post",async:!0,cache:!1,dataType:"json",data:{action:"soliloquy_install_addon",nonce:c.install_nonce,plugin:l},success:function(a){a.error?i.slideDown("normal",function(){s.parent().parent().after('<div class="soliloquy-addon-error"><strong>'+a.error+"</strong></div>"),s.text(c.install),s.next().hide(),r(".soliloquy-addon-error").delay(4e3).slideUp()}):a.form?(i.slideDown("normal",function(){r(this).after('<div class="soliloquy-addon-error">'+a.form+"</div>"),s.next().hide()}),s.attr("disabled",!0),r("#soliloquy-addons-area").on("click.installCredsAddon","#upgrade",function(a){a.preventDefault(),s.next().hide(),r(this).val(c.installing),r(this).next().css({display:"inline-block","margin-top":"0px"});var a=r(this).parent().parent().find("#hostname").val(),o=r(this).parent().parent().find("#username").val(),e=r(this).parent().parent().find("#password").val(),n=r(this),t=r(this).parent().parent().parent().parent(),a={url:ajaxurl,type:"post",async:!0,cache:!1,dataType:"json",data:{action:"soliloquy_install_addon",nonce:c.install_nonce,plugin:l,hostname:a,username:o,password:e},success:function(a){a.error?i.slideDown("normal",function(){s.parent().parent().after('<div class="soliloquy-addon-error"><strong>'+a.error+"</strong></div>"),s.text(c.install),s.next().hide(),r(".soliloquy-addon-error").delay(4e3).slideUp()}):a.form?(s.next().hide(),r(".soliloquy-inline-error").remove(),r(n).val(c.proceed),r(n).after('<span class="soliloquy-inline-error">'+c.connect_error+"</span>")):(r(t).remove(),s.show(),s.text(c.activate).removeClass("soliloquy-install-addon").addClass("soliloquy-activate-addon"),s.attr("rel",a.plugin),s.removeAttr("disabled"),d.text(c.inactive),i.removeClass("soliloquy-addon-not-installed").addClass("soliloquy-addon-inactive"),s.next().hide())},error:function(a,o,e){s.next().hide()}};r.ajax(a)})):(s.text(c.activate).removeClass("soliloquy-install-addon").addClass("soliloquy-activate-addon"),s.attr("rel",a.plugin),d.text(c.inactive),i.removeClass("soliloquy-addon-not-installed").addClass("soliloquy-addon-inactive"),s.next().hide())},error:function(a,o,e){s.next().hide()}});r.ajax(a)})})})();
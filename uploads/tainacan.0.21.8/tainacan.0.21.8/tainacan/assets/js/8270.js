"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[8270],{35276:(e,t,i)=>{i.d(t,{A:()=>_});var a=i(6934),n=i(40834),r=i(74042),o=i(41229),l=i(31607),s=i(57672),c=i(31757),u=i(34456),d=i(87684);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=h(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a,n,r,o,l=[],s=!0,c=!1;try{if(r=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;s=!1}else for(;!(s=(a=r.call(i)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _={name:"FilterEditionForm",components:{"tainacan-filter-form-date":o.A,"tainacan-filter-form-numeric":l.A,"tainacan-filter-form-numeric-interval":s.A,"tainacan-filter-form-numeric-list-interval":c.A,"tainacan-filter-form-numerics-intersection":u.A,"tainacan-filter-form-dates-intersection":d.A},mixins:[r.X3],props:{index:"",editedFilter:Object,originalFilter:Object,isRepositoryLevel:Boolean},emits:["on-update-saved-state","on-edition-finished","on-edition-canceled","on-error-found"],data:function(){return{form:{},oldForm:{},formErrors:{},formErrorMessage:"",closedByForm:!1,showEditMaxOptions:!1,entityName:"filter",isLoading:!1}},created:function(){this.form=this.editedFilter,this.formErrors=null!=this.form.formErrors?this.form.formErrors:{},this.formErrorMessage=null!=this.form.formErrors?this.form.formErrorMessage:"",this.oldForm=JSON.parse(JSON.stringify(this.originalFilter)),null==this.form.metadatum&&null!=this.oldForm.metadatum&&(this.form.metadatum=this.oldForm.metadatum)},mounted:function(){var e=this;(0,a.dY)().then((function(){e.updateExtraFormData(e.form)}))},beforeUnmount:function(){this.closedByForm?this.$emit("on-update-saved-state",!0):(this.oldForm.saved=this.form.saved,JSON.stringify(this.form)!=JSON.stringify(this.oldForm)?this.$emit("on-update-saved-state",!1):this.$emit("on-update-saved-state",!0))},methods:b(b({},(0,n.i0)("filter",["updateFilter"])),{},{saveEdition:function(e){var t=this;if(this.isLoading=!0,e.filter_type_object&&e.filter_type_object.form_component||""==e.edit_form){for(var i=0,a=Object.entries(this.form);i<a.length;i++){var n=f(a[i],2),r=n[0],o=n[1];"begin_with_filter_collapsed"!==r&&"display_in_repository_level_lists"!==r&&"description_bellow_name"!==r||(this.form[r]="yes"==o||1==o?"yes":"no")}void 0===this.form.begin_with_filter_collapsed&&(this.form.begin_with_filter_collapsed="no"),void 0===this.form.display_in_repository_level_lists&&(this.form.display_in_repository_level_lists="no"),void 0===this.form.description_bellow_name&&(this.form.description_bellow_name="no"),this.updateFilter({filterId:e.id,index:this.index,options:this.form}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var i,a=m(e.errors);try{for(a.s();!(i=a.n()).done;)for(var n=i.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){a.e(e)}finally{a.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}else{var l,s=document.getElementById("filterEditForm"),c={},u=m(new FormData(s).entries());try{for(u.s();!(l=u.n()).done;){var d=f(l.value,2),p=d[0],h=d[1];c[p]="begin_with_filter_collapsed"===p||"display_in_repository_level_lists"===p||"description_bellow_name"===p?"yes"==h||1==h?"yes":"no":h}}catch(e){u.e(e)}finally{u.f()}void 0===c.begin_with_filter_collapsed&&(c.begin_with_filter_collapsed="no"),void 0===c.display_in_repository_level_lists&&(c.display_in_repository_level_lists="no"),void 0===c.description_bellow_name&&(c.description_bellow_name="no"),this.fillExtraFormData(c),this.updateFilter({filterId:e.id,index:this.index,options:c}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var i,a=m(e.errors);try{for(a.s();!(i=a.n()).done;)for(var n=i.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){a.e(e)}finally{a.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}},clearErrors:function(e){this.formErrors[e]=void 0},cancelEdition:function(){this.closedByForm=!0,this.$emit("on-edition-canceled")}})}},85743:(e,t,i)=>{i.d(t,{A:()=>a});const a={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{comparatorsObject:Object,comparators:Array}},created:function(){this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("greater_than"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("less_than"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{comparators:this.comparators})}}}},29868:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(75552);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){r=function(){return t};var e,t={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,i){return e[t]=i}}function p(e,t,i,a){var n=t&&t.prototype instanceof y?t:y,r=Object.create(n.prototype),l=new M(a||[]);return o(r,"_invoke",{value:O(e,i,l)}),r}function m(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",v="executing",g="completed",b={};function y(){}function _(){}function k(){}var w={};d(w,s,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(S([])));x&&x!==i&&a.call(x,s)&&(w=x);var F=k.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function i(r,o,l,s){var c=m(e[r],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,l,s)}),(function(e){i("throw",e,l,s)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return i("throw",e,l,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,a){function n(){return new t((function(t,n){i(e,a,t,n)}))}return r=r?r.then(n,n):n()}})}function O(t,i,a){var n=f;return function(r,o){if(n===v)throw Error("Generator is already running");if(n===g){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var l=a.delegate;if(l){var s=$(l,a);if(s){if(s===b)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===f)throw n=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=v;var c=m(t,i,a);if("normal"===c.type){if(n=a.done?g:h,c.arg===b)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n=g,a.method="throw",a.arg=c.arg)}}}function $(t,i){var a=i.method,n=t.iterator[a];if(n===e)return i.delegate=null,"throw"===a&&t.iterator.return&&(i.method="return",i.arg=e,$(t,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),b;var r=m(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,b;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,b):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(t){if(t||""===t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){for(;++r<t.length;)if(a.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=k,o(F,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:_,configurable:!0}),_.displayName=d(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,d(e,u,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},E(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,i,a,n,r){void 0===r&&(r=Promise);var o=new C(p(e,i,a,n),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(F),d(F,u,"Generator"),d(F,s,(function(){return this})),d(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var a in t)i.push(a);return i.reverse(),function e(){for(;i.length;){var a=i.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(a,n){return l.type="throw",l.arg=t,i.next=a,n&&(i.method="next",i.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),V(i),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var a=i.completion;if("throw"===a.type){var n=a.arg;V(i)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,i,a){return this.delegate={iterator:S(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=e),b}},t}function o(e,t,i,a,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void i(e)}l.done?t(s):Promise.resolve(s).then(a,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondDateMetadatumId:[Number,String],secondDateMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptDateInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.secondDateMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondDateMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptDateInterval=this.modelValue&&this.modelValue.accept_date_interval?this.modelValue.accept_date_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("after")},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day")},"<":{symbol:"&#60;",label:this.$i18n.get("before")},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=r().mark((function e(){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",i+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Date&nopaging=1&exclude="+t.filter.metadatum_id,e.next=4,a.UY.get(i).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(a,n){var r=e.apply(t,i);function l(e){o(r,a,n,l,s,"next",e)}function s(e){o(r,a,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondDateMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondDateMetadatumId}));this.secondDateMetadatumName=t?t.name:"",this.secondDateMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondDateMetadatumId,secondary_filter_metadatum_name:this.secondDateMetadatumName,accept_date_interval:this.acceptDateInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},76384:(e,t,i)=>{i.d(t,{A:()=>a});const a={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1},methods:{onUpdateStep:function(e){this.$emit("update:model-value",{step:e})}}}},38835:(e,t,i)=>{i.d(t,{A:()=>a});const a={props:{filter:Object,modelValue:Object,id:"",disabled:!1},emits:["update:model-value"],data:function(){return{showIntervalOnTag:!0,intervals:[],isValid:!0}},created:function(){this.intervals=this.modelValue&&this.modelValue.intervals&&this.modelValue.intervals.length>0?this.modelValue.intervals:[{label:"",to:null,from:null}],this.showIntervalOnTag=!this.modelValue||null==this.modelValue.showIntervalOnTag||this.modelValue.showIntervalOnTag},methods:{onUpdate:_.debounce((function(e,t){null!=t&&1==t&&(null==e.to||null==e.from||""==e.to||""==e.from||Number(e.to)<Number(e.from))?(this.isValid=!1,""!=e.to&&""!=e.from&&null!=e.to&&null!=e.from&&this.showErrorMessage()):(this.isValid=!0,this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag}))}),600),onUpdateShowIntervalOnTag:function(){this.isValid&&this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag})},showErrorMessage:function(){this.$buefy.toast.open({duration:3e3,message:this.$i18n.get("info_error_first_value_greater"),position:"is-bottom",type:"is-danger"})},removeInterval:function(e){this.intervals.splice(e,1)},addInterval:function(e){null!=e?this.intervals.splice(e+1,0,{label:"",to:null,from:null}):this.intervals.push({label:"",to:null,from:null})}}}},12217:(e,t,i)=>{i.d(t,{A:()=>a});const a={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,comparatorsObject:Object,comparators:Array}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("after"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("before"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{step:this.step,comparators:this.comparators})}}}},95996:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(75552);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){r=function(){return t};var e,t={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(e,t,i){e[t]=i.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,i){return e[t]=i}}function p(e,t,i,a){var n=t&&t.prototype instanceof y?t:y,r=Object.create(n.prototype),l=new M(a||[]);return o(r,"_invoke",{value:O(e,i,l)}),r}function m(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",v="executing",g="completed",b={};function y(){}function _(){}function k(){}var w={};d(w,s,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(S([])));x&&x!==i&&a.call(x,s)&&(w=x);var F=k.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function i(r,o,l,s){var c=m(e[r],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,l,s)}),(function(e){i("throw",e,l,s)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return i("throw",e,l,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,a){function n(){return new t((function(t,n){i(e,a,t,n)}))}return r=r?r.then(n,n):n()}})}function O(t,i,a){var n=f;return function(r,o){if(n===v)throw Error("Generator is already running");if(n===g){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var l=a.delegate;if(l){var s=$(l,a);if(s){if(s===b)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===f)throw n=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=v;var c=m(t,i,a);if("normal"===c.type){if(n=a.done?g:h,c.arg===b)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n=g,a.method="throw",a.arg=c.arg)}}}function $(t,i){var a=i.method,n=t.iterator[a];if(n===e)return i.delegate=null,"throw"===a&&t.iterator.return&&(i.method="return",i.arg=e,$(t,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),b;var r=m(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,b;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,b):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(t){if(t||""===t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){for(;++r<t.length;)if(a.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=k,o(F,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:_,configurable:!0}),_.displayName=d(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,d(e,u,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},E(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,i,a,n,r){void 0===r&&(r=Promise);var o=new C(p(e,i,a,n),r);return t.isGeneratorFunction(i)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(F),d(F,u,"Generator"),d(F,s,(function(){return this})),d(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var a in t)i.push(a);return i.reverse(),function e(){for(;i.length;){var a=i.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(a,n){return l.type="throw",l.arg=t,i.next=a,n&&(i.method="next",i.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),V(i),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var a=i.completion;if("throw"===a.type){var n=a.arg;V(i)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,i,a){return this.delegate={iterator:S(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=e),b}},t}function o(e,t,i,a,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void i(e)}l.done?t(s):Promise.resolve(s).then(a,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondNumericMetadatumId:[Number,String],secondNumericMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptNumericInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.secondNumericMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondNumericMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptNumericInterval=this.modelValue&&this.modelValue.accept_numeric_interval?this.modelValue.accept_numeric_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("greater_than")},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to")},"<":{symbol:"&#60;",label:this.$i18n.get("less_than")},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=r().mark((function e(){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",i+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Numeric&nopaging=1&exclude="+t.filter.metadatum_id,e.next=4,a.UY.get(i).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(a,n){var r=e.apply(t,i);function l(e){o(r,a,n,l,s,"next",e)}function s(e){o(r,a,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondNumericMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondNumericMetadatumId}));this.secondNumericMetadatumName=t?t.name:"",this.secondNumericMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{step:this.step,first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondNumericMetadatumId,secondary_filter_metadatum_name:this.secondNumericMetadatumName,accept_numeric_interval:this.acceptNumericInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},97062:(e,t,i)=>{i.d(t,{A:()=>f});var a=i(6934),n=i(40834),r=i(56392),o=i(3012),l=i(48766);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return u(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const f={name:"FiltersPage",components:{FilterEditionForm:r.A,Sortable:l.L},beforeRouteLeave:function(e,t,i){var a=this,n=!1;for(var r in this.editForms)this.editForms[r].saved||(n=!0);""!=this.openedFilterId&&null!=this.openedFilterId||n?this.$buefy.modal.open({parent:this,component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_filters_not_saved"),onConfirm:function(){a.onEditionCanceled(),i()}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")}):i()},data:function(){return{isRepositoryLevel:!1,collectionId:"",isDraggingFromAvailable:!1,isLoadingMetadatumTypes:!0,isLoadingFilters:!1,isLoadingFilterTypes:!1,isLoadingFilter:!1,isSelectingFilterType:!1,isUpdatingFiltersOrder:!1,openedFilterId:"",formWithErrors:"",editForms:{},allowedFilterTypes:[],selectedFilterType:{},choosenMetadatum:{},newFilterIndex:0,availableMetadata:[],filterTypes:[],currentFilterTypePreview:void 0,columnsTopY:0,filtersSearchCancel:void 0,metadataSearchCancel:void 0,filterNameFilterString:"",metadatumNameFilterString:""}},computed:p(p({},(0,n.L8)("collection",{collection:"getCollection"})),{},{activeFiltersList:{get:function(){return this.getFilters()},set:function(e){this.updateFilters(e)}}}),watch:{"$route.query":{handler:function(e){if(null!=e.edit){var t=this.activeFiltersList.findIndex((function(t){return t.id==e.edit}));t>=0&&this.editFilter(this.activeFiltersList[t])}},immediate:!0,deep:!0}},created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},mounted:function(){var e=this;this.isRepositoryLevel||this.$emitter.emit("onCollectionBreadCrumbUpdate",[{path:"",label:this.$i18n.get("filter")}]),(0,a.dY)((function(){e.columnsTopY=e.$refs.filterEditionPageColumns?e.$refs.filterEditionPageColumns.getBoundingClientRect().top:0})),this.isRepositoryLevel?this.collectionId="default":this.collectionId=this.$route.params.collectionId,this.isLoadingFilterTypes=!0,this.fetchFilterTypes().then((function(t){e.isLoadingFilterTypes=!1,e.filterTypes=t})).catch((function(){e.isLoadingFilterTypes=!1})),null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Filters search Canceled."),this.refreshFilters(),this.$refs.filterTypeModal.onCancel=function(){e.onCancelFilterTypeSelection()}},beforeUnmount:function(){null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Metadata search Canceled."),null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:p(p(p(p(p({},(0,n.i0)("filter",["fetchFilterTypes","fetchFilters","sendFilter","deleteFilter","updateFilters","updateCollectionFiltersOrder","moveFilterUp","moveFilterDown"])),(0,n.L8)("filter",["getFilters"])),(0,n.i0)("metadata",["fetchMetadata"])),(0,n.L8)("metadata",["getMetadata"])),{},{handleChangeOnFilter:function(e){switch(e.type){case"add":this.prepareFilterTypeSelection(this.availableMetadata[e.oldIndex],e.newIndex);break;case"remove":this.removeFilter(this.activeFiltersList[e.oldIndex]);break;case"change":case"update":var t=JSON.parse(JSON.stringify(this.activeFiltersList)),i=t.splice(e.oldIndex,1)[0];t.splice(e.newIndex,0,i),this.updateFilters(t),this.isRepositoryLevel||this.updateFiltersOrder()}},prepareFilterTypeSelection:function(e,t){this.choosenMetadatum=e,this.newFilterIndex=t,this.allowedFilterTypes=[],this.selectedFilterType={};var i,a=c(this.filterTypes);try{for(a.s();!(i=a.n()).done;){var n,r=i.value,o=c(r.supported_types);try{for(o.s();!(n=o.n()).done;){var l=n.value;e.metadata_type_object.primitive_type==l&&this.allowedFilterTypes.push(r)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}this.isSelectingFilterType=!0},addMetadatumViaButton:function(e,t){this.oldMetadatumIndex=t,this.availableMetadata.splice(t,1);var i=this.activeFiltersList.length;this.prepareFilterTypeSelection(e,i)},onFilterTypeSelected:function(e){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType=e,this.createChoosenFilter()},onCancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType={},this.availableMetadata.splice(this.oldMetadatumIndex,0,this.choosenMetadatum),this.choosenMetadatum={},this.activeFiltersList.splice(this.newFilterIndex,1)},handleChangeOnMetadata:function(e){"removed"==e.type&&(this.oldMetadatumIndex=e.removed.oldIndex)},updateFiltersOrder:function(){var e,t=this,i=[],a=c(this.activeFiltersList);try{for(a.s();!(e=a.n()).done;){var n=e.value;i.push({id:n.id,enabled:n.enabled})}}catch(e){a.e(e)}finally{a.f()}this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:i}).then((function(){t.isUpdatingFiltersOrder=!1})).catch((function(){t.isUpdatingFiltersOrder=!1}))},updateListOfMetadata:function(){var e,t=JSON.parse(JSON.stringify(this.getMetadata())),i={},a="",n=c(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;i[""+r.id]=r.name}}catch(e){n.e(e)}finally{n.f()}var o,l=c(t);try{for(l.s();!(o=l.n()).done;){var s=o.value;s.parent>0&&i[s.parent]&&(s.parent_name=i[s.parent],a!==s.parent_name&&(s.first_child=!0),a=s.parent_name)}}catch(e){l.e(e)}finally{l.f()}var u,d=c(this.activeFiltersList);try{for(d.s();!(u=d.n()).done;)for(var p=u.value,m=t.length-1;m>=0;m--)null!=p.metadatum&&p.metadatum.metadatum_id==t[m].id&&t.splice(m,1)}catch(e){d.e(e)}finally{d.f()}this.availableMetadata=t.filter((function(e){return"tainacan-compound"!=e.metadata_type_object.component&&"tainacan-geocoordinate"!=e.metadata_type_object.component}))},onChangeEnable:function(e,t){var i,a=this,n=[],r=c(this.activeFiltersList);try{for(r.s();!(i=r.n()).done;){var o=i.value;n.push({id:o.id,enabled:o.enabled})}}catch(e){r.e(e)}finally{r.f()}n[t].enabled=e,this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:n}).then((function(){a.isUpdatingFiltersOrder=!1})).catch((function(){a.isUpdatingFiltersOrder=!1}))},createChoosenFilter:function(){var e=this;this.sendFilter({collectionId:this.collectionId,metadatumId:this.choosenMetadatum.id,name:this.choosenMetadatum.parent_name?this.choosenMetadatum.name+" ("+this.choosenMetadatum.parent_name+")":this.choosenMetadatum.name,filterType:this.selectedFilterType.className,status:"auto-draft",isRepositoryLevel:this.isRepositoryLevel,newIndex:this.newFilterIndex}).then((function(t){e.isRepositoryLevel||e.updateFiltersOrder(),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[],e.toggleFilterEdition(t.id)})).catch((function(t){e.$console.error(t),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[]}))},removeFilter:function(e){var t=this;this.editForms[e.id]&&delete this.editForms[e.id],this.deleteFilter(e.id).then((function(){t.updateListOfMetadata()})).catch((function(e){t.$console.log(e)})),this.isRepositoryLevel||this.updateFiltersOrder()},confirmSelectedFilterType:function(){this.isSelectingFilterType=!1,this.createChoosenFilter()},cancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.availableMetadata.push(this.choosenMetadatum),this.choosenMetadatum={},this.allowedFilterTypes=[],this.selectedFilterType={},this.newFilterIndex=0},toggleFilterEdition:function(e){this.openedFilterId==e?(this.openedFilterId="",this.$router.push({query:{}})):this.$router.push({query:{edit:e}})},editFilter:function(e){this.openedFilterId=e.id,null==this.editForms[this.openedFilterId]&&(this.editForms[this.openedFilterId]=JSON.parse(JSON.stringify(e)),this.editForms[this.openedFilterId].saved=!0,"auto-draft"==this.editForms[this.openedFilterId].status&&(this.editForms[this.openedFilterId].status="publish",this.editForms[this.openedFilterId].saved=!1))},onEditionFinished:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},moveFilterUpViaButton:function(e){this.moveFilterUp(e),this.updateFiltersOrder()},moveFilterDownViaButton:function(e){this.moveFilterDown(e),this.updateFiltersOrder()},getProperPreviewMinHeight:function(){var e,t=c(this.allowedFilterTypes);try{for(t.s();!(e=t.n()).done;){var i=e.value;if("tainacan-filter-taginput"==i.component||"tainacan-filter-checkbox"==i.component||"tainacan-filter-taxonomy-taginput"==i.component||"tainacan-filter-taxonomy-checkbox"==i.component)return 330}}catch(e){t.e(e)}finally{t.f()}return 190},refreshFilters:function(){var e=this;this.isLoadingFilters=!0,this.fetchFilters({collectionId:this.collectionId,isRepositoryLevel:this.isRepositoryLevel,isContextEdit:!this.isOnTheme,includeDisabled:!0}).then((function(t){t.request.then((function(){if(e.isLoadingFilters=!1,e.isLoadingMetadatumTypes=!0,null!=e.$route.query.edit){var t=e.activeFiltersList.findIndex((function(t){return t.id==e.$route.query.edit}));t>=0&&e.editFilter(e.activeFiltersList[t])}null!=e.metadataSearchCancel&&e.metadataSearchCancel.cancel("Metadata search Canceled."),e.fetchMetadata({collectionId:e.collectionId,isRepositoryLevel:e.isRepositoryLevel,isContextEdit:!0,parent:"any",includeControlMetadataTypes:!0}).then((function(t){t.request.then((function(){e.isLoadingMetadatumTypes=!1,e.updateListOfMetadata()})).catch((function(){e.isLoadingMetadatumTypes=!1})),e.metadataSearchCancel=t.source})).catch((function(){return e.isLoadingMetadatumTypes=!1}))})).catch((function(){return e.isLoadingFilters=!1})),e.filtersSearchCancel=t.source})).catch((function(){return e.isLoadingFilters=!1}))}})}},76145:(e,t,i)=>{i.d(t,{X:()=>S});var a=i(6934),n=function(e){return(0,a.Qi)("data-v-504324c7"),e=e(),(0,a.jt)(),e},r={class:"options-columns"},o={class:"label is-inline"},l=["innerHTML"],s={class:"label is-inline"},c={class:"label is-inline"},u={class:"label is-inline"},d={class:"inline-block"},p=n((function(){return(0,a.Lk)("span",{class:"icon has-text-gray3"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-public"})],-1)})),m=n((function(){return(0,a.Lk)("br",null,null,-1)})),f=n((function(){return(0,a.Lk)("span",{class:"icon has-text-gray3"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-private"})],-1)})),h={class:"label is-inline"},v={key:0,class:"is-flex"},g=n((function(){return(0,a.Lk)("option",{value:"4"}," 4 ",-1)})),b=n((function(){return(0,a.Lk)("option",{value:"8"}," 8 ",-1)})),y=n((function(){return(0,a.Lk)("option",{value:"12"}," 12 ",-1)})),_=["value"],k=["aria-label"],w={class:"icon"},L=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],x={key:1,class:"is-flex"},F={class:"icon"},E=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)}))],C=["innerHTML"],O=["innerHTML"],$={class:"field is-grouped form-submit"},T={class:"control"},V={class:"control"},M={class:"help is-danger"};function S(e,t,i,n,S,I){var X=(0,a.g2)("help-button"),H=(0,a.g2)("b-input"),A=(0,a.g2)("b-field"),j=(0,a.g2)("b-switch"),N=(0,a.g2)("b-radio"),U=(0,a.g2)("b-select"),D=(0,a.g2)("b-button"),P=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("form",{id:"filterEditForm",class:"tainacan-form",onSubmit:t[22]||(t[22]=(0,a.D$)((function(e){return I.saveEdition(S.form)}),["prevent"]))},[(0,a.Lk)("div",r,[(0,a.bF)(A,{addons:!1,type:null!=S.formErrors.name?"is-danger":"",message:null!=S.formErrors.name?S.formErrors.name:""},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",o,[(0,a.eW)((0,a.v_)(e.$i18n.get("label_name"))+" ",1),(0,a.Lk)("span",{class:(0,a.C4)(["required-metadatum-asterisk",null!=S.formErrors.name?"is-danger":""])},"*",2),(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","name"),message:e.$i18n.getHelperMessage("filters","name")},null,8,["title","message"])]),(0,a.bF)(H,{modelValue:S.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.form.name=e}),name:"name",onFocus:t[1]||(t[1]=function(e){return I.clearErrors("name")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),e.hasBeginLeftForm?((0,a.uX)(),(0,a.CE)("form",{key:0,id:"form-filter-begin-left",class:"form-hook-region",innerHTML:e.getBeginLeftForm},null,8,l)):(0,a.Q3)("",!0),(0,a.bF)(A,{addons:!1,type:null!=S.formErrors.description?"is-danger":"",message:null!=S.formErrors.description?S.formErrors.description:""},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",s,[(0,a.eW)((0,a.v_)(e.$i18n.get("label_description"))+" ",1),(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","description"),message:e.$i18n.getHelperMessage("filters","description")},null,8,["title","message"])]),(0,a.bF)(H,{modelValue:S.form.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.form.description=e}),type:"textarea",name:"description",rows:3,onFocus:t[3]||(t[3]=function(e){return I.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,a.bF)(A,{addons:!1,label:e.$i18n.getHelperTitle("filters","description_bellow_name"),type:null!=S.formErrors.description_bellow_name?"is-danger":"",message:null!=S.formErrors.description_bellow_name?S.formErrors.description_bellow_name:""},{default:(0,a.k6)((function(){return[(0,a.eW)(" Â  "),(0,a.bF)(j,{modelValue:S.form.description_bellow_name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return S.form.description_bellow_name=e}),t[5]||(t[5]=function(e){return I.clearErrors("description_bellow_name")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.description_bellow_name?"yes":"no",name:"description_bellow_name"},{default:(0,a.k6)((function(){return[(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","description_bellow_name"),message:e.$i18n.getHelperMessage("filters","description_bellow_name"),"extra-classes":i.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),S.form.filter_type_object.use_input_placeholder?((0,a.uX)(),(0,a.Wv)(A,{key:1,addons:!1,type:null!=S.formErrors.placeholder?"is-danger":"",message:null!=S.formErrors.placeholder?S.formErrors.placeholder:""},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",c,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("filters","placeholder"))+" ",1),(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","placeholder"),message:e.$i18n.getHelperMessage("filters","placeholder"),"extra-classes":i.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]),(0,a.bF)(H,{modelValue:S.form.placeholder,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.form.placeholder=e}),name:"placeholder",onFocus:t[7]||(t[7]=function(e){return I.clearErrors("placeholder")})},null,8,["modelValue"])]})),_:1},8,["type","message"])):(0,a.Q3)("",!0),(0,a.bF)(A,{addons:!1,type:null!=S.formErrors.status?"is-danger":"",message:null!=S.formErrors.status?S.formErrors.status:""},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",u,[(0,a.eW)((0,a.v_)(e.$i18n.get("label_status"))+" ",1),(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","status"),message:e.$i18n.getHelperMessage("filters","status")},null,8,["title","message"])]),(0,a.Lk)("div",d,[(0,a.bF)(N,{id:"tainacan-select-status-publish",modelValue:S.form.status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return S.form.status=e}),name:"status","native-value":"publish",onFocus:t[9]||(t[9]=function(e){return I.clearErrors("label_status")})},{default:(0,a.k6)((function(){return[p,(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("status_public")),1)]})),_:1},8,["modelValue"]),m,(0,a.bF)(N,{id:"tainacan-select-status-private",modelValue:S.form.status,"onUpdate:modelValue":t[10]||(t[10]=function(e){return S.form.status=e}),name:"status","native-value":"private",onFocus:t[11]||(t[11]=function(e){return I.clearErrors("label_status")})},{default:(0,a.k6)((function(){return[f,(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("status_private")),1)]})),_:1},8,["modelValue"])])]})),_:1},8,["type","message"]),S.form.filter_type_object&&S.form.filter_type_object.use_max_options?((0,a.uX)(),(0,a.Wv)(A,{key:2,addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",h,[(0,a.eW)((0,a.v_)(e.$i18n.get("label_max_options_to_show"))+" ",1),(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","max_options"),message:e.$i18n.getHelperMessage("filters","max_options")},null,8,["title","message"])]),S.showEditMaxOptions?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(U,{modelValue:S.form.max_options,"onUpdate:modelValue":t[12]||(t[12]=function(e){return S.form.max_options=e}),name:"max_options",placeholder:e.$i18n.get("instruction_select_max_options_to_show")},{default:(0,a.k6)((function(){return[g,b,y,S.form.max_options&&![4,8,12].find((function(e){return e==S.form.max_options}))?((0,a.uX)(),(0,a.CE)("option",{key:0,value:S.form.max_options},(0,a.v_)(S.form.max_options),9,_)):(0,a.Q3)("",!0)]})),_:1},8,["modelValue","placeholder"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.getFrom("items","edit_item"),onClick:t[13]||(t[13]=(0,a.D$)((function(e){return S.showEditMaxOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",w,L)),[[P,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,k)])),S.showEditMaxOptions?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(H,{modelValue:S.form.max_options,"onUpdate:modelValue":t[14]||(t[14]=function(e){return S.form.max_options=e}),name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[15]||(t[15]=(0,a.D$)((function(e){return S.showEditMaxOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",F,E)),[[P,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,a.Q3)("",!0)]})),_:1})):(0,a.Q3)("",!0),(0,a.bF)(A,{addons:!1,label:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),type:null!=S.formErrors.begin_with_filter_collapsed?"is-danger":"",message:null!=S.formErrors.begin_with_filter_collapsed?S.formErrors.begin_with_filter_collapsed:""},{default:(0,a.k6)((function(){return[(0,a.eW)(" Â  "),(0,a.bF)(j,{modelValue:S.form.begin_with_filter_collapsed,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return S.form.begin_with_filter_collapsed=e}),t[17]||(t[17]=function(e){return I.clearErrors("begin_with_filter_collapsed")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.begin_with_filter_collapsed?"yes":"no",name:"begin_with_filter_collapsed"},{default:(0,a.k6)((function(){return[(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),message:e.$i18n.getHelperMessage("filters","begin_with_filter_collapsed"),"extra-classes":i.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),S.form.collection_id&&"default"!==S.form.collection_id?((0,a.uX)(),(0,a.Wv)(A,{key:3,addons:!1,label:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),type:null!=S.formErrors.display_in_repository_level_lists?"is-danger":"",message:null!=S.formErrors.display_in_repository_level_lists?S.formErrors.display_in_repository_level_lists:""},{default:(0,a.k6)((function(){return[(0,a.eW)(" Â  "),(0,a.bF)(j,{modelValue:S.form.display_in_repository_level_lists,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return S.form.display_in_repository_level_lists=e}),t[19]||(t[19]=function(e){return I.clearErrors("display_in_repository_level_lists")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.display_in_repository_level_lists?"yes":"no",name:"display_in_repository_level_lists"},{default:(0,a.k6)((function(){return[(0,a.bF)(X,{title:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),message:e.$i18n.getHelperMessage("filters","display_in_repository_level_lists"),"extra-classes":i.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"])):(0,a.Q3)("",!0),S.form.filter_type_object&&S.form.filter_type_object.form_component||""==S.form.edit_form?((0,a.uX)(),(0,a.Wv)((0,a.$y)(S.form.filter_type_object.form_component),{key:4,modelValue:S.form.filter_type_options,"onUpdate:modelValue":t[20]||(t[20]=function(e){return S.form.filter_type_options=e}),errors:S.formErrors.filter_type_options,filter:S.form},null,8,["modelValue","errors","filter"])):((0,a.uX)(),(0,a.CE)("div",{key:5,innerHTML:S.form.edit_form},null,8,C)),e.hasEndLeftForm?((0,a.uX)(),(0,a.CE)("form",{key:6,id:"form-filter-end-left",class:"form-hook-region",innerHTML:e.getEndLeftForm},null,8,O)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",$,[(0,a.Lk)("div",T,[(0,a.Lk)("button",{type:"button",class:"button is-outlined",onClick:t[21]||(t[21]=(0,a.D$)((function(e){return I.cancelEdition()}),["prevent"]))},(0,a.v_)(e.$i18n.get("cancel")),1)]),(0,a.Lk)("div",V,[(0,a.bF)(D,{loading:S.isLoading,class:"button is-success","native-type":"submit"},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("save")),1)]})),_:1},8,["loading"])])]),(0,a.Lk)("p",M,(0,a.v_)(S.formErrorMessage),1)],32)}},40172:(e,t,i)=>{i.d(t,{X:()=>l});var a=i(6934),n={class:"label is-inline"},r=(0,a.Lk)("span",null,"Â *Â ",-1),o=["innerHTML"];function l(e,t,i,l,s,c){var u=(0,a.g2)("help-button"),d=(0,a.g2)("b-checkbox"),p=(0,a.g2)("b-field");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(p,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",n,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-date","comparators")),1),r,(0,a.bF)(u,{title:e.$i18n.getHelperTitle("tainacan-filter-date","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-date","comparators")},null,8,["title","message"])]),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.comparatorsObject,(function(e,i){return(0,a.uX)(),(0,a.Wv)(d,{key:i,modelValue:s.comparators,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return s.comparators=e}),t[1]||(t[1]=function(e){return c.emitValues()})],"native-value":i,disabled:s.comparators.indexOf(i)>=0&&s.comparators.length<=1,name:"date_filter_options[comparators]"},{default:(0,a.k6)((function(){return[(0,a.Lk)("span",{innerHTML:e.symbol+"Â "+e.label},null,8,o)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},9976:(e,t,i)=>{i.d(t,{X:()=>F});var a=i(6934),n=function(e){return(0,a.Qi)("data-v-9b609966"),e=e(),(0,a.jt)(),e},r={class:"label is-inline"},o={style:{"font-size":"1.35em"}},l={value:""},s=["value"],c={key:0,class:"intersection-explainer-section"},u={style:{"font-size":"1.35em"}},d=["value","innerHTML"],p=["innerHTML"],m={key:2},f={class:"icon"},h=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],v={class:"icon"},g=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)}))],b={class:"logic-divider"},y=["value","innerHTML"],_=["innerHTML"],k={class:"icon"},w=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],L={class:"icon"},x=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)}))];function F(e,t,i,n,F,E){var C=(0,a.g2)("help-button"),O=(0,a.g2)("b-select"),$=(0,a.g2)("b-field"),T=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)($,{addons:!1,type:F.metadataType,message:F.metadataMessage},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",r,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")),1),(0,a.Lk)("span",{class:(0,a.C4)(F.metadataType)},"Â *Â ",2),(0,a.Lk)("span",o,[(0,a.bF)(C,{title:e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])])]),(0,a.bF)(O,{modelValue:F.secondDateMetadatumId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return F.secondDateMetadatumId=e}),name:"dates_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_date_to_compare"),loading:F.loading,expanded:"",onChange:t[1]||(t[1]=function(e){return E.onUpdateSecondDateMetadatumId()}),onFocus:t[2]||(t[2]=function(e){return E.clear()})},{default:(0,a.k6)((function(){return[(0,a.Lk)("option",l,(0,a.v_)(e.$i18n.get("instruction_select_second_date_to_compare")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.metadata.filter((function(e){return e.id!=i.filter.metadatum_id})),(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.name),9,s)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),F.secondDateMetadatumId?((0,a.uX)(),(0,a.CE)("fieldset",c,[(0,a.Lk)("legend",null,[(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,a.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,a.Lk)("span",u,[(0,a.bF)(C,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,a.bF)($,{addons:!1},{default:(0,a.k6)((function(){return[F.showEditFirstComparatorOptions?((0,a.uX)(),(0,a.Wv)(O,{key:0,modelValue:F.firstComparator,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return F.firstComparator=e}),t[4]||(t[4]=function(e){return E.emitValues()})]},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.comparatorsObject,(function(e,t){return(0,a.uX)(),(0,a.CE)("option",{key:t,value:t,innerHTML:e.symbol+"Â "+e.label},null,8,d)})),128))]})),_:1},8,["modelValue"])):((0,a.uX)(),(0,a.CE)("strong",{key:1,innerHTML:F.comparatorsObject[F.firstComparator].symbol},null,8,p)),i.filter.metadatum?((0,a.uX)(),(0,a.CE)("p",m,[(0,a.eW)(" Â  "),(0,a.Lk)("em",null,(0,a.v_)(i.filter.metadatum.metadatum_name),1)])):(0,a.Q3)("",!0),F.showEditFirstComparatorOptions?((0,a.uX)(),(0,a.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[6]||(t[6]=(0,a.D$)((function(e){return F.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",v,g)),[[T,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,a.uX)(),(0,a.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,a.D$)((function(e){return F.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",f,h)),[[T,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,a.Lk)("div",b,[(0,a.Lk)("span",null,(0,a.v_)(e.$i18n.get("label_and")),1)]),(0,a.bF)($,{addons:!1},{default:(0,a.k6)((function(){return[F.showEditSecondComparatorOptions?((0,a.uX)(),(0,a.Wv)(O,{key:0,modelValue:F.secondComparator,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return F.secondComparator=e}),t[8]||(t[8]=function(e){return E.emitValues()})]},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.comparatorsObject,(function(e,t){return(0,a.uX)(),(0,a.CE)("option",{key:t,value:t,innerHTML:e.symbol+"Â "+e.label},null,8,y)})),128))]})),_:1},8,["modelValue"])):((0,a.uX)(),(0,a.CE)("strong",{key:1,innerHTML:F.comparatorsObject[F.secondComparator].symbol},null,8,_)),(0,a.Lk)("p",null,[(0,a.eW)("Â "),(0,a.Lk)("em",null,(0,a.v_)(F.secondDateMetadatumName),1)]),F.showEditSecondComparatorOptions?((0,a.uX)(),(0,a.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[10]||(t[10]=(0,a.D$)((function(e){return F.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",L,x)),[[T,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,a.uX)(),(0,a.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[9]||(t[9]=(0,a.D$)((function(e){return F.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",k,w)),[[T,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,a.Q3)("",!0)])}},55621:(e,t,i)=>{i.d(t,{X:()=>L});var a=i(6934),n={class:"label is-inline"},r=(0,a.Lk)("span",null,"Â *Â ",-1),o={key:0,class:"is-flex"},l=(0,a.Lk)("option",{value:"0.001"}," 0.001 ",-1),s=(0,a.Lk)("option",{value:"0.01"}," 0.01 ",-1),c=(0,a.Lk)("option",{value:"0.1"}," 0.1 ",-1),u=(0,a.Lk)("option",{value:"1"}," 1 ",-1),d=(0,a.Lk)("option",{value:"2"}," 2 ",-1),p=(0,a.Lk)("option",{value:"5"}," 5 ",-1),m=(0,a.Lk)("option",{value:"10"}," 10 ",-1),f=(0,a.Lk)("option",{value:"100"}," 100 ",-1),h=(0,a.Lk)("option",{value:"1000"}," 1000 ",-1),v=["value"],g=["aria-label"],b={class:"icon"},y=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)],_={key:1,class:"is-flex"},k={class:"icon"},w=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)];function L(e,t,i,L,x,F){var E=(0,a.g2)("help-button"),C=(0,a.g2)("b-select"),O=(0,a.g2)("b-input"),$=(0,a.g2)("b-field"),T=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)($,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",n,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),r,(0,a.bF)(E,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])]),x.showEditStepOptions?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(C,{modelValue:x.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return x.step=e}),F.onUpdateStep],name:"step_options"},{default:(0,a.k6)((function(){return[l,s,c,u,d,p,m,f,h,x.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==x.step}))?((0,a.uX)(),(0,a.CE)("option",{key:0,value:x.step},(0,a.v_)(x.step),9,v)):(0,a.Q3)("",!0)]})),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[1]||(t[1]=(0,a.D$)((function(e){return x.showEditStepOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",b,y)),[[T,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,g)])),x.showEditStepOptions?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(O,{modelValue:x.step,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return x.step=e}),F.onUpdateStep],name:"max_options",type:"number",step:"1"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[3]||(t[3]=(0,a.D$)((function(e){return x.showEditStepOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",k,w)),[[T,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,a.Q3)("",!0)]})),_:1})])}},294:(e,t,i)=>{i.d(t,{X:()=>h});var a=i(6934),n=function(e){return(0,a.Qi)("data-v-ffeff5ce"),e=e(),(0,a.jt)(),e},r={class:"label is-inline"},o=n((function(){return(0,a.Lk)("span",null,"Â ",-1)})),l={class:"label is-inline"},s=n((function(){return(0,a.Lk)("span",null,"Â ",-1)})),c={class:"control"},u=["title","onClick"],d=n((function(){return(0,a.Lk)("span",{class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)})),p={key:0,class:"control"},m=["title","onClick"],f=n((function(){return(0,a.Lk)("span",{class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-repprovedcircle"})],-1)}));function h(e,t,i,n,h,v){var g=(0,a.g2)("help-button"),b=(0,a.g2)("b-checkbox"),y=(0,a.g2)("b-field"),_=(0,a.g2)("b-input");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(y,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",r,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag")),1),o,(0,a.bF)(g,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","showIntervalOnTag")},null,8,["title","message"])]),(0,a.Lk)("div",null,[(0,a.bF)(y,null,{default:(0,a.k6)((function(){return[(0,a.bF)(b,{modelValue:h.showIntervalOnTag,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return h.showIntervalOnTag=e}),v.onUpdateShowIntervalOnTag]},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("info_show_interval_on_tag")),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])]})),_:1})])]})),_:1}),(0,a.bF)(y,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",l,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals")),1),s,(0,a.bF)(g,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","intervals")},null,8,["title","message"])]),(0,a.bF)(a.F,{name:"filter-item"},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(h.intervals,(function(t,i){return(0,a.uX)(),(0,a.CE)("div",{key:0+i,class:"options-input"},[(0,a.bF)(y,null,{default:(0,a.k6)((function(){return[(0,a.bF)(_,{modelValue:t.label,"onUpdate:modelValue":[function(e){return t.label=e},function(e){return v.onUpdate(t)}],expanded:"",placeholder:e.$i18n.get("label")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,a.bF)(y,null,{default:(0,a.k6)((function(){return[(0,a.bF)(_,{modelValue:t.from,"onUpdate:modelValue":[function(e){return t.from=e},function(e){return v.onUpdate(t,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_initial_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,a.bF)(_,{modelValue:t.to,"onUpdate:modelValue":[function(e){return t.to=e},function(e){return v.onUpdate(t,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_final_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,a.Lk)("p",c,[(0,a.Lk)("a",{role:"button",class:"add-link",title:e.$i18n.get("add_value"),onClick:function(e){return v.addInterval(i)}},[d,(0,a.eW)(" Â "+(0,a.v_)(e.$i18n.get("add_value")),1)],8,u)]),h.intervals.length>1?((0,a.uX)(),(0,a.CE)("p",p,[(0,a.Lk)("a",{role:"button",class:"add-link",title:e.$i18n.get("remove_value"),onClick:function(e){return v.removeInterval(i)}},[f,(0,a.eW)(" Â "+(0,a.v_)(e.$i18n.get("remove_value")),1)],8,m)])):(0,a.Q3)("",!0)])})),128))]})),_:1})]})),_:1})])}},6443:(e,t,i)=>{i.d(t,{X:()=>E});var a=i(6934),n={class:"label is-inline"},r=(0,a.Lk)("span",null,"Â *Â ",-1),o={key:0,class:"is-flex"},l=(0,a.Lk)("option",{value:"0.001"}," 0.001 ",-1),s=(0,a.Lk)("option",{value:"0.01"}," 0.01 ",-1),c=(0,a.Lk)("option",{value:"0.1"}," 0.1 ",-1),u=(0,a.Lk)("option",{value:"1"}," 1 ",-1),d=(0,a.Lk)("option",{value:"2"}," 2 ",-1),p=(0,a.Lk)("option",{value:"5"}," 5 ",-1),m=(0,a.Lk)("option",{value:"10"}," 10 ",-1),f=(0,a.Lk)("option",{value:"100"}," 100 ",-1),h=(0,a.Lk)("option",{value:"1000"}," 1000 ",-1),v=["value"],g=["aria-label"],b={class:"icon"},y=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)],_={key:1,class:"is-flex"},k={class:"icon"},w=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)],L={class:"label is-inline"},x=(0,a.Lk)("span",null,"Â *Â ",-1),F=["innerHTML"];function E(e,t,i,E,C,O){var $=(0,a.g2)("help-button"),T=(0,a.g2)("b-select"),V=(0,a.g2)("b-input"),M=(0,a.g2)("b-field"),S=(0,a.g2)("b-checkbox"),I=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(M,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",n,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","step")),1),r,(0,a.bF)($,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","step")},null,8,["title","message"])]),C.showEditStepOptions?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(T,{modelValue:C.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return C.step=e}),t[1]||(t[1]=function(e){return O.emitValues()})],name:"step_options"},{default:(0,a.k6)((function(){return[l,s,c,u,d,p,m,f,h,C.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==C.step}))?((0,a.uX)(),(0,a.CE)("option",{key:0,value:C.step},(0,a.v_)(C.step),9,v)):(0,a.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,a.D$)((function(e){return C.showEditStepOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",b,y)),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,g)])),C.showEditStepOptions?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(V,{modelValue:C.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return C.step=e}),t[4]||(t[4]=function(e){return O.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,a.D$)((function(e){return C.showEditStepOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",k,w)),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,a.Q3)("",!0)]})),_:1}),(0,a.bF)(M,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",L,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators")),1),x,(0,a.bF)($,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","comparators")},null,8,["title","message"])]),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(C.comparatorsObject,(function(e,i){return(0,a.uX)(),(0,a.Wv)(S,{key:i,modelValue:C.comparators,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return C.comparators=e}),t[7]||(t[7]=function(e){return O.emitValues()})],"native-value":i,disabled:C.comparators.indexOf(i)>=0&&C.comparators.length<=1,name:"numeric_filter_options[comparators]"},{default:(0,a.k6)((function(){return[(0,a.Lk)("span",{innerHTML:e.symbol+"Â "+e.label},null,8,F)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},90266:(e,t,i)=>{i.d(t,{X:()=>W});var a=i(6934),n=function(e){return(0,a.Qi)("data-v-994e7f18"),e=e(),(0,a.jt)(),e},r={class:"label is-inline"},o=n((function(){return(0,a.Lk)("span",null,"Â *Â ",-1)})),l={style:{"font-size":"1.35em"}},s={key:0,class:"is-flex"},c=n((function(){return(0,a.Lk)("option",{value:"0.001"}," 0.001 ",-1)})),u=n((function(){return(0,a.Lk)("option",{value:"0.01"}," 0.01 ",-1)})),d=n((function(){return(0,a.Lk)("option",{value:"0.1"}," 0.1 ",-1)})),p=n((function(){return(0,a.Lk)("option",{value:"1"}," 1 ",-1)})),m=n((function(){return(0,a.Lk)("option",{value:"2"}," 2 ",-1)})),f=n((function(){return(0,a.Lk)("option",{value:"5"}," 5 ",-1)})),h=n((function(){return(0,a.Lk)("option",{value:"10"}," 10 ",-1)})),v=n((function(){return(0,a.Lk)("option",{value:"100"}," 100 ",-1)})),g=n((function(){return(0,a.Lk)("option",{value:"1000"}," 1000 ",-1)})),b=["value"],y=["aria-label"],_={class:"icon"},k=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],w={key:1,class:"is-flex"},L={class:"icon"},x=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)}))],F={class:"label is-inline"},E={value:""},C=["value"],O={key:0,class:"intersection-explainer-section"},$={style:{"font-size":"1.35em"}},T=["value","innerHTML"],V=["innerHTML"],M={key:2},S={class:"icon"},I=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],X={class:"icon"},H=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)}))],A={class:"logic-divider"},j=["value","innerHTML"],N=["innerHTML"],U={class:"icon"},D=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)}))],P={class:"icon"},R=[n((function(){return(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)}))];function W(e,t,i,n,W,Q){var z=(0,a.g2)("help-button"),q=(0,a.g2)("b-select"),B=(0,a.g2)("b-input"),Y=(0,a.g2)("b-field"),G=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(Y,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",r,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),o,(0,a.Lk)("span",l,[(0,a.bF)(z,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])])]),W.showEditStepOptions?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(q,{modelValue:W.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return W.step=e}),t[1]||(t[1]=function(e){return Q.emitValues()})],name:"step_options"},{default:(0,a.k6)((function(){return[c,u,d,p,m,f,h,v,g,W.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==W.step}))?((0,a.uX)(),(0,a.CE)("option",{key:0,value:W.step},(0,a.v_)(W.step),9,b)):(0,a.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,a.D$)((function(e){return W.showEditStepOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",_,k)),[[G,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,y)])),W.showEditStepOptions?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.bF)(B,{modelValue:W.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return W.step=e}),t[4]||(t[4]=function(e){return Q.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,a.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,a.D$)((function(e){return W.showEditStepOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",L,x)),[[G,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,a.Q3)("",!0)]})),_:1}),(0,a.bF)(Y,{addons:!1,type:W.metadataType,message:W.metadataMessage},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",F,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")),1),(0,a.Lk)("span",{class:(0,a.C4)(W.metadataType)},"Â *Â ",2),(0,a.bF)(z,{title:e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])]),(0,a.bF)(q,{modelValue:W.secondNumericMetadatumId,"onUpdate:modelValue":t[6]||(t[6]=function(e){return W.secondNumericMetadatumId=e}),name:"numerics_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_numeric_to_compare"),loading:W.loading,expanded:"",onChange:t[7]||(t[7]=function(e){return Q.onUpdateSecondNumericMetadatumId()}),onFocus:t[8]||(t[8]=function(e){return Q.clear()})},{default:(0,a.k6)((function(){return[(0,a.Lk)("option",E,(0,a.v_)(e.$i18n.get("instruction_select_second_numeric_to_compare")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(W.metadata.filter((function(e){return e.id!=i.filter.metadatum_id})),(function(e){return(0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,a.v_)(e.name),9,C)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),W.secondNumericMetadatumId?((0,a.uX)(),(0,a.CE)("fieldset",O,[(0,a.Lk)("legend",null,[(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,a.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,a.Lk)("span",$,[(0,a.bF)(z,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,a.bF)(Y,{addons:!1},{default:(0,a.k6)((function(){return[W.showEditFirstComparatorOptions?((0,a.uX)(),(0,a.Wv)(q,{key:0,modelValue:W.firstComparator,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return W.firstComparator=e}),t[10]||(t[10]=function(e){return Q.emitValues()})]},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(W.comparatorsObject,(function(e,t){return(0,a.uX)(),(0,a.CE)("option",{key:t,value:t,innerHTML:e.symbol+"Â "+e.label},null,8,T)})),128))]})),_:1},8,["modelValue"])):((0,a.uX)(),(0,a.CE)("strong",{key:1,innerHTML:W.comparatorsObject[W.firstComparator].symbol},null,8,V)),i.filter.metadatum?((0,a.uX)(),(0,a.CE)("p",M,[(0,a.eW)(" Â  "),(0,a.Lk)("em",null,(0,a.v_)(i.filter.metadatum.metadatum_name),1)])):(0,a.Q3)("",!0),W.showEditFirstComparatorOptions?((0,a.uX)(),(0,a.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[12]||(t[12]=(0,a.D$)((function(e){return W.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",X,H)),[[G,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,a.uX)(),(0,a.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[11]||(t[11]=(0,a.D$)((function(e){return W.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",S,I)),[[G,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,a.Lk)("div",A,[(0,a.Lk)("span",null,(0,a.v_)(e.$i18n.get("label_and")),1)]),(0,a.bF)(Y,{addons:!1},{default:(0,a.k6)((function(){return[W.showEditSecondComparatorOptions?((0,a.uX)(),(0,a.Wv)(q,{key:0,modelValue:W.secondComparator,"onUpdate:modelValue":[t[13]||(t[13]=function(e){return W.secondComparator=e}),t[14]||(t[14]=function(e){return Q.emitValues()})]},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(W.comparatorsObject,(function(e,t){return(0,a.uX)(),(0,a.CE)("option",{key:t,value:t,innerHTML:e.symbol+"Â "+e.label},null,8,j)})),128))]})),_:1},8,["modelValue"])):((0,a.uX)(),(0,a.CE)("strong",{key:1,innerHTML:W.comparatorsObject[W.secondComparator].symbol},null,8,N)),(0,a.Lk)("p",null,[(0,a.eW)("Â "),(0,a.Lk)("em",null,(0,a.v_)(W.secondNumericMetadatumName),1)]),W.showEditSecondComparatorOptions?((0,a.uX)(),(0,a.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[16]||(t[16]=(0,a.D$)((function(e){return W.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",P,R)),[[G,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,a.uX)(),(0,a.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[15]||(t[15]=(0,a.D$)((function(e){return W.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",U,D)),[[G,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,a.Q3)("",!0)])}},3751:(e,t,i)=>{i.d(t,{X:()=>he});var a=i(6934),n=(0,a.Lk)("br",null,null,-1),r={class:"filters-list-page"},o={class:"column"},l={class:"tainacan-form sub-header"},s={key:0,class:"field is-grouped-centered section"},c={class:"content has-text-gray has-text-centered"},u=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon is-large"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-filters"})])],-1),d={class:"handle"},p={key:0,class:"sorting-buttons"},m=["disabled","aria-label","onClick"],f=[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)],h=["disabled","aria-label","onClick"],v=[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)],g=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,a.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,a.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],b={key:1,class:"label-details"},y={key:0,class:"not-saved"},_={key:1,class:"icon"},k=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)],w={class:"icon icon-level-identifier"},L={key:2,class:"loading-spinner"},x={key:3,class:"controls"},F=["onClick"],E={class:"icon"},C=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)],O=["onClick"],$={class:"icon"},T=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)],V={key:0,class:"column available-metadata-area"},M={class:"tainacan-form sub-header"},S={class:"field"},I=["onClick"],X={class:"icon grip-icon"},H=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,a.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,a.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],A={class:"metadatum-name"},j={key:0,class:"label-details",style:{"font-size":"0.875em"}},N={key:1,class:"icon"},U=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)],D={class:"icon icon-level-identifier"},P={key:1,class:"field is-grouped-centered section"},R={class:"content has-text-gray has-text-centered"},W=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon is-large"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1),Q=["onClick"],z={key:1,class:"section"},q={class:"content has-text-grey has-text-centered"},B=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-filters"})])],-1),Y={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content",style:{width:"auto"}},G={class:"tainacan-modal-title"},J=(0,a.Lk)("hr",null,null,-1),K={class:"tainacan-form"},Z={class:"tainacan-form"},ee={class:"columns"},te={class:"column"},ie={role:"list",class:"filter-types-container"},ae=(0,a.Lk)("br",null,null,-1),ne=["onClick","onMouseover","onMouseleave"],re={class:"column"},oe={class:"filter-type-label"},le={key:0,class:"field"},se={class:"collapse-handle"},ce=(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"has-text-secondary tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1),ue={class:"label has-tooltip"},de=["innerHTML"],pe={key:1,class:"has-text-gray"},me={class:"field is-grouped form-submit"},fe={class:"control"};function he(e,t,i,he,ve,ge){var be=(0,a.g2)("tainacan-title"),ye=(0,a.g2)("b-loading"),_e=(0,a.g2)("b-input"),ke=(0,a.g2)("b-field"),we=(0,a.g2)("b-switch"),Le=(0,a.g2)("filter-edition-form"),xe=(0,a.g2)("sortable"),Fe=(0,a.g2)("router-link"),Ee=(0,a.g2)("b-modal"),Ce=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",{class:(0,a.C4)({"repository-level-page page-container":ve.isRepositoryLevel})},[(0,a.bF)(be,{"bread-crumb-items":[{path:"",label:e.$i18n.get("filters")}]},null,8,["bread-crumb-items"]),ve.isRepositoryLevel?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_repository_filters_inheritance")),1),n],64)):(0,a.Q3)("",!0),(0,a.Lk)("div",r,[(0,a.bF)(ye,{modelValue:ve.isLoadingMetadatumTypes,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ve.isLoadingMetadatumTypes=e})},null,8,["modelValue"]),ve.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!ve.isRepositoryLevel&&e.collection&&e.collection.current_user_can_edit_filters?((0,a.uX)(),(0,a.CE)("div",{key:0,ref:"filterEditionPageColumns",style:(0,a.Tr)({height:ge.activeFiltersList.length<=0&&!ve.isLoadingFilters?"auto":"calc(100vh - 6px - "+ve.columnsTopY+"px)"}),class:"columns"},[(0,a.Lk)("div",o,[(0,a.Lk)("div",l,[(0,a.Lk)("h3",null,(0,a.v_)(e.$i18n.get("filters")),1),ge.activeFiltersList&&ge.activeFiltersList.length>5&&!ve.isLoadingFilters?((0,a.uX)(),(0,a.Wv)(ke,{key:0,class:"header-item"},{default:(0,a.k6)((function(){return[(0,a.bF)(_e,{modelValue:ve.filterNameFilterString,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ve.filterNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_filter_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[2]||(t[2]=function(e){return ve.filterNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,a.Q3)("",!0)]),ge.activeFiltersList.length<=0&&!ve.isLoadingFilters?((0,a.uX)(),(0,a.CE)("section",s,[(0,a.Lk)("div",c,[u,(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_there_is_no_filter")),1),(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_create_filters")),1)])])):(0,a.Q3)("",!0),(0,a.bF)(xe,{list:ge.activeFiltersList,"item-key":"id",class:(0,a.C4)(["active-filters-area",{"filters-area-receive":ve.isDraggingFromAvailable}]),options:{group:{name:"filters",pull:!1,put:!0},sort:(""==ve.openedFilterId||null==ve.openedFilterId)&&!ve.isRepositoryLevel,handle:".handle",hostClass:"sortable-ghost",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:ge.handleChangeOnFilter,onAdd:ge.handleChangeOnFilter,onRemove:ge.handleChangeOnFilter},{item:(0,a.k6)((function(i){var n=i.element,r=i.index;return[(0,a.bo)((0,a.Lk)("div",{class:(0,a.C4)(["active-filter-item",{"not-sortable-item":ve.isRepositoryLevel||ve.isSelectingFilterType||null==n.id||""!=ve.openedFilterId||ve.choosenMetadatum.name==n.name||1==ve.isUpdatingFiltersOrder||""!=ve.filterNameFilterString,"not-focusable-item":ve.openedFilterId==n.id,"disabled-filter":0==n.enabled,"inherited-filter":n.collection_id!=ve.collectionId||ve.isRepositoryLevel}])},[(0,a.Lk)("div",d,[ve.isRepositoryLevel?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",p,[(0,a.Lk)("button",{disabled:0==r,class:"link-button","aria-label":e.$i18n.get("label_move_up"),onClick:function(e){return ge.moveFilterUpViaButton(r)}},f,8,m),(0,a.Lk)("button",{disabled:r==ge.activeFiltersList.length-1,class:"link-button","aria-label":e.$i18n.get("label_move_down"),onClick:function(e){return ge.moveFilterDownViaButton(r)}},v,8,h)])),(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",{style:(0,a.Tr)({opacity:ve.isSelectingFilterType||null==n.id||""!=ve.openedFilterId||ve.choosenMetadatum.name==n.name||1==ve.isUpdatingFiltersOrder||ve.isRepositoryLevel||""!=ve.filterNameFilterString?"0.0":"1.0"}),class:"icon grip-icon"},g,4)),[[Ce,{content:ve.isSelectingFilterType||null==n.id||""!=ve.openedFilterId||ve.choosenMetadatum.name==n.name||1==ve.isUpdatingFiltersOrder?e.$i18n.get("info_not_allowed_change_order_filters"):e.$i18n.get("instruction_drag_and_drop_filter_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,a.Lk)("span",{class:(0,a.C4)(["filter-name",{"is-danger":ve.formWithErrors==n.id}])},(0,a.v_)(n.name),3),null!=n.filter_type_object?((0,a.uX)(),(0,a.CE)("span",b,[(0,a.eW)(" ("+(0,a.v_)(n.filter_type_object.name)+") ",1),null!=ve.editForms[n.id]&&1!=ve.editForms[n.id].saved||"auto-draft"==n.status?((0,a.uX)(),(0,a.CE)("span",y,(0,a.v_)(e.$i18n.get("info_not_saved")),1)):(0,a.Q3)("",!0),"private"==n.status?(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",_,k)),[[Ce,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,a.Q3)("",!0),(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",w,[(0,a.Lk)("i",{class:(0,a.C4)([{"tainacan-icon-collection":n.collection_id==ve.collectionId,"tainacan-icon-repository":n.collection_id!=ve.collectionId,"has-text-turquoise5":n.enabled&&"default"!=n.collection_id,"has-text-blue5":n.enabled&&"default"==n.collection_id,"has-text-gray3":!n.enabled},"tainacan-icon"])},null,2)])),[[Ce,{content:n.collection_id!=ve.collectionId?e.$i18n.get("label_repository_filter"):e.$i18n.get("label_collection_filter"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])])):(0,a.Q3)("",!0),null==n.id?((0,a.uX)(),(0,a.CE)("span",L)):(0,a.Q3)("",!0),null!=n.filter_type?((0,a.uX)(),(0,a.CE)("span",x,[ve.isRepositoryLevel?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(we,{key:0,disabled:ve.isUpdatingFiltersOrder,size:"is-small","model-value":n.enabled,"onUpdate:modelValue":function(e){return ge.onChangeEnable(e,r)}},null,8,["disabled","model-value","onUpdate:modelValue"])),n.current_user_can_edit?((0,a.uX)(),(0,a.CE)("a",{key:1,style:(0,a.Tr)({visibility:n.collection_id==ve.collectionId||ve.isRepositoryLevel?"visible":"hidden"}),onClick:(0,a.D$)((function(e){return ge.toggleFilterEdition(n.id)}),["prevent"])},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",E,C)),[[Ce,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,F)):(0,a.Q3)("",!0),n.current_user_can_delete?((0,a.uX)(),(0,a.CE)("a",{key:2,style:(0,a.Tr)({visibility:n.collection_id!=ve.collectionId&&!ve.isRepositoryLevel||n.id==ve.openedFilterId?"hidden":"visible"}),onClick:(0,a.D$)((function(e){return ge.removeFilter(n)}),["prevent"])},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",$,T)),[[Ce,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,O)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)]),(0,a.bF)(a.eB,{name:"form-collapse"},{default:(0,a.k6)((function(){return[ve.openedFilterId==n.id?((0,a.uX)(),(0,a.Wv)(ke,{key:0},{default:(0,a.k6)((function(){return[(0,a.bF)(Le,{"is-repository-level":ve.isRepositoryLevel,index:r,"original-filter":n,"edited-filter":ve.editForms[ve.openedFilterId],onOnEditionFinished:t[3]||(t[3]=function(e){return ge.onEditionFinished()}),onOnEditionCanceled:t[4]||(t[4]=function(e){return ge.onEditionCanceled()}),onOnErrorFound:function(e){return ve.formWithErrors=n.id},onOnUpdateSavedState:function(e){return ve.editForms[n.id].saved=e}},null,8,["is-repository-level","index","original-filter","edited-filter","onOnErrorFound","onOnUpdateSavedState"])]})),_:2},1024)):(0,a.Q3)("",!0)]})),_:2},1024)],2),[[a.aG,""==ve.filterNameFilterString||n.name.toString().toLowerCase().indexOf(ve.filterNameFilterString.toString().toLowerCase())>=0]])]})),_:1},8,["list","class","options","onUpdate","onAdd","onRemove"])]),ve.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!ve.isRepositoryLevel?((0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("div",M,[(0,a.Lk)("h3",null,(0,a.v_)(e.$i18n.get("label_available_metadata")),1),ve.availableMetadata&&ve.availableMetadata.length>5&&!ve.isLoadingMetadatumTypes?((0,a.uX)(),(0,a.Wv)(ke,{key:0,class:"header-item"},{default:(0,a.k6)((function(){return[(0,a.bF)(_e,{modelValue:ve.metadatumNameFilterString,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ve.metadatumNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[6]||(t[6]=function(e){return ve.metadatumNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",S,[ve.availableMetadata.length>0&&!ve.isLoadingMetadatumTypes?((0,a.uX)(),(0,a.Wv)(xe,{key:0,list:ve.availableMetadata,"item-key":"id",options:{group:{name:"filters",pull:!ve.isSelectingFilterType,put:!1,revertClone:!0},sort:!1,filter:".not-sortable-item",preventOnFilter:!1,dragClass:"sortable-drag"},onChange:ge.handleChangeOnMetadata},{item:(0,a.k6)((function(t){var i=t.element,n=t.index;return[i.enabled?(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,a.C4)(["available-metadatum-item",{"inherited-metadatum":i.inherited||ve.isRepositoryLevel,"disabled-metadatum":ve.isSelectingFilterType}]),onClick:(0,a.D$)((function(e){return ge.addMetadatumViaButton(i,n)}),["prevent"])},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",X,H)),[[Ce,{content:e.$i18n.get("instruction_click_or_drag_filter_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",A,[(0,a.eW)((0,a.v_)(i.name)+" ",1),i.parent_name?((0,a.uX)(),(0,a.CE)("span",j,[(0,a.Lk)("em",null,(0,a.v_)("("+e.$i18n.get("info_child_of")+" "+i.parent_name+")"),1)])):(0,a.Q3)("",!0),"private"===i.status?(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",N,U)),[[Ce,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,a.Q3)("",!0)])),[[Ce,{content:i.name+(i.parent_name?" ("+e.$i18n.get("info_child_of")+" "+i.parent_name+")":""),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",D,[(0,a.Lk)("i",{class:(0,a.C4)([{"tainacan-icon-collection has-text-turquoise5":i.collection_id==ve.collectionId&&!ve.isRepositoryLevel,"tainacan-icon-repository has-text-blue5":ve.isRepositoryLevel||i.collection_id!=ve.collectionId},"tainacan-icon"])},null,2)])),[[Ce,{content:ve.isRepositoryLevel||i.collection_id!=ve.collectionId?e.$i18n.get("label_repository_filter"):e.$i18n.get("label_collection_filter"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",ve.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],10,I)),[[a.aG,""==ve.metadatumNameFilterString||i.name.toString().toLowerCase().indexOf(ve.metadatumNameFilterString.toString().toLowerCase())>=0]]):(0,a.Q3)("",!0)]})),_:1},8,["list","options","onChange"])):(0,a.Q3)("",!0),ve.availableMetadata.length<=0&&!ve.isLoadingMetadatumTypes?((0,a.uX)(),(0,a.CE)("section",P,[(0,a.Lk)("div",R,[W,(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_there_is_no_metadatum")),1),(0,a.bF)(Fe,{to:ve.isRepositoryLevel?e.$routerHelper.getNewMetadatumPath():e.$routerHelper.getNewCollectionMetadatumPath(ve.collectionId),custom:""},{default:(0,a.k6)((function(t){var i=t.navigate;return[(0,a.Lk)("button",{id:"button-create-metadatum",role:"link",ttype:"button",class:"button is-secondary is-centered",onClick:function(e){return i()}},(0,a.v_)(e.$i18n.getFrom("metadata","new_item")),9,Q)]})),_:1},8,["to"])])])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],4)):((0,a.uX)(),(0,a.CE)("section",z,[(0,a.Lk)("div",q,[B,(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_can_not_edit_filters")),1)])])),(0,a.bF)(Ee,{ref:"filterTypeModal",modelValue:ve.isSelectingFilterType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ve.isSelectingFilterType=e}),width:680,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":e.$i18n.get("close")},{default:(0,a.k6)((function(){return[(0,a.Lk)("div",Y,[(0,a.Lk)("header",G,[(0,a.Lk)("h2",null,(0,a.v_)(e.$i18n.get("label_available_filter_types")),1),J]),(0,a.Lk)("section",K,[(0,a.Lk)("form",Z,[(0,a.Lk)("div",ee,[(0,a.Lk)("div",te,[(0,a.Lk)("div",ie,[(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("instruction_click_to_select_a_filter_type")),1),ae,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ve.allowedFilterTypes,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,role:"listitem",class:"filter-type",onClick:function(t){return ge.onFilterTypeSelected(e)},onMouseover:function(t){return ve.currentFilterTypePreview={name:e.name,template:e.preview_template}},onMouseleave:function(t){return ve.currentFilterTypePreview={name:e.name,template:e.preview_template}}},[(0,a.Lk)("h4",null,(0,a.v_)(e.name),1)],40,ne)})),128))])]),(0,a.Lk)("div",re,[(0,a.Lk)("div",{style:(0,a.Tr)({"min-height":ge.getProperPreviewMinHeight()+"px"}),class:"filter-type-preview"},[(0,a.Lk)("span",oe,(0,a.v_)(e.$i18n.get("label_filter_type_preview")),1),null!=ve.currentFilterTypePreview&&""!=ve.currentFilterTypePreview.template?((0,a.uX)(),(0,a.CE)("div",le,[(0,a.Lk)("span",se,[ce,(0,a.Lk)("label",ue,(0,a.v_)(ve.currentFilterTypePreview.name),1)]),(0,a.Lk)("div",{innerHTML:ve.currentFilterTypePreview.template},null,8,de)])):((0,a.uX)(),(0,a.CE)("span",pe,(0,a.v_)(e.$i18n.get("instruction_hover_a_filter_type_to_preview")),1))],4)])])]),(0,a.Lk)("footer",me,[(0,a.Lk)("div",fe,[(0,a.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[7]||(t[7]=function(e){return ge.onCancelFilterTypeSelection()})},(0,a.v_)(e.$i18n.get("cancel")),1)])])])])]})),_:1},8,["modelValue","close-button-aria-label"])])],2)}},74042:(e,t,i)=>{i.d(t,{$J:()=>d,X3:()=>p,lg:()=>u});var a=i(75552),n=i(55373),r=i.n(n),o=i(95093),l=i.n(o);function s(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return c(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var u={methods:{getSamplePermalink:function(e,t,i){return a.M3.post("",r().stringify({action:"tainacan-sample-permalink",post_id:e,new_title:t,new_slug:i}))}}},d={created:function(){var e=navigator.language;l().locale(e);var t=l().localeData();this.dateFormat=t.longDateFormat("L")?t.longDateFormat("L"):"pt_BR"==t._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(e){return e=new Date(e.replace(/-/g,"/")),l()(e,l().ISO_8601).format(this.dateFormat)}}},p={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var e=this;return this.formHooks[this.entityName]["begin-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getBeginRightForm:function(){var e=this;return this.formHooks[this.entityName]["begin-right"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndLeftForm:function(){var e=this;return this.formHooks[this.entityName]["end-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndRightForm:function(){var e=this;return this.formHooks[this.entityName]["end-right"].map((function(t){return e.checkFormConditionals(t)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(e){for(var t=0,i=["begin-left","begin-right","end-left","end-right"];t<i.length;t++){var a=i[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var n=document.getElementById("form-"+this.entityName+"-"+a);if(n){var r,o=s(n.elements);try{for(o.s();!(r=o.n()).done;){var l=r.value;"checkbox"==l.type||"select"==l.type&&null!=l.multiple&&1==l.multiple?l.checked&&null!=l.name&&""!=l.name&&(Array.isArray(e[l.name])||(e[l.name]=[]),e[l.name].push(l.value)):"radio"==l.type?l.checked&&null!=l.name&&""!=l.name&&(e[l.name]=l.value):e[l.name]=l.value}}catch(e){o.e(e)}finally{o.f()}}}}},updateExtraFormData:function(e){for(var t=0,i=["begin-left","begin-right","end-left","end-right"];t<i.length;t++){var a=i[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var n=document.getElementById("form-"+this.entityName+"-"+a);if(n){var r,o=s(n.elements);try{var l=function(){for(var t=r.value,i=0,a=Object.keys(e);i<a.length;i++){var n=a[i];if(t.name==n)if(Array.isArray(e[n])){var o=e[n].find((function(e){return e==t.value}));t.checked=null!=o}else null!=e[n]&&null!=e[n]&&""!=e[n]&&("radio"==t.type?t.checked=e[n]==t.value:t.value=e[n])}};for(o.s();!(r=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}}}}},checkFormConditionals:function(e){return e.form?e.conditional&&e.conditional.attribute&&e.conditional.value?this.form&&this.form[e.conditional.attribute]===e.conditional.value?e.form:"":e.form:""}}}},97174:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(31601),n=i.n(a),r=i(76314),o=i.n(r)()(n());o.push([e.id,"form#filterEditForm[data-v-504324c7]{padding:1.5em var(--tainacan-one-column) 0.5em var(--tainacan-one-column);border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2);margin-top:1.0em;font-size:1.1em}form#filterEditForm .options-columns[data-v-504324c7]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;column-gap:3em;column-rule:none;padding-bottom:0.5em}form#filterEditForm .options-columns>.field[data-v-504324c7],form#filterEditForm .options-columns>section[data-v-504324c7]{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid}form#filterEditForm .options-columns .field>.field[data-v-504324c7]:not(:last-child){margin-bottom:0em}form#filterEditForm .options-columns .tainacan-help-tooltip-trigger[data-v-504324c7]{font-size:1.25em}form#filterEditForm .form-submit[data-v-504324c7]{margin-bottom:0.75em}\n",""]);const l=o},59951:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(31601),n=i.n(a),r=i(76314),o=i.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-9b609966]{margin-top:1.25rem;padding:0.75em 0.75em 0.25em 0.75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-9b609966]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-9b609966]{display:flex;gap:0.5em;margin:0 -0.5em 0.5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-9b609966]{margin-left:0.75em}.intersection-explainer-section button[data-v-9b609966]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-9b609966]{display:none}\n",""]);const l=o},30003:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(31601),n=i.n(a),r=i(76314),o=i.n(r)()(n());o.push([e.id,".options-input[data-v-ffeff5ce]{display:flex;flex-wrap:wrap;justify-content:space-between}.options-input .field[data-v-ffeff5ce]:first-child{width:100%;margin-top:1em;margin-bottom:-1px}.options-input .field.has-addons[data-v-ffeff5ce]{margin-bottom:0.125em;width:100%;display:flex;flex-wrap:wrap}.options-input .field.has-addons>.control[data-v-ffeff5ce]{flex-basis:50%}\n",""]);const l=o},34085:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(31601),n=i.n(a),r=i(76314),o=i.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-994e7f18]{margin-top:1.25rem;padding:0.75em 0.75em 0.25em 0.75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-994e7f18]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-994e7f18]{display:flex;gap:0.5em;margin:0 -0.5em 0.5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-994e7f18]{margin-left:0.75em}.intersection-explainer-section button[data-v-994e7f18]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-994e7f18]{display:none}\n",""]);const l=o},26624:(e,t,i)=>{i.d(t,{A:()=>p});var a=i(31601),n=i.n(a),r=i(76314),o=i.n(r),l=i(4417),s=i.n(l),c=new URL(i(78591),i.b),u=o()(n()),d=s()(c);u.push([e.id,`.filters-list-page{padding-bottom:0}.filters-list-page .tainacan-page-title{margin-bottom:28px;display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between}.filters-list-page .tainacan-page-title h1,.filters-list-page .tainacan-page-title h2{font-size:1.25em;font-weight:500;color:var(--tainacan-heading-color);display:inline-block;width:80%;flex-shrink:1;flex-grow:1}.filters-list-page .tainacan-page-title a.back-link{font-weight:500;float:right;margin-top:5px}.filters-list-page .tainacan-page-title hr{margin:3px 0px 4px 0px;height:1px;background-color:var(--tainacan-secondary);width:100%}.filters-list-page .column{overflow-x:hidden;overflow-y:auto;padding:0.75em 0}.filters-list-page .column>section.field{position:absolute}.filters-list-page .column:not(.available-metadata-area){margin-right:30px;flex-grow:2}@media screen and (max-width: 769px){.filters-list-page .column:not(.available-metadata-area){margin-right:0}}.filters-list-page .column h3{font-weight:500}.filters-list-page .sub-header{display:flex;align-items:center;justify-content:space-between;padding:0.5em 1em 0.5em 0.5em}.filters-list-page .sub-header .header-item{margin-left:0.75rem;margin-bottom:0px}.filters-list-page .sub-header h3{margin-right:auto}.filters-list-page .loading-spinner{animation:spinAround 500ms infinite linear;border:2px solid var(--tainacan-gray2);border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:inline-block;height:1em;width:1em}.filters-list-page .active-filters-area{font-size:0.875em;margin-left:1.5em;padding-right:1em;padding-top:1em;min-height:330px}@media screen and (max-width: 769px){.filters-list-page .active-filters-area{min-height:45px;margin:0;padding-right:0em}}@media screen and (max-width: 1216px){.filters-list-page .active-filters-area{padding-right:1em}}.filters-list-page .active-filters-area.filters-area-receive{border:1px dashed var(--tainacan-gray4)}.filters-list-page .active-filters-area .collapse{display:initial}.filters-list-page .active-filters-area .active-filter-item{background-color:var(--tainacan-white);padding:0.7em 0.9em;margin:4px;min-height:2.8571em;position:relative;display:block;transition:top 0.1s ease;cursor:grab}.filters-list-page .active-filters-area .active-filter-item form.tainacan-form{padding:1.0em 2.0em;margin-top:1.0em;border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2)}.filters-list-page .active-filters-area .active-filter-item>.field,.filters-list-page .active-filters-area .active-filter-item form{background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons{display:flex;flex-direction:column;position:absolute;overflow:hidden;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:3px;border-bottom-left-radius:3px;font-size:0.875em;left:0em;top:0px;opacity:0;visibility:hidden;transition:opacity 0.2s ease, left 0.2s ease}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button{border:none;background:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button:hover{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item:not(.not-sortable-item):hover .sorting-buttons{opacity:1.0;visibility:visible;left:-2em}.filters-list-page .active-filters-area .active-filter-item .handle{padding-right:6em;white-space:nowrap;display:flex}.filters-list-page .active-filters-area .active-filter-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .active-filters-area .active-filter-item .filter-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:0.4em;margin-right:0.4em}.filters-list-page .active-filters-area .active-filter-item .filter-name.is-danger{color:var(--tainacan-danger) !important}.filters-list-page .active-filters-area .active-filter-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filters-list-page .active-filters-area .active-filter-item .not-saved{font-style:italic;font-weight:bold;color:var(--tainacan-danger);margin-left:0.5em}.filters-list-page .active-filters-area .active-filter-item .controls{font-size:0.875em;position:absolute;right:10px;top:10px}.filters-list-page .active-filters-area .active-filter-item .controls .switch{position:relative;bottom:2px}.filters-list-page .active-filters-area .active-filter-item .controls .icon{bottom:1px;position:relative}.filters-list-page .active-filters-area .active-filter-item .controls .icon i,.filters-list-page .active-filters-area .active-filter-item .controls .icon i:before{font-size:1.25em}.filters-list-page .active-filters-area .active-filter-item.not-sortable-item,.filters-list-page .active-filters-area .active-filter-item.not-sortable-item:hover{cursor:default;background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover{cursor:default}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item .metadatum-name,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover .metadatum-name{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item),.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover{color:var(--tainacan-gray3)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .not-saved,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .not-saved{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .active-filters-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .not-saved{color:var(--tainacan-gray4) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .available-metadatum-item:not(.sortable-ghost):not(.disabled-metadatum){display:none;visibility:hidden}.filters-list-page .active-filters-area .sortable-ghost{border:1px dashed var(--tainacan-gray2);background:var(--tainacan-white);display:block;padding:0.7em 0.9em;margin:4px;height:2.8571em;position:relative}.filters-list-page .active-filters-area .sortable-ghost .grip-icon{color:var(--tainacan-white)}.filters-list-page .available-metadata-area{padding:0px 0px 10px 10px;margin:0;max-width:600px;min-width:41.66666667%}@media screen and (max-width: 769px){.filters-list-page .available-metadata-area{max-width:100%;padding:10px}.filters-list-page .available-metadata-area h3{margin:1em 0em 1em 0em !important}.filters-list-page .available-metadata-area .available-metadatum-item::before,.filters-list-page .available-metadata-area .available-metadatum-item::after{display:none !important}}.filters-list-page .available-metadata-area h3{margin:0.875em 0em 1em 0em;font-weight:500}.filters-list-page .available-metadata-area>.field{font-size:0.875em;padding-right:1em;padding-left:1em}.filters-list-page .available-metadata-area .available-metadatum-item{padding:0.6em;margin:4px 4px 4px 1.2em;background-color:var(--tainacan-white);cursor:pointer;left:0;height:2.8571em;position:relative;border:1px solid var(--tainacan-gray2);border-radius:1px;transition:left 0.2s ease}.filters-list-page .available-metadata-area .available-metadatum-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .available-metadata-area .available-metadatum-item .icon-level-identifier{position:relative;bottom:6px}.filters-list-page .available-metadata-area .available-metadatum-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:0.4em;display:inline-block;width:calc(100% - 60px)}.filters-list-page .available-metadata-area .available-metadatum-item:after,.filters-list-page .available-metadata-area .available-metadatum-item:before{content:'';display:block;position:absolute;right:100%;width:0;height:0;border-style:solid}.filters-list-page .available-metadata-area .available-metadatum-item:after{top:-1px;border-color:transparent white transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-19px}.filters-list-page .available-metadata-area .available-metadatum-item:before{top:-1px;border-color:transparent var(--tainacan-gray2) transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-20px}.filters-list-page .available-metadata-area .available-metadatum-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.filters-list-page .available-metadata-area .sortable-drag{opacity:1 !important}.filters-list-page .available-metadata-area .compound-metadatum-label{font-weight:bold;color:var(--tainacan-gray3);padding:20px;position:relative;top:2px}.filters-list-page .available-metadata-area .available-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .available-metadata-area .available-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise2);position:relative;left:-4px}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:transparent var(--tainacan-turquoise1) transparent transparent}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:transparent var(--tainacan-turquoise2) transparent transparent}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-secondary) !important}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-blue1);border-color:var(--tainacan-blue2)}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-filter .sorting-buttons button{background:var(--tainacan-blue1)}.filters-list-page .inherited-filter .sorting-buttons button:hover{color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check{border:1.5px solid var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check::before{background-color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-blue1) !important;border-color:var(--tainacan-blue2) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:transparent var(--tainacan-blue1) transparent transparent !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:transparent var(--tainacan-blue2) transparent transparent !important}.filters-list-page .child-metadatum{margin-left:42px !important}.filters-list-page .tainacan-modal-content .column{overflow:visible;margin:0}.filters-list-page .tainacan-modal-content .filter-types-container{height:100%;display:flex;flex-direction:column;justify-content:center}.filters-list-page .tainacan-modal-content .filter-types-container p{margin-bottom:16px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type{border-bottom:1px solid var(--tainacan-gray2);padding:15px 8.3333333%;cursor:pointer}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:first-child{margin-top:15px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:last-child{border-bottom:none}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:hover{background-color:var(--tainacan-gray2)}.filters-list-page .tainacan-modal-content .filter-type-preview{background:var(--tainacan-gray1);margin:12px auto;padding:12px 30px;border-radius:3px;z-index:9999999999999;width:218px;display:flex;align-items:center;justify-content:center;pointer-events:none;cursor:none;flex-wrap:wrap;max-width:260px;width:100%;height:100%;min-height:290px;align-items:normal}@media screen and (max-width: 769px){.filters-list-page .tainacan-modal-content .filter-type-preview{max-width:100%}}.filters-list-page .tainacan-modal-content .filter-type-preview .filter-type-label{font-weight:600;color:var(--tainacan-info-color);width:100%;font-size:1em;margin-left:-16px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .collapse-handle{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview input,.filters-list-page .tainacan-modal-content .filter-type-preview select,.filters-list-page .tainacan-modal-content .filter-type-preview textarea,.filters-list-page .tainacan-modal-content .filter-type-preview .input,.filters-list-page .tainacan-modal-content .filter-type-preview .tags,.filters-list-page .tainacan-modal-content .filter-type-preview .tag{pointer-events:none;cursor:none;background-color:rgba(255,255,255,0.6) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control,.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control>input,.filters-list-page .tainacan-modal-content .filter-type-preview .dropdown-content{background-color:var(--tainacan-gray0) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .taginput{margin-bottom:80px}.filters-list-page .tainacan-modal-content .filter-type-preview input[type="checkbox"]:checked+.check{background:rgba(255,255,255,0.6) url(${d}) no-repeat center center !important}.filters-list-page .tainacan-modal-content .filter-type-preview textarea{min-height:70px}.filters-list-page .tainacan-modal-content .filter-type-preview .field{width:100%;margin:6px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .label{color:var(--tainacan-label-color);font-weight:normal}.filters-list-page .tainacan-modal-content .filter-type-preview .add-new-term{font-size:0.75em;text-decoration:underline;margin:0.875em 1.5em}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .field,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .field{margin:0}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown{width:auto}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button{padding:0 0.5em !important;height:auto !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown),.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown){margin-top:-3px;font-size:1.5em;font-style:normal;color:var(--tainacan-info-color)}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-menu,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-menu{display:block !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .datepicker,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .datepicker{flex-shrink:0;max-width:70%}\n`,""]);const p=u},4417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},28515:(e,t,i)=>{var a=i(85072),n=i.n(a),r=i(97825),o=i.n(r),l=i(77659),s=i.n(l),c=i(55056),u=i.n(c),d=i(10540),p=i.n(d),m=i(63494),f=i.n(m),h=i(97174),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},29950:(e,t,i)=>{var a=i(85072),n=i.n(a),r=i(97825),o=i.n(r),l=i(77659),s=i.n(l),c=i(55056),u=i.n(c),d=i(10540),p=i.n(d),m=i(63494),f=i.n(m),h=i(59951),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},39084:(e,t,i)=>{var a=i(85072),n=i.n(a),r=i(97825),o=i.n(r),l=i(77659),s=i.n(l),c=i(55056),u=i.n(c),d=i(10540),p=i.n(d),m=i(63494),f=i.n(m),h=i(30003),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},66792:(e,t,i)=>{var a=i(85072),n=i.n(a),r=i(97825),o=i.n(r),l=i(77659),s=i.n(l),c=i(55056),u=i.n(c),d=i(10540),p=i.n(d),m=i(63494),f=i.n(m),h=i(34085),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},58901:(e,t,i)=>{var a=i(85072),n=i.n(a),r=i(97825),o=i.n(r),l=i(77659),s=i.n(l),c=i(55056),u=i.n(c),d=i(10540),p=i.n(d),m=i(63494),f=i.n(m),h=i(26624),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},56392:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(74510),n=i(20423);i(8578);const r=(0,i(66262).A)(n.A,[["render",a.X],["__scopeId","data-v-504324c7"]])},41229:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(27281),n=i(94390);const r=(0,i(66262).A)(n.A,[["render",a.X]])},87684:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(49979),n=i(89267);i(53211);const r=(0,i(66262).A)(n.A,[["render",a.X],["__scopeId","data-v-9b609966"]])},57672:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(81982),n=i(81295);const r=(0,i(66262).A)(n.A,[["render",a.X]])},31757:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(44111),n=i(63118);i(72079);const r=(0,i(66262).A)(n.A,[["render",a.X],["__scopeId","data-v-ffeff5ce"]])},31607:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(61322),n=i(67108);const r=(0,i(66262).A)(n.A,[["render",a.X]])},34456:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(9409),n=i(84263);i(97465);const r=(0,i(66262).A)(n.A,[["render",a.X],["__scopeId","data-v-994e7f18"]])},38270:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var a=i(20576),n=i(78101);i(80268);const r=(0,i(66262).A)(n.A,[["render",a.X]])},20423:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(35276)},94390:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(85743)},89267:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(29868)},81295:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(76384)},63118:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(38835)},67108:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(12217)},84263:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(95996)},78101:(e,t,i)=>{i.d(t,{A:()=>a.A});var a=i(97062)},74510:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(76145)},27281:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(40172)},49979:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(9976)},81982:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(55621)},44111:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(294)},61322:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(6443)},9409:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(90266)},20576:(e,t,i)=>{i.d(t,{X:()=>a.X});var a=i(3751)},8578:(e,t,i)=>{i(28515)},53211:(e,t,i)=>{i(29950)},72079:(e,t,i)=>{i(39084)},97465:(e,t,i)=>{i(66792)},80268:(e,t,i)=>{i(58901)},78591:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 1 1%27%3E%3Cpath style=%27fill:rgb%2869,70,71%29%27 d=%27M 0.04038059,0.6267767 0.14644661,0.52071068 0.42928932,0.80355339 0.3232233,0.90961941 z M 0.21715729,0.80355339 0.85355339,0.16715729 0.95961941,0.2732233 0.3232233,0.90961941 z%27%3E%3C/path%3E%3C/svg%3E"}}]);
(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[6406],{74846:(a,t,e)=>{"use strict";e.d(t,{A:()=>p});var n=e(70931),i=e(68061),o=(e(79997),e(53481)),r=e(76210),c=e(68299),l=e(6993),d=e(16077);function s(a,t){var e="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!e){if(Array.isArray(a)||(e=function(a,t){if(a){if("string"==typeof a)return m(a,t);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(a,t):void 0}}(a))||t&&a&&"number"==typeof a.length){e&&(a=e);var _n=0,n=function(){};return{s:n,n:function(){return _n>=a.length?{done:!0}:{done:!1,value:a[_n++]}},e:function(a){throw a},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){e=e.call(a)},n:function(){var a=e.next();return o=a.done,a},e:function(a){r=!0,i=a},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw i}}}}function m(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,n=Array(t);e<t;e++)n[e]=a[e];return n}const p={name:"ViewModeMap",components:{LMap:i.Do,LIcon:i.up,LTooltip:i.KV,LTileLayer:i.a,LMarker:i.li,LControl:i.cZ,LControlZoom:i.tN},mixins:[n.l],props:{isRepositoryLevel:{type:Boolean,default:!1}},data:function(){return{selectedGeocoordinateMetadatumId:!1,latitude:-14.4086569,longitude:-51.31668,mapTileUrl:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",mapTileAttribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',selectedMarkerIndexes:[],hoveredMapCardItemId:!1,mapSelectedItemId:!1,mapIconRetinaUrl:c.default,mapIconUrl:r.default,mapIconShadowUrl:l.default}},computed:{amountOfDisplayedMetadata:function(){return this.displayedMetadata.filter((function(a){return a.display})).length},itemsLocations:function(){var a=this,t=[];if(this.selectedGeocoordinateMetadatum.slug&&this.items){var e,n=s(this.items);try{var i=function(){var n=e.value;if(!n.metadata)return 1;var i=n.metadata[a.selectedGeocoordinateMetadatum.slug];if(!i&&a.selectedGeocoordinateMetadatum.parent){var r=Object.keys(n.metadata).find((function(t){return n.metadata[t].id==a.selectedGeocoordinateMetadatum.parent}));r&&n.metadata[r].value.forEach((function(t){(Array.isArray(t)?t:[t]).forEach((function(t){t.metadatum_id==a.selectedGeocoordinateMetadatum.id&&((i={metadatum_id:t.metadatum_id,parent_meta_id:t.parent_meta_id,value:i&&i.value?i.value:[],value_as_string:i&&i.value_as_string?i.value_as_string:[],value_as_html:i&&i.value_as_html?i.value_as_html:[]}).value.push(t.value),i.value_as_string.push(t.value_as_string),i.value_as_html.push(t.value_as_html))}))}))}if(i&&Array.isArray(i.value))for(var c=0;c<i.value.length;c++)2==i.value[c].split(",").length&&t.push({item:n,multivalueIndex:c,multivalueTotal:i.value.length,location:(0,o.latLng)(i.value[c].split(","))});else i&&"function"==typeof i.value.split&&2==i.value.split(",").length&&t.push({item:n,location:(0,o.latLng)(i.value.split(","))})};for(n.s();!(e=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}return t},geocoordinateMetadata:function(){var a={};return this.displayedMetadata.forEach((function(t){if(t.display&&"Tainacan\\Metadata_Types\\GeoCoordinate"==t.metadata_type&&(a[t.id]=t),t.display&&"Tainacan\\Metadata_Types\\Compound"==t.metadata_type&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length)for(var e=0;e<t.metadata_type_options.children_objects.length;e++)if("Tainacan\\Metadata_Types\\GeoCoordinate"==t.metadata_type_options.children_objects[e].metadata_type){var n=JSON.parse(JSON.stringify(t.metadata_type_options.children_objects[e]));n.name=n.name+" ("+t.name+")",a[t.id]=n}})),a},selectedGeocoordinateMetadatum:function(){return!(!Object.keys(this.geocoordinateMetadata).length||!this.geocoordinateMetadata[this.selectedGeocoordinateMetadatumId])&&this.geocoordinateMetadata[this.selectedGeocoordinateMetadatumId]}},watch:{itemsLocations:{handler:function(){var a=this;setTimeout((function(){a.itemsLocations.length&&a.$refs["tainacan-view-mode-map"]&&a.$refs["tainacan-view-mode-map"].leafletObject&&(1==a.itemsLocations.length?a.$refs["tainacan-view-mode-map"].leafletObject.panInsideBounds(a.itemsLocations.map((function(a){return a.location})),{animate:!0,maxZoom:16}):a.$refs["tainacan-view-mode-map"].leafletObject.flyToBounds(a.itemsLocations.map((function(a){return a.location})),{animate:!0,maxZoom:16}))}),500)},deep:!0},selectedGeocoordinateMetadatum:function(){this.clearSelectedMarkers()},geocoordinateMetadata:{handler:function(){var a=this.isRepositoryLevel?"map_view_mode_selected_geocoordinate_metadatum":"map_view_mode_selected_geocoordinate_metadatum_"+this.collectionId,t=Object.keys(this.geocoordinateMetadata);t.length&&this.$userPrefs&&this.$userPrefs.get(a)&&this.geocoordinateMetadata[this.$userPrefs.get(a)]?this.selectedGeocoordinateMetadatumId=this.$userPrefs.get(a):this.selectedGeocoordinateMetadatumId=!!t.length&&t[0]},immediate:!0,deep:!0}},methods:{onChangeSelectedGeocoordinateMetadatum:function(a){var t=this.isRepositoryLevel?"map_view_mode_selected_geocoordinate_metadatum":"map_view_mode_selected_geocoordinate_metadatum_"+this.collectionId;this.$userPrefs&&this.$userPrefs.set(t,a)},onMapReady:function(){d&&this.$refs["tainacan-view-mode-map"]&&this.$refs["tainacan-view-mode-map"].leafletObject&&this.$refs["tainacan-view-mode-map"].leafletObject.setActiveArea("leaflet-active-area")},getItemImageHeight:function(a,t){return 120*t/a},getMultivalueIndicator:function(a){return a.multivalueTotal>1?" <em>("+(a.multivalueIndex+1)+" of "+a.multivalueTotal+")</em>":""},clearSelectedMarkers:function(){this.mapSelectedItemId=!1,this.selectedMarkerIndexes=[],this.itemsLocations.length&&this.$refs["tainacan-view-mode-map"]&&this.$refs["tainacan-view-mode-map"].leafletObject&&(1==this.itemsLocations.length?this.$refs["tainacan-view-mode-map"].leafletObject.panInsideBounds(this.itemsLocations.map((function(a){return a.location})),{animate:!0,maxZoom:16}):this.$refs["tainacan-view-mode-map"].leafletObject.flyToBounds(this.itemsLocations.map((function(a){return a.location})),{animate:!0,maxZoom:16}))},showItemByLocation:function(a){this.mapSelectedItemId=this.itemsLocations[a].item.id,this.selectedMarkerIndexes=[],this.selectedMarkerIndexes.push(a),this.itemsLocations.length&&this.$refs["tainacan-view-mode-map"]&&this.$refs["tainacan-view-mode-map"].leafletObject&&this.$refs["tainacan-view-mode-map"].leafletObject.panInsideBounds([this.itemsLocations[a].location],{animate:!0,maxZoom:16})},showLocationsByItem:function(a){var t=this;this.mapSelectedItemId=a.id,this.selectedMarkerIndexes=[];var e=this.itemsLocations.filter((function(e,n){return e.item.id==a.id&&t.selectedMarkerIndexes.push(n),e.item.id==a.id}));e.length?this.itemsLocations.length&&this.$refs["tainacan-view-mode-map"]&&this.$refs["tainacan-view-mode-map"].leafletObject&&(e.length>1?this.$refs["tainacan-view-mode-map"].leafletObject.flyToBounds(e.map((function(a){return a.location})),{animate:!0,maxZoom:16}):this.$refs["tainacan-view-mode-map"].leafletObject.panInsideBounds(e.map((function(a){return a.location})),{animate:!0,maxZoom:16})):this.$buefy.snackbar.open({message:this.$i18n.get("info_non_located_item"),type:"is-warning",duration:3e3})}}}},29984:(a,t,e)=>{"use strict";e.d(t,{X:()=>R});var n=e(6934),i=function(a){return(0,n.Qi)("data-v-775e9534"),a=a(),(0,n.jt)(),a},o={class:"table-container"},r={class:"table-wrapper"},c={class:"tainacan-map-cards-container"},l=["aria-setsize","aria-posinset","data-tainacan-item-id","onMouseenter"],d=["onClick"],s=["innerHTML"],m=["innerHTML"],p=["innerHTML"],u={class:"tainacan-map-card-thumbnail"},h=["onClick"],v=[i((function(){return(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-viewgallery tainacan-icon-1-125em"},null,-1)}))],f=["innerHTML"],g=["innerHTML"],b=["innerHTML"],_={class:"geocoordinate-panel"},y={key:0,class:"geocoordinate-panel--input"},w={id:"tainacan-select-geocoordinate-metatum",class:"control"},x={class:"select"},k=["placeholder"],L=["value","onClick"],M={key:1,class:"section"},I={class:"content has-text-grey has-text-centered"},C=i((function(){return(0,n.Lk)("p",{style:{"margin-bottom":"0px"}},[(0,n.Lk)("span",{class:"icon is-large"},[(0,n.Lk)("i",null,[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--tainacan-info-color, #505253)",width:"2.875em",height:"2.875em"},[(0,n.Lk)("path",{d:"M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z"})])])])],-1)})),T=["aria-label"],j=[i((function(){return(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-close"})],-1)}))],S=["aria-setsize","aria-posinset","data-tainacan-item-id"],$=["href"],H=["innerHTML"],A={class:"metadata-title"},z=["aria-label","onClick"],B={style:{width:"1.125em",height:"1.125em"},viewBox:"0 0 24 24"},P=[i((function(){return(0,n.Lk)("path",{fill:"currentColor",d:"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M3.05,13H1V11H3.05C3.5,6.83 6.83,3.5 11,3.05V1H13V3.05C17.17,3.5 20.5,6.83 20.95,11H23V13H20.95C20.5,17.17 17.17,20.5 13,20.95V23H11V20.95C6.83,20.5 3.5,17.17 3.05,13M12,5A7,7 0 0,0 5,12A7,7 0 0,0 12,19A7,7 0 0,0 19,12A7,7 0 0,0 12,5Z"},null,-1)}))],E=["innerHTML"],O=["innerHTML"],Z=["onClick"],V=[i((function(){return(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-viewgallery tainacan-icon-1-125em"},null,-1)}))],X={class:"media"},F={class:"list-metadata media-body"},q={key:0,class:"tainacan-record-thumbnail"},G={class:"metadata-label"},N=["innerHTML"],Q=["innerHTML"];function R(a,t,e,i,R,U){var D=(0,n.g2)("blur-hash-image"),W=(0,n.g2)("l-tile-layer"),K=(0,n.g2)("l-icon"),J=(0,n.g2)("l-tooltip"),Y=(0,n.g2)("l-marker"),aa=(0,n.g2)("l-control-zoom"),ta=(0,n.g2)("l-control"),ea=(0,n.g2)("l-map"),na=(0,n.gN)("tooltip");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",r,[(0,n.RG)(a.$slots,"default",{},void 0,!0),(0,n.Lk)("div",{class:(0,n.C4)(["tainacan-leaflet-map-container",{"has-selected-item":R.mapSelectedItemId}])},[(0,n.Lk)("ul",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.items,(function(e,i){return(0,n.uX)(),(0,n.CE)("li",{key:e.id,role:"listitem","aria-setsize":a.totalItems,"aria-posinset":a.getPosInSet(i),"data-tainacan-item-id":e.id,onMouseenter:function(a){return R.hoveredMapCardItemId=e.id},onMouseleave:t[0]||(t[0]=function(a){return R.hoveredMapCardItemId=!1})},[(0,n.Lk)("div",{class:(0,n.C4)([{"clicked-map-card":R.mapSelectedItemId==e.id,"non-located-item":!U.itemsLocations.some((function(a){return a.item.id==e.id}))},"tainacan-map-card"]),onClick:(0,n.D$)((function(a){return U.showLocationsByItem(e)}),["prevent","stop"])},[a.hasBeforeHook()?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"faceted-search-hook faceted-search-hook-item-before",innerHTML:a.getBeforeHook(e)},null,8,s)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:"metadata-title",style:(0,n.Tr)({cursor:U.itemsLocations.some((function(a){return a.item.id==e.id}))?"pointer":"auto"})},[a.collectionId&&a.titleItemMetadatum?(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",{key:0,innerHTML:null!=e.metadata?a.renderMetadata(e,a.titleItemMetadatum):""},null,8,m)),[[na,{delay:{show:500,hide:300},content:null!=e.metadata?a.renderMetadata(e,a.titleItemMetadatum):"",html:!0,autoHide:!1,placement:"top-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0),!a.collectionId&&a.titleItemMetadatum?(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",{key:1,innerHTML:null!=e.title?e.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>"},null,8,p)),[[na,{delay:{show:500,hide:300},content:null!=e.title?e.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"top-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0),(0,n.Lk)("div",u,[null!=e.thumbnail?((0,n.uX)(),(0,n.Wv)(D,{key:0,class:"tainacan-map-card-item-thumbnail",width:a.$thumbHelper.getWidth(e.thumbnail,"tainacan-small",40),height:a.$thumbHelper.getHeight(e.thumbnail,"tainacan-small",40),hash:a.$thumbHelper.getBlurhashString(e.thumbnail,"tainacan-small"),src:a.$thumbHelper.getSrc(e.thumbnail,"tainacan-small",e.document_mimetype),srcset:a.$thumbHelper.getSrcSet(e.thumbnail,"tainacan-small",e.document_mimetype),alt:e.thumbnail_alt?e.thumbnail_alt:a.$i18n.get("label_thumbnail"),"transition-duration":500},null,8,["width","height","hash","src","srcset","alt"])):(0,n.Q3)("",!0)]),a.isSlideshowViewModeEnabled?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:2,class:"icon slideshow-icon",onClick:(0,n.D$)((function(t){return a.starSlideshowFromHere(i)}),["prevent"])},v,8,h)),[[na,{delay:{show:500,hide:100},content:a.$i18n.get("label_see_on_fullscreen"),placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0)],4),a.hasAfterHook()?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"faceted-search-hook faceted-search-hook-item-after",innerHTML:a.getAfterHook(e)},null,8,f)):(0,n.Q3)("",!0)],10,d)],40,l)})),128))]),(0,n.bF)(ea,{id:"tainacan-view-mode-map",ref:"tainacan-view-mode-map",style:{height:"60vh",width:"100%"},zoom:5,center:[-14.4086569,-51.31668],"zoom-animation":!0,options:{name:"tainacan-view-mode-map",zoomControl:!1},onClick:t[3]||(t[3]=function(a){return U.clearSelectedMarkers()}),onReady:t[4]||(t[4]=function(a){return U.onMapReady()})},{default:(0,n.k6)((function(){return[(0,n.bF)(W,{url:R.mapTileUrl,attribution:R.mapTileAttribution},null,8,["url","attribution"]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(U.itemsLocations,(function(t,e){return(0,n.uX)(),(0,n.Wv)(Y,{key:e,"lat-lng":t.location,opacity:R.selectedMarkerIndexes.length>0&&!R.selectedMarkerIndexes.includes(e)?.35:1,onClick:function(a){return U.showItemByLocation(e)}},{default:(0,n.k6)((function(){return[(0,n.bF)(K,{"icon-retina-url":R.mapIconRetinaUrl,"icon-url":R.mapIconUrl,"shadow-url":R.mapIconShadowUrl,"icon-size":t.item.id==R.hoveredMapCardItemId||t.item.id==R.mapSelectedItemId?[25,41]:[16,28],"shadow-size":t.item.id==R.hoveredMapCardItemId||t.item.id==R.mapSelectedItemId?[41,41]:[28,28],"icon-anchor":t.item.id==R.hoveredMapCardItemId||t.item.id==R.mapSelectedItemId?[12,41]:[8,28],"tooltip-anchor":t.item.id==R.hoveredMapCardItemId||t.item.id==R.mapSelectedItemId?[16,-28]:[8,-21],"popup-anchor":t.item.id==R.hoveredMapCardItemId||t.item.id==R.mapSelectedItemId?[1,-34]:[1,-25]},null,8,["icon-retina-url","icon-url","shadow-url","icon-size","shadow-size","icon-anchor","tooltip-anchor","popup-anchor"]),(0,n.bF)(J,null,{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.displayedMetadata,(function(e,i){return(0,n.uX)(),(0,n.CE)("div",{key:i},[e.display&&null!=e.metadata_type_object&&"title"==e.metadata_type_object.related_mapped_prop?((0,n.uX)(),(0,n.CE)("div",{key:0,style:{"font-weight":"bold"},innerHTML:(null!=t.item.metadata&&a.collectionId?a.renderMetadata(t.item,e):t.item.title?t.item.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>")+U.getMultivalueIndicator(t)},null,8,g)):(0,n.Q3)("",!0),e.display&&"Tainacan\\Metadata_Types\\Compound"==e.metadata_type&&U.selectedGeocoordinateMetadatum.parent==e.id?((0,n.uX)(),(0,n.CE)("div",{key:1,innerHTML:null!=t.item.metadata?a.renderMetadata(t.item,e,t.multivalueIndex):""},null,8,b)):(0,n.Q3)("",!0)])})),128))]})),_:2},1024)]})),_:2},1032,["lat-lng","opacity","onClick"])})),128)),(0,n.bF)(aa,{position:"bottomright"}),(0,n.bF)(ta,{"disable-scroll-propagation":!0,"disable-click-propagation":!0,position:"topleft"},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",_,[Object.keys(U.geocoordinateMetadata).length?((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("label",null,(0,n.v_)(a.$i18n.get("label_showing_locations_for"))+"Â ",1),(0,n.Lk)("div",w,[(0,n.Lk)("span",x,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(a){return R.selectedGeocoordinateMetadatumId=a}),placeholder:a.$i18n.get("instruction_select_geocoordinate_metadatum")},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(U.geocoordinateMetadata,(function(a,t){return(0,n.uX)(),(0,n.CE)("option",{key:a.id,role:"button",class:(0,n.C4)({"is-active":R.selectedGeocoordinateMetadatumId==t}),value:t,onClick:function(a){return U.onChangeSelectedGeocoordinateMetadatum(t)}},(0,n.v_)(a.name),11,L)})),128))],8,k),[[n.u1,R.selectedGeocoordinateMetadatumId]])])])])):((0,n.uX)(),(0,n.CE)("section",M,[(0,n.Lk)("div",I,[C,(0,n.Lk)("p",null,(0,n.v_)(a.$i18n.get("info_empty_geocoordinate_metadata_list")),1)])]))])]})),_:1}),R.selectedMarkerIndexes.length||R.mapSelectedItemId?((0,n.uX)(),(0,n.Wv)(ta,{key:0,"disable-scroll-propagation":!0,"disable-click-propagation":!0,position:"topleft",class:"tainacan-records-container tainacan-records-container--map"},{default:(0,n.k6)((function(){return[(0,n.bo)(((0,n.uX)(),(0,n.CE)("button",{"aria-label":a.$i18n.get("label_clean"),class:"tainacan-records-close-button",onClick:t[2]||(t[2]=function(a){return U.clearSelectedMarkers()})},j,8,T)),[[na,{content:a.$i18n.get("label_clean"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,n.bF)(n.F,{tag:"ul",name:"appear"},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.items.filter((function(a){return R.mapSelectedItemId==a.id})),(function(t,e){return(0,n.uX)(),(0,n.CE)("li",{key:t.id,"aria-setsize":a.totalItems,"aria-posinset":a.getPosInSet(e),"data-tainacan-item-id":t.id},[(0,n.Lk)("a",{href:a.getItemLink(t.url,e),class:(0,n.C4)([{"non-located-item":!U.itemsLocations.some((function(a){return a.item.id==t.id}))},"tainacan-record"])},[a.hasBeforeHook()?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"faceted-search-hook faceted-search-hook-item-before",innerHTML:a.getBeforeHook(t)},null,8,H)):(0,n.Q3)("",!0),(0,n.Lk)("div",A,[U.itemsLocations.some((function(a){return a.item.id==t.id}))&&U.selectedGeocoordinateMetadatum.slug?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:0,id:"button-show-location",class:"icon",style:{margin:"-1px 4px 0px 0px"},"aria-label":a.$i18n.get("label_show_item_location_on_map"),onClick:(0,n.D$)((function(a){return U.showLocationsByItem(t)}),["prevent","stop"])},[((0,n.uX)(),(0,n.CE)("svg",B,P))],8,z)),[[na,{content:a.$i18n.get("label_show_item_location_on_map"),autoHide:!0,placement:"auto",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0),a.collectionId&&a.titleItemMetadatum?(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",{key:1,innerHTML:null!=t.metadata?a.renderMetadata(t,a.titleItemMetadatum):""},null,8,E)),[[na,{delay:{show:500,hide:300},content:null!=t.metadata?a.renderMetadata(t,a.titleItemMetadatum):"",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0),!a.collectionId&&a.titleItemMetadatum?(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",{key:2,innerHTML:null!=t.title?t.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>"},null,8,O)),[[na,{delay:{show:500,hide:300},content:null!=t.title?t.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0),a.isSlideshowViewModeEnabled?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:3,class:"icon slideshow-icon",onClick:(0,n.D$)((function(t){return a.starSlideshowFromHere(e)}),["prevent"])},V,8,Z)),[[na,{delay:{show:500,hide:100},content:a.$i18n.get("label_see_on_fullscreen"),placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]}]]):(0,n.Q3)("",!0)]),(0,n.Lk)("div",X,[(0,n.Lk)("div",F,[null!=t.thumbnail?((0,n.uX)(),(0,n.CE)("div",q,[null!=t.thumbnail?((0,n.uX)(),(0,n.Wv)(D,{key:0,class:"tainacan-record-item-thumbnail",width:a.$thumbHelper.getWidth(t.thumbnail,"tainacan-medium-full",120),height:a.$thumbHelper.getHeight(t.thumbnail,"tainacan-medium-full",120),hash:a.$thumbHelper.getBlurhashString(t.thumbnail,"tainacan-medium-full"),src:a.$thumbHelper.getSrc(t.thumbnail,"tainacan-medium-full",t.document_mimetype),srcset:a.$thumbHelper.getSrcSet(t.thumbnail,"tainacan-medium-full",t.document_mimetype),alt:t.thumbnail_alt?t.thumbnail_alt:a.$i18n.get("label_thumbnail"),"transition-duration":500,onClick:(0,n.D$)((function(e){return a.onClickItem(e,t)}),["left"])},null,8,["width","height","hash","src","srcset","alt","onClick"])):(0,n.Q3)("",!0),(0,n.Lk)("div",{style:(0,n.Tr)({minHeight:U.getItemImageHeight(t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][1]:t.thumbnail.medium_large?t.thumbnail.medium_large[1]:120,t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][2]:t.thumbnail.medium_large?t.thumbnail.medium_large[2]:120)+"px",marginTop:"-"+U.getItemImageHeight(t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][1]:t.thumbnail.medium_large?t.thumbnail.medium_large[1]:120,t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][2]:t.thumbnail.medium_large?t.thumbnail.medium_large[2]:120)+"px"})},null,4)])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.displayedMetadata,(function(e,i){return(0,n.uX)(),(0,n.CE)(n.FK,{key:i},[""!=a.renderMetadata(t,e)&&e.display&&"thumbnail"!=e.slug&&null!=e.metadata_type_object&&"title"!=e.metadata_type_object.related_mapped_prop&&"Tainacan\\Metadata_Types\\GeoCoordinate"!=e.metadata_type?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,n.C4)({"metadata-type-textarea":"tainacan-textarea"==e.metadata_type_object.component})},[(0,n.Lk)("h3",G,(0,n.v_)(e.name),1),(0,n.Lk)("p",{class:"metadata-value",innerHTML:a.renderMetadata(t,e)},null,8,N)],2)):(0,n.Q3)("",!0)],64)})),128))])]),a.hasAfterHook()?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"faceted-search-hook faceted-search-hook-item-after",innerHTML:a.getAfterHook(t)},null,8,Q)):(0,n.Q3)("",!0)],10,$)],8,S)})),128))]})),_:1})]})),_:1})):(0,n.Q3)("",!0)]})),_:1})],2)])])}},70931:(a,t,e)=>{"use strict";e.d(t,{l:()=>d});var n=e(55373),i=e.n(n);function o(a){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o(a)}function r(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,n)}return e}function c(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){l(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}function l(a,t,e){return(t=function(a){var t=function(a,t){if("object"!=o(a)||!a)return a;var e=a[Symbol.toPrimitive];if(void 0!==e){var n=e.call(a,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==o(t)?t:t+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var d={data:function(){return{isSlideshowViewModeEnabled:!1}},props:{collectionId:[String,Number],termId:[String,Number],displayedMetadata:Array,shouldHideItemsThumbnail:Boolean,items:{type:Array,default:function(){return[]},required:!0},isLoading:!1,totalItems:Number,isFiltersMenuCompressed:Boolean,enabledViewModes:Array,containerId:String},computed:{queries:function(){var a=this.$route&&this.$route.query?JSON.parse(JSON.stringify(this.$route.query)):{};return a&&(delete a.view_mode,delete a.fetch_only,delete a.fetch_only_meta),a},titleItemMetadatum:function(){var a=this.displayedMetadata.find((function(a){return a.display&&a.metadata_type_object&&"title"==a.metadata_type_object.related_mapped_prop}));return a||!1},descriptionItemMetadatum:function(){var a=this.displayedMetadata.find((function(a){return a.display&&a.metadata_type_object&&"description"==a.metadata_type_object.related_mapped_prop}));return a||!1}},mounted:function(){this.isSlideshowViewModeEnabled=!(!this.enabledViewModes||!Array.isArray(this.enabledViewModes))&&this.enabledViewModes.findIndex((function(a){return"slideshow"==a}))>=0},methods:{hasBeforeHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_item_before")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before")))},hasAfterHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_collection_item_after")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after")))},getBeforeHook:function(a){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before"),wp.hooks.applyFilters("tainacan_faceted_search_item_before","",a),a):""},getAfterHook:function(a){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after"),wp.hooks.applyFilters("tainacan_faceted_search_item_after","",a),a):""},getItemLink:function(a,t){return this.queries?(this.queries.pos=(this.queries.paged-1)*this.queries.perpage+t,this.queries.source_list=this.termId?"term":this.collectionId&&"default"!=this.collectionId?"collection":"repository",this.$route&&this.$route.href&&this.$route.href.split("?")&&this.$route.href.split("?").length&&(this.queries.ref=this.$route.href),a+"?"+i().stringify(this.queries)):a},renderMetadata:function(a,t,e){var n=!1;if(a&&a.metadata&&null!=a.metadata[t.slug])n=a.metadata[t.slug];else if(t&&t.metadata_type_object&&t.metadata_type_object.core&&t.metadata_type_object.related_mapped_prop&&a[t.metadata_type_object.related_mapped_prop])return a[t.metadata_type_object.related_mapped_prop];if(!n)return"";if(null!=e&&n.value[e]){if(!Array.isArray(n.value[e])&&n.value[e].value_as_html)return n.value[e].value_as_html;if(Array.isArray(n.value[e])){var i="";return n.value[e].forEach((function(a){a.value_as_html&&(i+=a.value_as_html+"<br>")})),i}}return n.value_as_html},starSlideshowFromHere:function(a){var t=this;this.$router&&this.$route&&this.$route.query&&this.$router.replace({query:c(c({},this.$route.query),{"slideshow-from":a})}).catch((function(a){return t.$console.log(a)}))},getPosInSet:function(a){if(!isNaN(Number(this.queries.paged))&&!isNaN(Number(this.queries.perpage)))return(Number(this.queries.paged)-1)*Number(this.queries.perpage)+a+1}}}},6375:(a,t,e)=>{"use strict";e.d(t,{A:()=>c});var n=e(31601),i=e.n(n),o=e(76314),r=e.n(o)()(i());r.push([a.id,'.theme-items-list .tainacan-records-container--skeleton[data-v-775e9534],.theme-items-list .tainacan-records-container[data-v-775e9534],.items-list-area .tainacan-records-container--skeleton[data-v-775e9534],.items-list-area .tainacan-records-container[data-v-775e9534]{min-height:50vh}@supports (contain: inline-size){.table-wrapper[data-v-775e9534]{container-type:inline-size;container-name:tablewrapper}}.tainacan-records-container[data-v-775e9534]{list-style:none;margin-left:30px;padding:0;display:flex;flex-wrap:wrap;flex-grow:1;flex-shrink:1;justify-content:space-evenly;animation-name:appear;animation-duration:0.5s}.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(16.666% - 30px)}@container tablewrapper (max-width: 2560px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(20% - 30px)}}@container tablewrapper (max-width: 1920px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(25% - 30px)}}@container tablewrapper (max-width: 1320px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(33.333% - 30px)}}@container tablewrapper (max-width: 1000px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(50% - 30px)}}@container tablewrapper (max-width: 740px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:100%}}@supports not (contain: inline-size){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(20% - 30px)}@media screen and (max-width: 2560px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(25% - 30px)}}@media screen and (max-width: 1920px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(33.333% - 30px)}}@media screen and (max-width: 1360px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:calc(50% - 30px)}}@media screen and (max-width: 1024px){.tainacan-records-container>li[data-v-775e9534],.tainacan-records-container .tainacan-records-grid-sizer[data-v-775e9534]{width:100%}}}.tainacan-records-container .tainacan-record[data-v-775e9534]{background-color:rgba(126,126,126,0.05);padding:0px;flex-basis:0;margin:0 auto 30px auto;width:100%;max-width:425px;min-height:100px;cursor:pointer;text-decoration:none;display:block;transition:background-color 0.2s ease}.tainacan-records-container .tainacan-record[data-v-775e9534] img{height:auto;max-width:100%}.tainacan-records-container .tainacan-record[data-v-775e9534]:hover{background-color:var(--tainacan-item-hover-background-color) !important}.tainacan-records-container .tainacan-record.selected-record[data-v-775e9534]{background-color:var(--tainacan-turquoise1)}.tainacan-records-container .tainacan-record.selected-record .metadata-title[data-v-775e9534]{background-color:var(--tainacan-turquoise2)}.tainacan-records-container .tainacan-record .record-checkbox[data-v-775e9534]{position:absolute;margin-left:1.0em;margin-top:7px;z-index:9}.tainacan-records-container .tainacan-record .actions-area[data-v-775e9534]{position:relative;float:right;top:calc(-1 * var(--tainacan-container-padding));bottom:0;padding-right:12px;margin-bottom:-25px;display:flex;justify-content:space-between;visibility:hidden;opacity:0;transition:visibility 0.2s, opacity 0.3s ease, top 0.2s ease}.tainacan-records-container .tainacan-record .actions-area a[data-v-775e9534]{margin-left:12px;opacity:0;transition:opacity 0.3s ease}.tainacan-records-container .tainacan-record:hover .actions-area[data-v-775e9534]{visibility:visible;opacity:1.0;top:calc(-1 * 0.5em - var(--tainacan-container-padding))}.tainacan-records-container .tainacan-record:hover .actions-area a[data-v-775e9534]{opacity:1}.tainacan-records-container .tainacan-record .record-line[data-v-775e9534]{height:1px;background-color:var(--tainacan-item-heading-hover-background-color);margin-left:-44px;margin-right:-44px;opacity:0;visibility:hidden}.tainacan-records-container .tainacan-record .tainacan-record-thumbnail[data-v-775e9534]{float:right;margin:0 0 var(--tainacan-container-padding) var(--tainacan-container-padding)}.tainacan-records-container .tainacan-record .tainacan-record-item-thumbnail[data-v-775e9534],.tainacan-records-container .tainacan-record img[data-v-775e9534]{width:120px;height:auto;border-radius:0px;position:relative;z-index:1}.tainacan-records-container .tainacan-record .skeleton[data-v-775e9534]{width:120px}.tainacan-records-container .tainacan-record .metadata-title[data-v-775e9534]{flex-shrink:0;padding:0.5em 7em 0.5em 2.75em;font-size:1.0em !important;min-height:1.5em;position:relative;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--tainacan-heading-color);transition:background-color 0.3s ease}.tainacan-records-container .tainacan-record .metadata-title p[data-v-775e9534]{line-height:1.875em;font-size:0.875em !important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:0;transition:background-color 0.3s}.tainacan-records-container .tainacan-record .metadata-title .slideshow-icon[data-v-775e9534]{color:var(--tainacan-info-color);position:absolute;right:7px;top:7px;transform:scale(0);transition:transform 0.2s ease}.tainacan-records-container .tainacan-record .metadata-title .icon[data-v-775e9534]:not(.slideshow-icon){float:left;margin-top:-1px}.tainacan-records-container .tainacan-record:hover .metadata-title[data-v-775e9534],.tainacan-records-container .tainacan-record:focus .metadata-title[data-v-775e9534]{background-color:var(---tainacan-item-heading-hover-background-color) !important}.tainacan-records-container .tainacan-record:hover .metadata-title p[data-v-775e9534],.tainacan-records-container .tainacan-record:focus .metadata-title p[data-v-775e9534]{text-decoration:none !important}.tainacan-records-container .tainacan-record:hover .metadata-title .slideshow-icon[data-v-775e9534],.tainacan-records-container .tainacan-record:focus .metadata-title .slideshow-icon[data-v-775e9534]{transform:scale(1)}.tainacan-records-container .tainacan-record:hover .media[data-v-775e9534],.tainacan-records-container .tainacan-record:focus .media[data-v-775e9534]{background-color:var(--tainacan-item-hover-background-color) !important}.tainacan-records-container .tainacan-record .media[data-v-775e9534]{width:100%;display:flex;transition:background-color 0.2s ease}.tainacan-records-container .tainacan-record .media .list-metadata[data-v-775e9534]{padding:var(--tainacan-container-padding);padding-top:0.5em;flex:1;font-size:1em;color:var(--tainacan-info-color);overflow:hidden;width:100%}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-label[data-v-775e9534]{margin:0 0 0.5em 0;padding-top:0;font-size:0.75em;font-weight:700;color:var(--tainacan-info-color);clear:none}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-label[data-v-775e9534]::after{clear:none}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-value[data-v-775e9534]{font-size:0.75em;margin-bottom:1em;color:var(--tainacan-info-color);clear:none}.tainacan-records-container .tainacan-record .media .list-metadata span:last-of-type>.metadata-value[data-v-775e9534]{margin-bottom:0px}.tainacan-records-container.hide-items-selection .tainacan-record:hover .media[data-v-775e9534]{background-color:var(--tainacan-gray0) !important;cursor:default}.tainacan-records-container.hide-items-selection .tainacan-record .metadata-title[data-v-775e9534]{padding-left:1.5em !important;margin-bottom:-0.75em}.tainacan-records-container.hide-items-selection .tainacan-record:hover .metadata-title[data-v-775e9534]{background-color:var(--tainacan-gray0) !important;cursor:default}.tainacan-records-container--skeleton[data-v-775e9534]{display:block;padding-left:30px;padding-right:30px;column-gap:30px;height:auto !important;column-count:6}.tainacan-records-container--skeleton .skeleton[data-v-775e9534]{width:100%;margin-bottom:30px;break-inside:avoid}@container tablewrapper (max-width: 2560px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:5}}@container tablewrapper (max-width: 1920px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:4}}@container tablewrapper (max-width: 1320px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:3}}@container tablewrapper (max-width: 1000px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:2}}@container tablewrapper (max-width: 740px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:1}}@supports not (contain: inline-size){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:5}@media screen and (max-width: 2560px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:4}}@media screen and (max-width: 1920px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:3}}@media screen and (max-width: 1360px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:2}}@media screen and (max-width: 1024px){.tainacan-records-container--skeleton[data-v-775e9534]{column-count:1}}}.tainacan-leaflet-map-container[data-v-775e9534]{border:1px solid var(--tainacan-input-border-color);border-radius:3px;display:flex;height:60vh}.tainacan-leaflet-map-container.has-selected-item #tainacan-admin-view-mode-map[data-v-775e9534] .leaflet-active-area,.tainacan-leaflet-map-container.has-selected-item #tainacan-view-mode-map[data-v-775e9534] .leaflet-active-area{left:310px}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534]{border:none;border-left:1px solid var(--tainacan-input-border-color)}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534] .leaflet-active-area,.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534] .leaflet-active-area{position:absolute;top:56px;left:10px;right:42px;height:calc(60vh - 76px)}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534] .leaflet-marker-pane,.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534] .leaflet-marker-pane{filter:hue-rotate(-22deg)}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534] div.tainacan-metadatum.metadata-type-geocoordinate,.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534] span[data-module="geocoordinate-item-metadatum"],.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534] span[data-module="geocoordinate-item-metadatum"]+br,.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534] div.tainacan-metadatum.metadata-type-geocoordinate,.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534] span[data-module="geocoordinate-item-metadatum"],.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534] span[data-module="geocoordinate-item-metadatum"]+br{display:none;visibility:hidden}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel[data-v-775e9534]{background:var(--tainacan-background-color, #fff);box-shadow:0px 0px 12px -10px var(--tainacan-black, #000);border-radius:3px;padding:0.25rem 0.125rem 0.25rem 1rem;border:2px solid rgba(0,0,0,0.2);background-clip:padding-box;opacity:0.8;transition:opacity ease 0.3s, box-shadow ease 0.3s}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel[data-v-775e9534]:hover,.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel[data-v-775e9534]:focus,.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel[data-v-775e9534]:hover,.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel[data-v-775e9534]:focus{opacity:1.0;box-shadow:4px 0px 18px -12px var(--tainacan-black, #000)}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel .geocoordinate-panel--input[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel .geocoordinate-panel--input[data-v-775e9534]{color:var(--tainacan-label-color);display:flex;align-items:center;flex-wrap:wrap;padding:0;font-size:1.25em;font-family:var(--tainacan-font-family)}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel .geocoordinate-panel--input label[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel .geocoordinate-panel--input p[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel .geocoordinate-panel--input a[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel .geocoordinate-panel--input label[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel .geocoordinate-panel--input p[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel .geocoordinate-panel--input a[data-v-775e9534]{margin:0}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map .geocoordinate-panel .geocoordinate-panel--input[data-v-775e9534] select,.tainacan-leaflet-map-container #tainacan-view-mode-map .geocoordinate-panel .geocoordinate-panel--input[data-v-775e9534] select{background-color:var(--tainacan-input-background-color)}.tainacan-leaflet-map-container .tainacan-records-container--map[data-v-775e9534]{height:auto;max-height:calc(60vh - 54px);overflow-y:auto;overflow-x:hidden;width:286px;max-width:286px;float:none;position:initial;font-size:1rem;padding-top:10px;padding-bottom:24px}.tainacan-leaflet-map-container .tainacan-records-container--map>ul[data-v-775e9534]{width:100%;padding:0px;margin:0px}.tainacan-leaflet-map-container .tainacan-records-container--map .tainacan-records-close-button[data-v-775e9534]{background-color:var(--tainacan-background-color);border-radius:100%;box-shadow:0px 0px 12px -10px var(--tainacan-black);border:2px solid rgba(0,0,0,0.2);width:1rem;height:1rem;position:absolute;left:300px;cursor:pointer;padding:0.75em;display:flex;justify-content:center;align-content:center}.tainacan-leaflet-map-container .tainacan-records-container--map .tainacan-records-close-button[data-v-775e9534]:hover{background-color:var(--tainacan-item-hover-background-color)}.tainacan-leaflet-map-container .tainacan-records-container--map .tainacan-records-close-button .icon[data-v-775e9534]{height:0.0625em}.tainacan-leaflet-map-container .tainacan-records-container--map>li[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li[data-v-775e9534]{max-width:286px;width:100%}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record[data-v-775e9534]{margin-bottom:0.125rem;max-width:286px;width:100%;box-shadow:0px 0px 12px -10px var(--tainacan-black);border:2px solid rgba(0,0,0,0.2);opacity:1.0;transition:1.0}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record[data-v-775e9534]:not(.is-selecting),.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record[data-v-775e9534]:not(.is-selecting){background-color:var(--tainacan-background-color)}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .metadata-title[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .metadata-title[data-v-775e9534]{padding:0.5em 6.75em 0.5em 0.75em}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .metadata-title p[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .metadata-title p[data-v-775e9534]{white-space:normal;overflow:visible;line-height:1.5em}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record #button-show-location[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record #button-show-location[data-v-775e9534]{color:var(--tainacan-secondary);cursor:pointer}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .tainacan-record-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .tainacan-record-thumbnail[data-v-775e9534]{margin:0 0 0.75rem 1rem !important}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .tainacan-record-item-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record img[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .tainacan-record-item-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record img[data-v-775e9534]{max-width:75px}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .media .list-metadata[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .media .list-metadata[data-v-775e9534]{padding:1rem}.tainacan-leaflet-map-container .tainacan-records-container--map>li .tainacan-record .actions-area[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-records-container--map>ul>li .tainacan-record .actions-area[data-v-775e9534]{margin-bottom:-32px}.tainacan-leaflet-map-container .tainacan-map-cards-container[data-v-775e9534]{padding:0;margin:0;position:relative;width:286px;height:60vh;overflow-y:auto;overflow-x:hidden;display:inline-block}.tainacan-leaflet-map-container .tainacan-map-cards-container>li[data-v-775e9534]{width:100%}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card[data-v-775e9534]{max-width:100%;opacity:1.0;background-color:var(--tainacan-item-background-color);border-bottom:1px solid var(--tainacan-item-hover-background-color)}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.non-located-item[data-v-775e9534]{opacity:0.35}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.non-located-item[data-v-775e9534]:hover,.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.non-located-item[data-v-775e9534]:focus{opacity:1.0}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .tainacan-map-card-item-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card img[data-v-775e9534]{max-width:60px}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.selected-map-card[data-v-775e9534]{background-color:var(--tainacan-turquoise1)}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.selected-map-card .metadata-title[data-v-775e9534]{background-color:var(--tainacan-turquoise2)}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.clicked-map-card[data-v-775e9534]:not(.non-located-item){background-color:var(--tainacan-item-hover-background-color)}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card.clicked-map-card:not(.non-located-item) .metadata-title[data-v-775e9534]{font-weight:bold}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .map-card-checkbox[data-v-775e9534]{position:absolute;margin-left:1.0em;margin-top:12px;z-index:9}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .actions-area[data-v-775e9534]{position:relative;float:right;top:calc(-0.25em * var(--tainacan-container-padding));bottom:0;padding-right:12px;margin-bottom:-25px;display:flex;justify-content:space-between;visibility:hidden;opacity:0;transition:visibility 0.2s, opacity 0.3s ease, top 0.2s ease}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .actions-area a[data-v-775e9534]{margin-left:12px;opacity:0;transition:opacity 0.3s ease}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .actions-area[data-v-775e9534]{visibility:visible;opacity:1.0;top:calc(-0.875em - var(--tainacan-container-padding))}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .actions-area a[data-v-775e9534]{opacity:1}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .tainacan-map-card-thumbnail[data-v-775e9534]{max-width:40px;margin-left:auto}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .tainacan-map-card-item-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card img[data-v-775e9534]{width:40px;height:40px;border-radius:0px;position:relative;z-index:1}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .metadata-title[data-v-775e9534]{box-sizing:border-box;flex-shrink:0;padding:0.25em 1.125em;font-size:1.0em !important;min-height:40px;position:relative;display:flex;gap:0.75rem;min-width:100%;align-items:center;color:var(--tainacan-heading-color);transition:background-color 0.3s ease}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .metadata-title p[data-v-775e9534]{line-height:1.5em;font-size:0.875em !important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:0;width:100%;transition:background-color 0.3s}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .metadata-title .slideshow-icon[data-v-775e9534]{color:var(--tainacan-info-color);position:absolute;right:18px;top:12px;transform:scale(0);transition:transform 0.2s ease}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card .metadata-title .icon[data-v-775e9534]:not(.slideshow-icon){float:left;margin-top:-1px}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card[data-v-775e9534]:hover,.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card[data-v-775e9534]:focus{background-color:var(--tainacan-item-hover-background-color)}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .tainacan-map-card-item-thumbnail[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:focus .tainacan-map-card-item-thumbnail[data-v-775e9534]{opacity:0.0;visibility:hidden}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .metadata-title[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:focus .metadata-title[data-v-775e9534]{background-color:var(---tainacan-item-heading-hover-background-color) !important}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .metadata-title p[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:focus .metadata-title p[data-v-775e9534]{text-decoration:none !important}.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:hover .metadata-title .slideshow-icon[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container>li .tainacan-map-card:focus .metadata-title .slideshow-icon[data-v-775e9534]{transform:scale(1)}@media screen and (max-width: 960px){.tainacan-leaflet-map-container[data-v-775e9534]{flex-wrap:nowrap}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534],.tainacan-leaflet-map-container .tainacan-map-cards-container[data-v-775e9534]{width:100% !important;max-width:100%}.tainacan-leaflet-map-container #tainacan-admin-view-mode-map[data-v-775e9534],.tainacan-leaflet-map-container #tainacan-view-mode-map[data-v-775e9534]{border-top:1px solid var(--tainacan-input-border-color);border-left:none}.tainacan-leaflet-map-container .tainacan-map-cards-container[data-v-775e9534]{height:30vh}}.select[data-v-775e9534]{padding-top:0px !important;border-radius:var(--tainacan-input-border-radius, 1px)}.select[data-v-775e9534],.select[data-v-775e9534]:not(.is-multiple){height:auto}.select.is-small select[data-v-775e9534]{min-height:24px !important}.select select[data-v-775e9534]{background:transparent;border:none;border-radius:var(--tainacan-input-border-radius, 1px) !important;font-weight:normal;font-size:0.875em !important;font-family:var(--tainacan-font-family, inherit);line-height:1.75em !important;height:auto !important;padding:calc(0.375em - 1px) 24px calc(0.375em - 1px) 10px !important;margin-top:0px !important;margin-bottom:0px !important;color:var(--tainacan-input-color)}.select select option[data-v-775e9534]:checked,.select select option[data-v-775e9534]:hover{background:var(--tainacan-input-border-color) !important}.select select[data-v-775e9534]:not(.is-danger):focus,.select select[data-v-775e9534]:not(.is-danger):focus-visible,.select select[data-v-775e9534]:not(.is-danger):active{box-shadow:none !important;text-decoration:none !important;border-color:var(--tainacan-secondary) !important}.select select[disabled=disabled][data-v-775e9534],.select select[data-v-775e9534]:disabled{background:var(--tainacan-gray1) !important}.select select[data-v-775e9534]:hover,.select select[data-v-775e9534]:focus{color:var(--tainacan-input-color) !important}.select select[data-v-775e9534]:hover{border-color:var(--tainacan-input-color) !important}.select select.has-placeholder-selected[data-v-775e9534],.select select.has-placeholder-selected[data-v-775e9534]:hover,.select select.has-placeholder-selected[data-v-775e9534]:focus{color:var(--tainacan-info-color) !important}.select[data-v-775e9534]:not(.is-loading)::after{content:"arrowdown" !important;font:normal normal normal 20px/1 "TainacanIcons";border:none !important;transform:none !important;right:10px !important;color:var(--tainacan-secondary) !important;display:flex !important;align-items:center;justify-content:center;margin-top:-0.275em !important;text-transform:none !important;letter-spacing:normal !important;font-size:1.2em;line-height:1.5em}.select.is-loading.is-small[data-v-775e9534]::after{font-size:0.875em}.select optgroup[data-v-775e9534],.select optgroup[label][data-v-775e9534],.select optgroup[data-v-775e9534]::before{color:var(--tainacan-gray2);font-weight:normal;font-style:italic}@media screen and (max-width: 782px){.select select[data-v-775e9534]{line-height:2em !important}}.tainacan-records-container--map .tainacan-record .metadata-title[data-v-775e9534]{padding:0.6em 0.875em}.tainacan-records-close-button .icon[data-v-775e9534]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}#tainacan-select-geocoordinate-metatum select[data-v-775e9534]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none}#tainacan-select-geocoordinate-metatum .select[data-v-775e9534]:not(.is-loading)::after{border:3px solid transparent;border-radius:2px;border-right:0;border-top:0;content:" ";display:block;height:0.625em;margin-top:-0.4375em;pointer-events:none;position:absolute;top:50%;transform:rotate(-45deg);transform-origin:center;width:0.625em;content:"arrowdown" !important;font:normal normal normal 20px/1 "TainacanIcons";font-size:20px;line-height:1;border:none !important;transform:none !important;right:10px !important;color:var(--tainacan-secondary) !important;display:flex !important;align-items:center;justify-content:center;margin-top:-0.275em !important;text-transform:none !important;letter-spacing:normal !important;font-size:1.2em;line-height:1.5em}\n',""]);const c=r},16077:()=>{var a;void 0===(a=window.leafletActiveAreaPreviousMethods)&&(a={getCenter:L.Map.prototype.getCenter,setView:L.Map.prototype.setView,flyTo:L.Map.prototype.flyTo,setZoomAround:L.Map.prototype.setZoomAround,getBoundsZoom:L.Map.prototype.getBoundsZoom,PopupAdjustPan:L.Popup.prototype._adjustPan,RendererUpdate:L.Renderer.prototype._update}),L.Map.include({getBounds:function(){if(this._viewport)return this.getViewportLatLngBounds();var a=this.getPixelBounds(),t=this.unproject(a.getBottomLeft()),e=this.unproject(a.getTopRight());return new L.LatLngBounds(t,e)},getViewport:function(){return this._viewport},getViewportBounds:function(){var a=this._viewport,t=L.point(a.offsetLeft,a.offsetTop),e=L.point(a.clientWidth,a.clientHeight);return 0!==e.x&&0!==e.y||(a=this.getContainer())&&(t=L.point(0,0),e=L.point(a.clientWidth,a.clientHeight)),L.bounds(t,t.add(e))},getViewportLatLngBounds:function(){var a=this.getViewportBounds();return L.latLngBounds(this.containerPointToLatLng(a.min),this.containerPointToLatLng(a.max))},getOffset:function(){var a=this.getSize().divideBy(2),t=this.getViewportBounds().getCenter();return a.subtract(t)},getCenter:function(t){var e=a.getCenter.call(this);if(this.getViewport()&&!t){var n=this.getZoom(),i=this.project(e,n);i=i.subtract(this.getOffset()),e=this.unproject(i,n)}return e},setView:function(t,e,n){if(t=L.latLng(t),e=void 0===e?this._zoom:this._limitZoom(e),this.getViewport()){var i=this.project(t,this._limitZoom(e));i=i.add(this.getOffset()),t=this.unproject(i,this._limitZoom(e))}return a.setView.call(this,t,e,n)},flyTo:function(t,e,n){if(t=L.latLng(t),e=void 0===e?l:e,this.getViewport()){var i=this.project(t,this._limitZoom(e));i=i.add(this.getOffset()),t=this.unproject(i,this._limitZoom(e))}if(!1===(n=n||{}).animate||!L.Browser.any3d)return this.setView(t,e,n);this._stop();var o=this.project(a.getCenter.call(this)),r=this.project(t),c=this.getSize(),l=this._zoom,d=Math.max(c.x,c.y),s=d*this.getZoomScale(l,e),m=r.distanceTo(o)||1,p=1.42,u=p*p;function h(a){var t=(s*s-d*d+(a?-1:1)*u*u*m*m)/(2*(a?s:d)*u*m),e=Math.sqrt(t*t+1)-t;return e<1e-9?-18:Math.log(e)}function v(a){return(Math.exp(a)-Math.exp(-a))/2}function f(a){return(Math.exp(a)+Math.exp(-a))/2}var g=h(0);function b(a){return d*(f(g)*(v(t=g+p*a)/f(t))-v(g))/u;var t}var _=Date.now(),y=(h(1)-g)/p,w=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function a(){var n=(Date.now()-_)/w,i=function(a){return 1-Math.pow(1-a,1.5)}(n)*y;n<=1?(this._flyToFrame=L.Util.requestAnimFrame(a,this),this._move(this.unproject(o.add(r.subtract(o).multiplyBy(b(i)/m)),l),this.getScaleZoom(d/function(a){return d*(f(g)/f(g+p*a))}(i),l),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},setZoomAround:function(t,e,n){if(this.getViewport()){var i=this.getZoomScale(e),o=this.getViewportBounds().getCenter(),r=(t instanceof L.Point?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),c=this.containerPointToLatLng(o.add(r));return this.setView(c,e,{zoom:n})}return a.setZoomAround.call(this,t,e,n)},getBoundsZoom:function(a,t,e){a=L.latLngBounds(a),e=L.point(e||[0,0]);var n=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),r=a.getNorthWest(),c=a.getSouthEast(),l=this.getViewport(),d=(l?L.point(l.clientWidth,l.clientHeight):this.getSize()).subtract(e),s=this.project(c,n).subtract(this.project(r,n)),m=L.Browser.any3d?this.options.zoomSnap:1,p=d.x/s.x,u=d.y/s.y,h=t?Math.max(p,u):Math.min(p,u);return n=this.getScaleZoom(h,n),m&&(n=Math.round(n/(m/100))*(m/100),n=t?Math.ceil(n/m)*m:Math.floor(n/m)*m),Math.max(i,Math.min(o,n))},setActiveArea:function(a,t,e){var n;if(t&&this._zoom&&(n=this.getCenter()),!this._viewport){var i=this.getContainer();this._viewport=L.DomUtil.create("div",""),i.insertBefore(this._viewport,i.firstChild)}return"string"==typeof a?this._viewport.className=a:L.extend(this._viewport.style,a),n&&this.setView(n,this.getZoom(),{animate:!!e}),this}}),L.Renderer.include({_onZoom:function(){this._updateTransform(this._map.getCenter(!0),this._map.getZoom())},_update:function(){a.RendererUpdate.call(this),this._center=this._map.getCenter(!0)}}),L.GridLayer.include({_updateLevels:function(){var a=this._tileZoom,t=this.options.maxZoom;if(void 0!==a){for(var e in this._levels)e=Number(e),this._levels[e].el.children.length||e===a?(this._levels[e].el.style.zIndex=t-Math.abs(a-e),this._onUpdateLevel(e)):(L.DomUtil.remove(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var n=this._levels[a],i=this._map;return n||((n=this._levels[a]={}).el=L.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=i.project(i.unproject(i.getPixelOrigin()),a).round(),n.zoom=a,this._setZoomTransform(n,i.getCenter(!0),i.getZoom()),L.Util.falseFn(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_resetView:function(a){var t=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(!0),this._map.getZoom(),t,t)},_update:function(a){var t=this._map;if(t){var e=this._clampZoom(t.getZoom());if(void 0===a&&(a=t.getCenter(!0)),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(a),i=this._pxBoundsToTileRange(n),o=i.getCenter(),r=[],c=this.options.keepBuffer,l=new L.Bounds(i.getBottomLeft().subtract([c,-c]),i.getTopRight().add([c,-c]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var d in this._tiles){var s=this._tiles[d].coords;s.z===this._tileZoom&&l.contains(new L.Point(s.x,s.y))||(this._tiles[d].current=!1)}if(Math.abs(e-this._tileZoom)>1)this._setView(a,e);else{for(var m=i.min.y;m<=i.max.y;m++)for(var p=i.min.x;p<=i.max.x;p++){var u=new L.Point(p,m);if(u.z=this._tileZoom,this._isValidTile(u)){var h=this._tiles[this._tileCoordsToKey(u)];h?h.current=!0:r.push(u)}}if(r.sort((function(a,t){return a.distanceTo(o)-t.distanceTo(o)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(p=0;p<r.length;p++)this._addTile(r[p],v);this._level.el.appendChild(v)}}}}}}),L.Popup.include({_adjustPan:function(){if(this._map._viewport){if(!this.options.autoPan)return;this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=t._viewport,n=this._container.offsetHeight,i=this._containerWidth,o=L.point(e.offsetLeft,e.offsetTop),r=new L.Point(this._containerLeft-o.x,-n-this._containerBottom-o.y);r._add(L.DomUtil.getPosition(this._container));var c=t.layerPointToContainerPoint(r),l=L.point(this.options.autoPanPadding),d=L.point(this.options.autoPanPaddingTopLeft||l),s=L.point(this.options.autoPanPaddingBottomRight||l),m=L.point(e.clientWidth,e.clientHeight),p=0,u=0;c.x+i+s.x>m.x&&(p=c.x+i-m.x+s.x),c.x-p-d.x<0&&(p=c.x-d.x),c.y+n+s.y>m.y&&(u=c.y+n-m.y+s.y),c.y-u-d.y<0&&(u=c.y-d.y),(p||u)&&t.fire("autopanstart").panBy([p,u])}else a.PopupAdjustPan.call(this)}})},35818:(a,t,e)=>{"use strict";var n=e(85072),i=e.n(n),o=e(97825),r=e.n(o),c=e(77659),l=e.n(c),d=e(55056),s=e.n(d),m=e(10540),p=e.n(m),u=e(63494),h=e.n(u),v=e(6375),f={};f.styleTagTransform=h(),f.setAttributes=s(),f.insert=l().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=p();i()(v.A,f),v.A&&v.A.locals&&v.A.locals},36406:(a,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>o});var n=e(52691),i=e(78297);e(25787);const o=(0,e(66262).A)(i.A,[["render",n.X],["__scopeId","data-v-775e9534"]])},78297:(a,t,e)=>{"use strict";e.d(t,{A:()=>n.A});var n=e(74846)},52691:(a,t,e)=>{"use strict";e.d(t,{X:()=>n.X});var n=e(29984)},25787:(a,t,e)=>{"use strict";e(35818)}}]);
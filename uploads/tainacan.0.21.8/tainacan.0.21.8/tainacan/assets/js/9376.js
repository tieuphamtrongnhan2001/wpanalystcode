"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[9376,6995],{83300:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(6934),n=a(74042),i=a(40834),o=a(82933);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function m(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw n}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f={name:"TermEditionForm",mixins:[n.X3],props:{originalForm:Object,taxonomyId:"",isHierarchical:Boolean,isTermInsertionFlow:!1,metadatumId:[String,Number],itemId:[String,Number]},emits:["on-edition-finished","close"],data:function(){return{formErrors:{},headerImageMediaFrame:void 0,isFetchingParentTerms:!1,parentTerms:[],parentTermName:"",showCheckboxesWarning:!1,hasParent:!1,hasChangedParent:!1,initialParentId:void 0,entityName:"term",isLoading:!1,parentTermSearchQuery:"",parentTermSearchOffset:0,form:{},totalTerms:void 0}},created:function(){this.form=JSON.parse(JSON.stringify(this.originalForm))},mounted:function(){var e=this;(0,r.dY)().then((function(){e.updateExtraFormData(e.form),document.getElementById("termEditForm").scrollIntoView({behavior:"smooth"})})),this.showCheckboxesWarning=!1,this.hasParent=null!=this.form.parent&&this.form.parent>0,this.initialParentId=this.form.parent,this.initializeMediaFrames(),this.hasParent&&(this.isFetchingParentTerms=!0,this.showCheckboxesWarning=!1,this.fetchParentName({taxonomyId:this.taxonomyId,parentId:this.form.parent}).then((function(t){e.parentTermName=t,e.isFetchingParentTerms=!1,e.showCheckboxesWarning=!1})).catch((function(t){e.$console.error(t),e.isFetchingParentTerms=!1,e.showCheckboxesWarning=!1})))},methods:c(c({},(0,i.i0)("taxonomy",["sendChildTerm","updateTerm","fetchParentName","fetchPossibleParentTerms"])),{},{saveEdition:function(e){var t=this;if("new"===e.id){var a={name:this.form.name,description:this.form.description,parent:this.hasParent?this.form.parent:0,header_image_id:this.form.header_image_id,header_image:this.form.header_image};this.fillExtraFormData(a),this.isLoading=!0,this.sendChildTerm({taxonomyId:this.taxonomyId,term:a,metadatumId:this.metadatumId,itemId:this.itemId}).then((function(e){t.$emit("on-edition-finished",{term:e,hasChangedParent:t.hasChangedParent,initialParent:t.initialParentId}),t.form={},t.formErrors={},t.isLoading=!1,t.$emit("close")})).catch((function(e){t.isLoading=!1;var a,r=m(e.errors);try{for(r.s();!(a=r.n()).done;)for(var n=a.value,i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];Object.assign(t.formErrors,h({},s,(void 0!==t.formErrors[s]?t.formErrors[s]:"")+n[s]+"\n"))}}catch(e){r.e(e)}finally{r.f()}}))}else{var r={id:this.form.id,name:this.form.name,description:this.form.description,parent:this.hasParent?this.form.parent:0,header_image_id:this.form.header_image_id,header_image:this.form.header_image,total_children:this.form.total_children?this.form.total_children:0};this.fillExtraFormData(r),this.isLoading=!0,this.updateTerm({taxonomyId:this.taxonomyId,term:r,metadatumId:this.metadatumId,itemId:this.itemId}).then((function(e){t.formErrors={},t.$emit("on-edition-finished",{term:e,hasChangedParent:t.hasChangedParent,initialParent:t.initialParentId}),t.$emit("close")})).catch((function(e){var a,r=m(e.errors);try{for(r.s();!(a=r.n()).done;)for(var n=a.value,i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];Object.assign(t.formErrors,h({},s,(void 0!==t.formErrors[s]?t.formErrors[s]:"")+n[s]+"\n"))}}catch(e){r.e(e)}finally{r.f()}t.isLoading=!1}))}},cancelEdition:function(){this.$emit("close")},deleteHeaderImage:function(){this.form=Object.assign({},this.form,{header_image_id:"0",header_image:!1})},initializeMediaFrames:function(){var e=this;this.headerImageMediaFrame=new o.A.thumbnailControl("my-thumbnail-image-media-frame",{button_labels:{frame_title:this.$i18n.get("instruction_select_term_header_image"),frame_button:this.$i18n.get("label_select_file")},relatedPostId:this.form.id,onSave:function(t){e.form=Object.assign({},e.form,{header_image_id:t.id.toString(),header_image:t.url})}})},clearErrors:function(e){if(e instanceof Object)for(var t in e)this.formErrors[t]=void 0;else this.formErrors[e]=void 0},fetchParentTerms:_.debounce((function(e){var t=this;e!=this.parentTermSearchQuery&&(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),e.length||(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),this.parentTermSearchOffset>0&&void 0!==this.totalTerms&&this.parentTerms.length>=this.totalTerms||(this.isFetchingParentTerms=!0,this.fetchPossibleParentTerms({taxonomyId:this.taxonomyId,termId:this.form.id,search:this.parentTermSearchQuery,offset:this.parentTermSearchOffset}).then((function(e){var a,r=m(e.parentTerms);try{for(r.s();!(a=r.n()).done;){var n=a.value;t.parentTerms.push(n)}}catch(e){r.e(e)}finally{r.f()}t.parentTermSearchOffset+=12,t.totalTerms=e.totalTerms,t.isFetchingParentTerms=!1})).catch((function(e){t.$console.error(e),t.isFetchingParentTerms=!1})))}),500),fetchMoreParentTerms:_.debounce((function(){this.fetchParentTerms(this.parentTermSearchQuery)}),250),onToggleSwitch:function(){0==this.form.parent?this.hasChangedParent=this.hasParent:this.hasChangedParent=!this.hasParent,this.showCheckboxesWarning=!0,this.clearErrors("parent")},onSelectParentTerm:function(e){e&&(this.hasChangedParent=this.initialParentId!=e.id,this.form.parent=e.id,this.selectedParentTerm=e,this.parentTermName=e.name,this.showCheckboxesWarning=!0)}})}},20610:(e,t,a)=>{a.d(t,{X:()=>V});var r=a(6934),n=function(e){return(0,r.Qi)("data-v-5c5f896e"),e=e(),(0,r.jt)(),e},i={class:"tainacan-page-title tainacan-modal-title"},o={style:{width:"60%"}},s=["href"],m=n((function(){return(0,r.Lk)("span",{class:"icon"},[(0,r.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-openurl"})],-1)})),l={class:"menu-text"},d=n((function(){return(0,r.Lk)("hr",null,null,-1)})),c={class:"modal-card-body"},h={class:"label is-inline"},f=n((function(){return(0,r.Lk)("span",{class:"required-term-asterisk"},"*",-1)})),u=["innerHTML"],p={class:"columns is-gapless image-and-description-area"},g={class:"column"},b={class:"thumbnail-field"},v={class:"image"},y={key:0,class:"image-placeholder"},_=["alt","src"],w={class:"thumbnail-buttons-row"},k=["aria-label"],E={class:"icon is-small"},x=[n((function(){return(0,r.Lk)("i",{class:"tainacan-icon tainacan-icon-edit"},null,-1)}))],F=["aria-label"],T={class:"icon is-small"},P=[n((function(){return(0,r.Lk)("i",{class:"tainacan-icon tainacan-icon-delete"},null,-1)}))],S={class:"column"},I={class:"label"},C={class:"label is-inline"},L={class:"media"},$={key:0,class:"media-left"},N=["src"],O={class:"media-content"},H=["innerHTML"],A={class:"field is-grouped form-submit"},j={class:"control"},M={class:"control"},D={class:"button is-success",type:"submit"};function V(e,t,a,n,V,z){var W=(0,r.g2)("b-loading"),X=(0,r.g2)("help-button"),Q=(0,r.g2)("b-input"),B=(0,r.g2)("b-field"),Y=(0,r.g2)("b-switch"),q=(0,r.g2)("b-autocomplete"),U=(0,r.gN)("tooltip");return(0,r.uX)(),(0,r.CE)("form",{id:"termEditForm",autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-form tainacan-modal-content",onSubmit:t[13]||(t[13]=(0,r.D$)((function(e){return z.saveEdition(V.form)}),["prevent"]))},[(0,r.Lk)("header",i,[(0,r.Lk)("h2",o,(0,r.v_)(V.form&V.form.id&&"new"!=V.form.id?e.$i18n.get("title_term_edit"):e.$i18n.get("title_term_creation")),1),V.form&&null!=V.form.url&&""!=V.form.url?((0,r.uX)(),(0,r.CE)("a",{key:0,target:"_blank",href:V.form.url},[m,(0,r.Lk)("span",l,(0,r.v_)(e.$i18n.get("label_term_page_on_website")),1)],8,s)):(0,r.Q3)("",!0),d]),(0,r.Lk)("div",c,[(0,r.bF)(W,{modelValue:V.isLoading,"onUpdate:modelValue":t[0]||(t[0]=function(e){return V.isLoading=e}),"is-full-page":!1},null,8,["modelValue"]),(0,r.bF)(B,{addons:!1,type:""===V.formErrors.name&&""===V.formErrors.repeated||void 0===V.formErrors.name&&void 0===V.formErrors.repeated?"":"is-danger",message:V.formErrors.name?V.formErrors.name:V.formErrors.repeated},{default:(0,r.k6)((function(){return[(0,r.Lk)("label",h,[(0,r.eW)((0,r.v_)(e.$i18n.get("label_name"))+" ",1),f,(0,r.bF)(X,{title:e.$i18n.get("label_name"),message:e.$i18n.get("info_help_term_name"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"])]),(0,r.bF)(Q,{modelValue:V.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return V.form.name=e}),placeholder:e.$i18n.get("label_term_without_name"),name:"name",onFocus:t[2]||(t[2]=function(e){return z.clearErrors({name:"name",repeated:"repeated"})})},null,8,["modelValue","placeholder"])]})),_:1},8,["type","message"]),e.hasBeginLeftForm?((0,r.uX)(),(0,r.CE)("form",{key:0,id:"form-term-begin-left",class:"form-hook-region",innerHTML:e.getBeginLeftForm},null,8,u)):(0,r.Q3)("",!0),(0,r.Lk)("div",p,[(0,r.Lk)("div",g,[(0,r.bF)(B,{addons:!1,label:e.$i18n.get("label_image")},{default:(0,r.k6)((function(){return[(0,r.Lk)("div",b,[(0,r.Lk)("figure",v,[void 0===V.form.header_image||!1===V.form.header_image?((0,r.uX)(),(0,r.CE)("span",y,(0,r.v_)(e.$i18n.get("label_empty_term_image")),1)):(0,r.Q3)("",!0),(0,r.Lk)("img",{alt:e.$i18n.get("label_image"),src:void 0===V.form.header_image||!1===V.form.header_image?e.$thumbHelper.getEmptyThumbnailPlaceholder():V.form.header_image},null,8,_)]),(0,r.Lk)("div",w,[(0,r.Lk)("a",{id:"button-edit-header",class:"button is-rounded is-secondary","aria-label":e.$i18n.get("label_button_edit_header_image"),onClick:t[3]||(t[3]=function(e){return V.headerImageMediaFrame.openFrame(e)})},[(0,r.bo)(((0,r.uX)(),(0,r.CE)("span",E,x)),[[U,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"bottom"}]])],8,k),(0,r.Lk)("a",{id:"button-delete-header",class:"button is-rounded is-secondary","aria-label":e.$i18n.get("label_button_delete_thumb"),onClick:t[4]||(t[4]=function(e){return z.deleteHeaderImage()})},[(0,r.bo)(((0,r.uX)(),(0,r.CE)("span",T,P)),[[U,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"bottom"}]])],8,F)])])]})),_:1},8,["label"])]),(0,r.Lk)("div",S,[(0,r.bF)(B,{addons:!1,type:""!==V.formErrors.description&&void 0!==V.formErrors.description?"is-danger":"",message:V.formErrors.description},{default:(0,r.k6)((function(){return[(0,r.Lk)("label",I,[(0,r.eW)((0,r.v_)(e.$i18n.get("label_description"))+" ",1),(0,r.bF)(X,{title:e.$i18n.get("label_description"),message:e.$i18n.get("info_help_term_description"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"])]),(0,r.bF)(Q,{modelValue:V.form.description,"onUpdate:modelValue":t[5]||(t[5]=function(e){return V.form.description=e}),type:"textarea",name:"description",onFocus:t[6]||(t[6]=function(e){return z.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"])])]),a.isHierarchical?((0,r.uX)(),(0,r.Wv)(B,{key:1,addons:!1,type:""===V.formErrors.parent&&""===V.formErrors.repeated||void 0===V.formErrors.parent&&void 0===V.formErrors.repeated?"":"is-danger",message:V.formErrors.parent?V.formErrors:V.formErrors.repeated},{default:(0,r.k6)((function(){return[(0,r.Lk)("label",C,[(0,r.eW)((0,r.v_)(e.$i18n.get("label_parent_term"))+" ",1),(0,r.bF)(Y,{id:"tainacan-checkbox-has-parent",modelValue:V.hasParent,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return V.hasParent=e}),t[8]||(t[8]=function(e){return z.onToggleSwitch()})],size:"is-small"},null,8,["modelValue"]),(0,r.bF)(X,{title:e.$i18n.get("label_parent_term"),message:e.$i18n.get("info_help_parent_term"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"])]),(0,r.bF)(q,{id:"tainacan-add-parent-field",modelValue:V.parentTermName,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return V.parentTermName=e}),z.fetchParentTerms],placeholder:e.$i18n.get("instruction_parent_term"),data:V.parentTerms,field:"name",clearable:"",loading:V.isFetchingParentTerms,disabled:!V.hasParent,"append-to-body":!0,"check-infinite-scroll":"",onSelect:t[10]||(t[10]=function(e){return z.onSelectParentTerm(e)}),onFocus:t[11]||(t[11]=function(e){z.clearErrors("parent")}),onInfiniteScroll:z.fetchMoreParentTerms},{default:(0,r.k6)((function(e){return[(0,r.Lk)("div",L,[e.option.header_image?((0,r.uX)(),(0,r.CE)("div",$,[(0,r.Lk)("img",{width:"28",src:e.option.header_image},null,8,N)])):(0,r.Q3)("",!0),(0,r.Lk)("div",O,(0,r.v_)(e.option.name),1)])]})),empty:(0,r.k6)((function(){return[(0,r.eW)((0,r.v_)(e.$i18n.get("info_no_parent_term_found")),1)]})),_:1},8,["modelValue","placeholder","data","loading","disabled","onUpdate:modelValue","onInfiniteScroll"]),(0,r.bF)(r.eB,{name:"fade"},{default:(0,r.k6)((function(){return[(0,r.bo)((0,r.Lk)("p",{class:"checkboxes-warning"},(0,r.v_)(e.$i18n.get("info_warning_changing_parent_term")),513),[[r.aG,1!=a.isTermInsertionFlow&&1==V.showCheckboxesWarning]])]})),_:1})]})),_:1},8,["type","message"])):(0,r.Q3)("",!0),e.hasEndLeftForm?((0,r.uX)(),(0,r.CE)("form",{key:2,id:"form-term-end-left",class:"form-hook-region",innerHTML:e.getEndLeftForm},null,8,H)):(0,r.Q3)("",!0),(0,r.Lk)("div",A,[(0,r.Lk)("div",j,[(0,r.Lk)("button",{type:"button",class:"button is-outlined",onClick:t[12]||(t[12]=(0,r.D$)((function(e){return z.cancelEdition()}),["prevent"]))},(0,r.v_)(e.$i18n.get("cancel")),1)]),(0,r.Lk)("div",M,[(0,r.Lk)("button",D,(0,r.v_)(a.isTermInsertionFlow?e.$i18n.get("label_create_and_select"):e.$i18n.get("save")),1)])])])],32)}},74042:(e,t,a)=>{a.d(t,{$J:()=>c,X3:()=>h,lg:()=>d});var r=a(75552),n=a(55373),i=a.n(n),o=a(95093),s=a.n(o);function m(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw n}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var d={methods:{getSamplePermalink:function(e,t,a){return r.M3.post("",i().stringify({action:"tainacan-sample-permalink",post_id:e,new_title:t,new_slug:a}))}}},c={created:function(){var e=navigator.language;s().locale(e);var t=s().localeData();this.dateFormat=t.longDateFormat("L")?t.longDateFormat("L"):"pt_BR"==t._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(e){return e=new Date(e.replace(/-/g,"/")),s()(e,s().ISO_8601).format(this.dateFormat)}}},h={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var e=this;return this.formHooks[this.entityName]["begin-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getBeginRightForm:function(){var e=this;return this.formHooks[this.entityName]["begin-right"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndLeftForm:function(){var e=this;return this.formHooks[this.entityName]["end-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndRightForm:function(){var e=this;return this.formHooks[this.entityName]["end-right"].map((function(t){return e.checkFormConditionals(t)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var r=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][r]&&null!=this.formHooks[this.entityName][r]){var n=document.getElementById("form-"+this.entityName+"-"+r);if(n){var i,o=m(n.elements);try{for(o.s();!(i=o.n()).done;){var s=i.value;"checkbox"==s.type||"select"==s.type&&null!=s.multiple&&1==s.multiple?s.checked&&null!=s.name&&""!=s.name&&(Array.isArray(e[s.name])||(e[s.name]=[]),e[s.name].push(s.value)):"radio"==s.type?s.checked&&null!=s.name&&""!=s.name&&(e[s.name]=s.value):e[s.name]=s.value}}catch(e){o.e(e)}finally{o.f()}}}}},updateExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var r=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][r]&&null!=this.formHooks[this.entityName][r]){var n=document.getElementById("form-"+this.entityName+"-"+r);if(n){var i,o=m(n.elements);try{var s=function(){for(var t=i.value,a=0,r=Object.keys(e);a<r.length;a++){var n=r[a];if(t.name==n)if(Array.isArray(e[n])){var o=e[n].find((function(e){return e==t.value}));t.checked=null!=o}else null!=e[n]&&null!=e[n]&&""!=e[n]&&("radio"==t.type?t.checked=e[n]==t.value:t.value=e[n])}};for(o.s();!(i=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}}}}},checkFormConditionals:function(e){return e.form?e.conditional&&e.conditional.attribute&&e.conditional.value?this.form&&this.form[e.conditional.attribute]===e.conditional.value?e.form:"":e.form:""}}}},82933:(e,t,a)=>{a.d(t,{A:()=>r});const r={attachmentControl:wp.customize.MediaControl.extend({initFrame:function(){var e=this;wp.media.view.settings.post={id:parseInt(this.params.relatedPostId),wp_customize:"off"},wp.media.model.settings.post.nonce=this.params.nonce,wp.media.model.settings.post.id=parseInt(this.params.relatedPostId),this.frame=wp.media({button:{text:this.params.button_labels.frame_button},states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC",posts_per_page:-1,query:!0}),autoSelect:!0,sortable:!0,filterable:"unattached"})]}).open(),this.frame.$el.addClass("tainacan-item-attachments-modal"),this.frame.$el["tainacan-document-id"]=this.params.document,this.frame.$el["tainacan-thumbnail-id"]=this.params.thumbnailId,wp.media.view.Attachment.Library=wp.media.view.Attachment.Library.extend({className:function(){return"attachment "+(this.controller.$el["tainacan-document-id"]&&this.model.get("id")==this.controller.$el["tainacan-document-id"]?"tainacan-document-attachment ":" ")+(this.controller.$el["tainacan-thumbnail-id"]&&this.model.get("id")==this.controller.$el["tainacan-thumbnail-id"]?"tainacan-thumbnail-attachment ":" ")}}),this.frame.on("select",(function(){var t=e.frame.state().get("selection").toJSON();wp.media.view.settings.post.id={id:e.params.relatedPostId},e.params.attachments=t,e.params.onSave(t)}))}}),thumbnailControl:wp.customize.CroppedImageControl.extend({initFrame:function(){var e=wp.media.view.l10n="undefined"==typeof _wpMediaViewsL10n?{}:_wpMediaViewsL10n,t=wp.media.controller.Cropper.extend({doCrop:function(e){var t=e.get("cropDetails"),a=this.get("control"),r=t.width/t.height;return a.params.flex_width&&a.params.flex_height?(t.dst_width=t.width,t.dst_height=t.height):(t.dst_width=a.params.flex_width?a.params.height*r:a.params.width,t.dst_height=a.params.flex_height?a.params.width/r:a.params.height),wp.ajax.post("crop-image",{wp_customize:"off",nonce:e.get("nonces").edit,id:e.get("id"),context:a.id,cropDetails:t})}});wp.media.view.settings.post={id:null},this.params.flex_width=1,this.params.flex_height=1,this.params.width=220,this.params.height=220,this.frame=wp.media({frame:"select",button:{text:e.select,close:!1},uploader:!0,content:"upload",autoSelect:!0,states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({type:"image"}),multiple:!1,autoSelect:!0,date:!1,priority:20,suggestedWidth:this.params.width,suggestedHeight:this.params.height,uploadedTo:this.params.relatedPostId}),new t({imgSelectOptions:this.calculateImageSelectOptions,control:this})]}).open(),this.frame.$el.addClass("tainacan-thumbnail-modal"),this.frame.on("select",this.onSelect,this),this.frame.on("cropped",this.onCropped,this),this.frame.on("skippedcrop",this.onSkippedCrop,this)},setImageFromAttachment:function(e){wp.media.view.settings.post.id={id:this.params.relatedPostId},this.params.attachments=e,this.params.onSave(e)}}),headerImageControl:wp.customize.CroppedImageControl.extend({initFrame:function(){var e=wp.media.view.l10n="undefined"==typeof _wpMediaViewsL10n?{}:_wpMediaViewsL10n,t=wp.media.controller.Cropper.extend({doCrop:function(e){var t=e.get("cropDetails"),a=this.get("control"),r=t.width/t.height;return a.params.flex_width&&a.params.flex_height?(t.dst_width=t.width,t.dst_height=t.height):(t.dst_width=a.params.flex_width?a.params.height*r:a.params.width,t.dst_height=a.params.flex_height?a.params.width/r:a.params.height),wp.ajax.post("crop-image",{wp_customize:"off",nonce:e.get("nonces").edit,id:e.get("id"),context:a.id,cropDetails:t})}});wp.media.view.settings.post={id:null},null!=tainacan_plugin.custom_header_support[0]?(this.params.flex_width=tainacan_plugin.custom_header_support[0].flex_width?1:0,this.params.flex_height=tainacan_plugin.custom_header_support[0].flex_height?1:0,this.params.width=tainacan_plugin.custom_header_support[0].width,this.params.height=tainacan_plugin.custom_header_support[0].height):(this.params.flex_width=!0,this.params.flex_height=!0,this.params.width=2e3,this.params.height=625),this.frame=wp.media({frame:"select",button:{text:e.select,close:!1},library:wp.media.query({type:"image",uploadedTo:null}),uploader:!0,content:"upload",states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({type:"image",uploadedTo:null}),multiple:!1,date:!1,priority:20,suggestedWidth:this.params.width,suggestedHeight:this.params.height}),new t({imgSelectOptions:this.calculateImageSelectOptions,control:this})]}).open(),this.frame.$el.addClass("tainacan-header-image-modal"),this.frame.on("select",this.onSelect,this),this.frame.on("cropped",this.onCropped,this),this.frame.on("skippedcrop",this.onSkippedCrop,this)},setImageFromAttachment:function(e){this.params.attachment=e,this.params.onSave(e)}}),documentFileControl:wp.customize.MediaControl.extend({initFrame:function(){var e=this;wp.media.view.settings.post={id:parseInt(this.params.relatedPostId),wp_customize:"off"},wp.media.model.settings.post.nonce=this.params.nonce,wp.media.model.settings.post.id=parseInt(this.params.relatedPostId),this.frame=wp.media({button:{text:this.params.button_labels.frame_button},content:"upload",states:[new wp.media.controller.Library({title:this.params.button_labels.frame_title,library:wp.media.query({uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC",posts_per_page:-1,query:!0}),autoSelect:!0,multiple:!1,date:!1,sortable:!0,filterable:"unattached",uploadedTo:this.params.relatedPostId})]}).open(),this.frame.$el.addClass("tainacan-document-modal"),this.frame.on("select",(function(){var t,a,r=window._wpmejsSettings||{};a=e.frame.state().get("selection").first().toJSON(),e.params.attachment=a,e.params.onSave(a),(t=e.container.find("audio, video").get(0))?e.player=new MediaElementPlayer(t,r):e.cleanupPlayer()}))}})}},87453:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(31601),n=a.n(r),i=a(76314),o=a.n(i)()(n());o.push([e.id,".column[data-v-5c5f896e]{padding:0}.column.is-narrow[data-v-5c5f896e]{padding-right:42px}@keyframes enter-5c5f896e{from{opacity:0;transform:translate(-40px, 0)}to{opacity:1;transform:translate(0px, 0)}}form#termEditForm[data-v-5c5f896e]:not(.tainacan-modal-content){padding:1.7em 0 1.5em 1.5em;border-left:1px solid var(--tainacan-gray2);margin-left:0.75em;position:relative;animation-name:enter-5c5f896e;animation-duration:0.5s}form#termEditForm.tainacan-modal-content[data-v-5c5f896e]{overflow:hidden}form#termEditForm.tainacan-modal-content .field[data-v-5c5f896e]{padding-left:0;margin-left:0}form#termEditForm.tainacan-modal-content .tainacan-modal-title[data-v-5c5f896e]{margin:0;padding:0 12px}form#termEditForm.tainacan-modal-content .thumbnail-field[data-v-5c5f896e]{max-width:120px}form#termEditForm.tainacan-modal-content .image-placeholder[data-v-5c5f896e]{left:2px}form#termEditForm .tainacan-page-title[data-v-5c5f896e]{margin-bottom:28px;display:flex;flex-wrap:wrap;align-items:baseline}form#termEditForm .tainacan-page-title h2[data-v-5c5f896e]{font-size:1.25em;font-weight:500;color:var(--tainacan-blue5);display:inline-block;margin-right:auto}form#termEditForm .tainacan-page-title hr[data-v-5c5f896e]{margin:3px 0px 4px 0px;width:100%;height:1px;background-color:var(--tainacan-secondary)}form#termEditForm .image-and-description-area[data-v-5c5f896e]{margin-bottom:0px}form#termEditForm .image-and-description-area .column[data-v-5c5f896e]:first-of-type{margin-right:24px}form#termEditForm .image-and-description-area .column[data-v-5c5f896e]:last-of-type{flex-grow:2}form#termEditForm .thumbnail-field .content[data-v-5c5f896e]{padding:10px;font-size:0.8em}form#termEditForm .thumbnail-field img[data-v-5c5f896e]{position:relative}form#termEditForm .thumbnail-field .image-placeholder[data-v-5c5f896e]{position:absolute;margin-left:auto;margin-right:auto;width:100%;top:35%;padding:0 8px;font-size:95%;font-weight:bold;z-index:99;text-align:center;color:var(--tainacan-info-color);background-color:transparent}form#termEditForm .thumbnail-field #button-delete-header[data-v-5c5f896e],form#termEditForm .thumbnail-field #button-edit-header[data-v-5c5f896e]{border-radius:100px !important;max-height:2.125em !important;max-width:2.125em !important;min-height:2.125em !important;min-width:2.125em !important;padding:0 !important;z-index:99;margin-left:10px !important}form#termEditForm .thumbnail-field #button-delete-header .icon[data-v-5c5f896e],form#termEditForm .thumbnail-field #button-edit-header .icon[data-v-5c5f896e]{color:var(--tainacan-white) !important;display:inherit;padding:0;margin:0;margin-top:-2px;font-size:1.125em}form#termEditForm .thumbnail-field .thumbnail-buttons-row[data-v-5c5f896e]{text-align:right;top:-0.9375em;position:relative}form#termEditForm .checkboxes-warning[data-v-5c5f896e]{color:var(--tainacan-gray5);font-style:italic;padding:0.2em 0.75em}\n",""]);const s=o},75856:(e,t,a)=>{var r=a(85072),n=a.n(r),i=a(97825),o=a.n(i),s=a(77659),m=a.n(s),l=a(55056),d=a.n(l),c=a(10540),h=a.n(c),f=a(63494),u=a.n(f),p=a(87453),g={};g.styleTagTransform=u(),g.setAttributes=d(),g.insert=m().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=h();n()(p.A,g),p.A&&p.A.locals&&p.A.locals},19376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(71605),n=a(19);a(68457);const i=(0,a(66262).A)(n.A,[["render",r.X],["__scopeId","data-v-5c5f896e"]])},19:(e,t,a)=>{a.d(t,{A:()=>r.A});var r=a(83300)},71605:(e,t,a)=>{a.d(t,{X:()=>r.X});var r=a(20610)},68457:(e,t,a)=>{a(75856)}}]);
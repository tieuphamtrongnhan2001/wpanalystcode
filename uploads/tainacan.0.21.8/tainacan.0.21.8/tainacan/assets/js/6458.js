"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[6458],{89985:(e,t,a)=>{a.d(t,{a:()=>r,s:()=>o});var n=a(71083),i=a(6934),s=a(88506),r={name:"BPaginationButton",props:{page:{type:Object,required:!0},tag:{type:String,default:"a",validator:e=>n.c.defaultLinkTags.indexOf(e)>=0},disabled:{type:Boolean,default:!1}},computed:{href(){return"a"===this.tag?"#":void 0},isDisabled(){return this.disabled||this.page.disabled},disabledOrUndefined(){return this.isDisabled||void 0}}};r.render=function(e,t,a,n,s,r){return(0,i.uX)(),(0,i.Wv)((0,i.$y)(a.tag),(0,i.v6)({role:"button",href:r.href,disabled:r.disabledOrUndefined,class:["pagination-link",{"is-current":a.page.isCurrent,[a.page.class]:!0}]},e.$attrs,{onClick:(0,i.D$)(a.page.click,["prevent"]),"aria-label":a.page["aria-label"],"aria-current":a.page.isCurrent||void 0}),{default:(0,i.k6)((()=>[(0,i.RG)(e.$slots,"default",{},(()=>[(0,i.eW)((0,i.v_)(a.page.number),1)]))])),_:3},16,["href","disabled","class","onClick","aria-label","aria-current"])},r.__file="src/components/pagination/PaginationButton.vue";var o={name:"BPagination",components:{[s.s.name]:s.s,[r.name]:r},props:{total:[Number,String],perPage:{type:[Number,String],default:20},modelValue:{type:[Number,String],default:1},rangeBefore:{type:[Number,String],default:1},rangeAfter:{type:[Number,String],default:1},size:String,simple:Boolean,rounded:Boolean,order:String,iconPack:String,iconPrev:{type:String,default:()=>n.c.defaultIconPrev},iconNext:{type:String,default:()=>n.c.defaultIconNext},ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,pageInput:{type:Boolean,default:!1},pageInputPosition:String,debouncePageInput:[Number,String]},data(){return{inputValue:this.modelValue}},emits:["change","update:modelValue"],computed:{rootClasses(){return[this.order,this.size,this.pageInputPosition,{"is-simple":this.simple,"is-rounded":this.rounded,"has-input":this.pageInput}]},beforeCurrent(){return parseInt(this.rangeBefore)},afterCurrent(){return parseInt(this.rangeAfter)},pageCount(){return Math.ceil(this.total/this.perPage)},firstItem(){const e=this.modelValue*this.perPage-this.perPage+1;return e>=0?e:0},hasPrev(){return this.modelValue>1},hasFirst(){return this.modelValue>=2+this.beforeCurrent},hasFirstEllipsis(){return this.modelValue>=this.beforeCurrent+4},hasLast(){return this.modelValue<=this.pageCount-(1+this.afterCurrent)},hasLastEllipsis(){return this.modelValue<this.pageCount-(2+this.afterCurrent)},hasNext(){return this.modelValue<this.pageCount},pagesInRange(){if(this.simple)return;let e=Math.max(1,this.modelValue-this.beforeCurrent);e-1==2&&e--;let t=Math.min(this.modelValue+this.afterCurrent,this.pageCount);this.pageCount-t==2&&t++;const a=[];for(let n=e;n<=t;n++)a.push(this.getPage(n));return a}},watch:{pageCount(e){this.modelValue>e&&this.last()},modelValue(e){this.inputValue=e},debouncePageInput:{handler(e){var t,a,n,i;this.debounceHandlePageInput=(t=this.handleOnInputPageChange,a=e,function(){var e=this,s=arguments,r=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||t.apply(e,s)}),a),r&&t.apply(e,s)})},immediate:!0}},methods:{prev(e){this.changePage(this.modelValue-1,e)},next(e){this.changePage(this.modelValue+1,e)},first(e){this.changePage(1,e)},last(e){this.changePage(this.pageCount,e)},changePage(e,t){this.modelValue===e||e<1||e>this.pageCount||(this.$emit("update:modelValue",e),this.$emit("change",e),t&&t.target&&this.$nextTick((()=>t.target.focus())))},getPage(e,t={}){return{number:e,isCurrent:this.modelValue===e,click:t=>this.changePage(e,t),input:(e,t)=>this.changePage(+t,e),disabled:t.disabled||!1,class:t.class||"","aria-label":t["aria-label"]||this.getAriaPageLabel(e,this.modelValue===e)}},getAriaPageLabel(e,t){return!this.ariaPageLabel||t&&this.ariaCurrentLabel?this.ariaPageLabel&&t&&this.ariaCurrentLabel?this.ariaCurrentLabel+", "+this.ariaPageLabel+" "+e+".":null:this.ariaPageLabel+" "+e+"."},handleOnInputPageChange(e){this.getPage(this.inputValue).input(e,this.inputValue)},handleOnInputDebounce(e){this.debouncePageInput?this.debounceHandlePageInput(e):this.handleOnInputPageChange(e)},handleOnKeyPress(e){const t=e.which||e.keyCode;return t>=48&&t<=57||e.preventDefault()},handleAllowableInputPageRange(e){+e.target.value>0&&+e.target.value<=this.pageCount?this.handleOnInputValue(e):(this.inputValue=1,this.inputValue="")},handleOnInputValue(e){const t=+e.target.value;this.inputValue=t,Number.isInteger(this.inputValue)?this.handleOnInputDebounce(e):this.inputValue=this.modelValue}}};const l={class:"control pagination-input"},u=["value","size","maxlength"],c={key:4,class:"info"},d={key:5,class:"pagination-list"},h={key:0},p={key:1},g=[(0,i.Lk)("span",{class:"pagination-ellipsis"},"…",-1)],f={key:2},m=[(0,i.Lk)("span",{class:"pagination-ellipsis"},"…",-1)],v={key:3};o.render=function(e,t,a,n,s,r){const o=(0,i.g2)("b-icon"),b=(0,i.g2)("BPaginationButton");return(0,i.uX)(),(0,i.CE)("nav",{class:(0,i.C4)(["pagination",r.rootClasses])},[e.$slots.previous?(0,i.RG)(e.$slots,"previous",{key:0,page:r.getPage(a.modelValue-1,{disabled:!r.hasPrev,class:"pagination-previous","aria-label":a.ariaPreviousLabel})},(()=>[(0,i.bF)(o,{icon:a.iconPrev,pack:a.iconPack,both:"","aria-hidden":"true"},null,8,["icon","pack"])])):((0,i.uX)(),(0,i.Wv)(b,{key:1,class:"pagination-previous",disabled:!r.hasPrev,page:r.getPage(a.modelValue-1),"aria-label":a.ariaPreviousLabel},{default:(0,i.k6)((()=>[(0,i.bF)(o,{icon:a.iconPrev,pack:a.iconPack,both:"","aria-hidden":"true"},null,8,["icon","pack"])])),_:1},8,["disabled","page","aria-label"])),e.$slots.next?(0,i.RG)(e.$slots,"next",{key:2,page:r.getPage(a.modelValue+1,{disabled:!r.hasNext,class:"pagination-next","aria-label":a.ariaNextLabel})},(()=>[(0,i.bF)(o,{icon:a.iconNext,pack:a.iconPack,both:"","aria-hidden":"true"},null,8,["icon","pack"])])):((0,i.uX)(),(0,i.Wv)(b,{key:3,class:"pagination-next",disabled:!r.hasNext,page:r.getPage(a.modelValue+1),"aria-label":a.ariaNextLabel},{default:(0,i.k6)((()=>[(0,i.bF)(o,{icon:a.iconNext,pack:a.iconPack,both:"","aria-hidden":"true"},null,8,["icon","pack"])])),_:1},8,["disabled","page","aria-label"])),(0,i.Lk)("div",l,[a.pageInput?((0,i.uX)(),(0,i.CE)("input",{key:0,class:"input",value:s.inputValue,onInput:t[0]||(t[0]=(...e)=>r.handleAllowableInputPageRange&&r.handleAllowableInputPageRange(...e)),onKeypress:t[1]||(t[1]=(...e)=>r.handleOnKeyPress&&r.handleOnKeyPress(...e)),size:r.pageCount.toString().length,maxlength:r.pageCount.toString().length},null,40,u)):(0,i.Q3)("v-if",!0)]),a.simple?((0,i.uX)(),(0,i.CE)("small",c,[1==a.perPage?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,i.v_)(r.firstItem)+" / "+(0,i.v_)(a.total),1)],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,i.v_)(r.firstItem)+"-"+(0,i.v_)(Math.min(a.modelValue*a.perPage,a.total))+" / "+(0,i.v_)(a.total),1)],64))])):((0,i.uX)(),(0,i.CE)("ul",d,[(0,i.Q3)("First"),r.hasFirst?((0,i.uX)(),(0,i.CE)("li",h,[e.$slots.default?(0,i.RG)(e.$slots,"default",{key:0,page:r.getPage(1)}):((0,i.uX)(),(0,i.Wv)(b,{key:1,page:r.getPage(1)},null,8,["page"]))])):(0,i.Q3)("v-if",!0),r.hasFirstEllipsis?((0,i.uX)(),(0,i.CE)("li",p,[...g])):(0,i.Q3)("v-if",!0),(0,i.Q3)("Pages"),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.pagesInRange,(t=>((0,i.uX)(),(0,i.CE)("li",{key:t.number},[e.$slots.default?(0,i.RG)(e.$slots,"default",{key:0,page:t}):((0,i.uX)(),(0,i.Wv)(b,{key:1,page:t},null,8,["page"]))])))),128)),(0,i.Q3)("Last"),r.hasLastEllipsis?((0,i.uX)(),(0,i.CE)("li",f,[...m])):(0,i.Q3)("v-if",!0),r.hasLast?((0,i.uX)(),(0,i.CE)("li",v,[e.$slots.default?(0,i.RG)(e.$slots,"default",{key:0,page:r.getPage(r.pageCount)}):((0,i.uX)(),(0,i.Wv)(b,{key:1,page:r.getPage(r.pageCount)},null,8,["page"]))])):(0,i.Q3)("v-if",!0)]))],2)},o.__file="src/components/pagination/Pagination.vue"},15870:(e,t,a)=>{a.d(t,{Ay:()=>$});var n=a(44340),i=a(35966),s=a(6934),r=a(9611),o=a(88506),l=a(83471),u=a(38434),c=a(71083),d=a(85519),h={name:"BDialog",components:{[o.s.name]:o.s,[u.s.name]:u.s},directives:{trapFocus:r.t},extends:l.s,props:{title:String,message:[String,Array],icon:String,iconPack:String,hasIcon:Boolean,type:{type:String,default:"is-primary"},size:String,confirmText:{type:String,default:()=>c.c.defaultDialogConfirmText?c.c.defaultDialogConfirmText:"OK"},cancelText:{type:String,default:()=>c.c.defaultDialogCancelText?c.c.defaultDialogCancelText:"Cancel"},hasInput:Boolean,inputAttrs:{type:Object,default:()=>({})},confirmCallback:{type:Function,default:()=>{}},closeOnConfirm:{type:Boolean,default:!0},container:{type:String,default:()=>c.c.defaultContainerElement},focusOn:{type:String,default:"confirm"},trapFocus:{type:Boolean,default:()=>c.c.defaultTrapFocus},ariaRole:{type:String,validator:e=>["dialog","alertdialog"].indexOf(e)>=0},ariaModal:Boolean},emits:["confirm"],data(){return{prompt:this.hasInput&&this.inputAttrs.value||"",isActive:!1,validationMessage:"",isCompositing:!1,isLoading:!1}},computed:{safeInputAttrs(){const e={...this.inputAttrs};return delete e.value,void 0===e.required&&(e.required=!0),e},dialogClass(){return[this.size,{"has-custom-container":null!==this.container}]},iconByType(){switch(this.type){case"is-info":return"information";case"is-success":return"check-circle";case"is-warning":return"alert";case"is-danger":return"alert-circle";default:return null}},showCancel(){return this.cancelOptions.indexOf("button")>=0}},methods:{confirm(){if(void 0!==this.$refs.input){if(this.isCompositing)return;if(!this.$refs.input.checkValidity())return this.validationMessage=this.$refs.input.validationMessage,void this.$nextTick((()=>this.$refs.input.select()))}this.$emit("confirm",this.prompt),this.confirmCallback(this.prompt,this),this.closeOnConfirm&&this.close()},close(){this.isActive=!1,this.isLoading=!1,setTimeout((()=>{(0,i.r)(this.$el)}),150)},startLoading(){this.isLoading=!0},cancelLoading(){this.isLoading=!1}},beforeMount(){"undefined"!=typeof window&&this.$nextTick((()=>{(document.querySelector(this.container)||document.body).appendChild(this.$el)}))},mounted(){this.isActive=!0,this.$nextTick((()=>{this.hasInput?this.$refs.input.focus():"cancel"===this.focusOn&&this.showCancel?this.$refs.cancelButton.$el.focus():this.$refs.confirmButton.$el.focus()}))}};const p=["role","aria-modal"],g={class:"modal-card animation-content"},f={key:0,class:"modal-card-head"},m={class:"modal-card-title"},v={class:"media"},b={key:0,class:"media-left"},y={class:"media-content"},k=["innerHTML"],C={key:0,class:"field"},P={class:"control"},L={class:"help is-danger"},O={class:"modal-card-foot"};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,i._)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t){var a;function n(n,r){var o=document.createElement("div"),l=(0,s.Ef)({data:function(){return{dialogVNode:null}},methods:{close:function(){var e=(0,i.z)(this.dialogVNode);e&&e.close()},startLoading:function(){var e=(0,i.z)(this.dialogVNode);e&&e.startLoading()},cancelLoading:function(){var e=(0,i.z)(this.dialogVNode);e&&e.cancelLoading()}},render:function(){return this.dialogVNode=(0,s.h)(h,V(V({},e),{},{onConfirm:function(){null!=n&&n.apply(void 0,arguments)},onCancel:function(){null!=r&&r.apply(void 0,arguments),l.unmount()},confirmCallback:function(){null!=e.onConfirm&&e.onConfirm.apply(e,arguments)},cancelCallback:function(){null!=e.onCancel&&e.onCancel.apply(e,arguments)}}),a?{default:function(){return a}}:void 0),this.dialogVNode}});return t&&(0,i.A)(t,l),l.mount(o)}return Array.isArray(e.message)&&(a=e.message,delete e.message),c.c.defaultProgrammaticPromise?new Promise((function(e){var t=n((function(a){return e({result:a||!0,dialog:t})}),(function(){return e({result:!1,dialog:t})}))})):n()}h.render=function(e,t,a,n,i,r){const o=(0,s.g2)("b-icon"),l=(0,s.g2)("b-button"),u=(0,s.gN)("trap-focus");return(0,s.uX)(),(0,s.Wv)(s.eB,{name:e.animation},{default:(0,s.k6)((()=>[i.isActive?(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,s.C4)(["dialog modal is-active",r.dialogClass]),role:a.ariaRole,"aria-modal":a.ariaModal},[(0,s.Lk)("div",{class:"modal-background",onClick:t[0]||(t[0]=t=>e.cancel("outside"))}),(0,s.Lk)("div",g,[a.title?((0,s.uX)(),(0,s.CE)("header",f,[(0,s.Lk)("p",m,(0,s.v_)(a.title),1)])):(0,s.Q3)("v-if",!0),(0,s.Lk)("section",{class:(0,s.C4)(["modal-card-body",{"is-titleless":!a.title,"is-flex":a.hasIcon}])},[(0,s.Lk)("div",v,[a.hasIcon&&(a.icon||r.iconByType)?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.bF)(o,{icon:a.icon?a.icon:r.iconByType,pack:a.iconPack,type:a.type,both:!a.icon,size:"is-large"},null,8,["icon","pack","type","both"])])):(0,s.Q3)("v-if",!0),(0,s.Lk)("div",y,[(0,s.Lk)("p",null,[e.$slots.default?(0,s.RG)(e.$slots,"default",{key:0}):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Q3)(" eslint-disable-next-line vue/no-v-html "),(0,s.Lk)("div",{innerHTML:a.message},null,8,k)],64))]),a.hasInput?((0,s.uX)(),(0,s.CE)("div",C,[(0,s.Lk)("div",P,[(0,s.bo)((0,s.Lk)("input",(0,s.v6)({"onUpdate:modelValue":t[1]||(t[1]=e=>i.prompt=e),class:["input",{"is-danger":i.validationMessage}],ref:"input"},r.safeInputAttrs,{onCompositionstart:t[2]||(t[2]=e=>i.isCompositing=!0),onCompositionend:t[3]||(t[3]=e=>i.isCompositing=!1),onKeydown:t[4]||(t[4]=(0,s.jR)(((...e)=>r.confirm&&r.confirm(...e)),["enter"]))}),null,16),[[s.hp,i.prompt]])]),(0,s.Lk)("p",L,(0,s.v_)(i.validationMessage),1)])):(0,s.Q3)("v-if",!0)])])],2),(0,s.Lk)("footer",O,[r.showCancel?((0,s.uX)(),(0,s.Wv)(l,{key:0,ref:"cancelButton",disabled:i.isLoading,onClick:t[5]||(t[5]=t=>e.cancel("button"))},{default:(0,s.k6)((()=>[(0,s.eW)((0,s.v_)(a.cancelText),1)])),_:1},8,["disabled"])):(0,s.Q3)("v-if",!0),(0,s.bF)(l,{type:a.type,ref:"confirmButton",loading:i.isLoading,onClick:r.confirm},{default:(0,s.k6)((()=>[(0,s.eW)((0,s.v_)(a.confirmText),1)])),_:1},8,["type","loading","onClick"])])])],10,p)),[[u,a.trapFocus]]):(0,s.Q3)("v-if",!0)])),_:3},8,["name"])},h.__file="src/components/dialog/Dialog.vue";var x=function(){function e(t){(0,n.a)(this,e),this.app=t}return(0,n._)(e,[{key:"alert",value:function(e){"string"==typeof e&&(e={message:e});return I((0,i.m)({canCancel:!1},e),this.app)}},{key:"confirm",value:function(e){return I((0,i.m)({},e),this.app)}},{key:"prompt",value:function(e){return I((0,i.m)({hasInput:!0},e),this.app)}}]),e}(),$={install:function(e){(0,d.a)(e,h),(0,d.r)(e,"dialog",new x(e))}}},60238:(e,t,a)=>{a.d(t,{Ay:()=>s});var n=a(89985),i=a(85519),s=(a(6934),{install:function(e){(0,i.a)(e,n.s),(0,i.a)(e,n.a)}})},70667:(e,t,a)=>{a.d(t,{Ay:()=>f});var n=a(35966),i=a(44340),s=a(6934),r=a(71083),o=a(61718),l=a(85519),u={name:"BToast",mixins:[o.N],data(){return{newDuration:this.duration||r.c.defaultToastDuration}}};const c=["aria-hidden"],d=["innerHTML"];function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n._)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}u.render=function(e,t,a,n,i,r){return(0,s.uX)(),(0,s.Wv)(s.eB,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave,persisted:""},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("div",{onMouseenter:t[0]||(t[0]=(...t)=>e.pause&&e.pause(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.removePause&&e.removePause(...t)),class:(0,s.C4)(["toast",[e.type,e.position]]),"aria-hidden":!e.isActive,role:"alert"},[e.$slots.default?(0,s.RG)(e.$slots,"default",{key:0}):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Q3)(" eslint-disable-next-line vue/no-v-html "),(0,s.Lk)("div",{innerHTML:e.message},null,8,d)],64))],42,c),[[s.aG,e.isActive]])])),_:3},8,["enter-active-class","leave-active-class"])},u.__file="src/components/toast/Toast.vue";var g=function(){function e(t){(0,i.a)(this,e),this.app=t}return(0,i._)(e,[{key:"open",value:function(e){"string"==typeof e&&(e={message:e});var t,a={position:r.c.defaultToastPosition||"is-top"};e.parent&&delete e.parent,Array.isArray(e.message)&&(t=e.message,delete e.message);var i=(0,n.m)(a,e),o=document.createElement("div"),l=(0,s.Ef)({data:function(){return{toastVNode:null}},methods:{close:function(){var e=(0,n.z)(this.toastVNode);e&&e.close()}},render:function(){return this.toastVNode=(0,s.h)(u,p(p({},i),{},{onClose:function(){"function"==typeof i.onClose&&i.onClose(),setTimeout((function(){l.unmount()}),150)}}),null!=t?{default:function(){return t}}:void 0),this.toastVNode}});return this.app?(0,n.A)(this.app,l):l.config.globalProperties.$buefy={},l.mount(o)}}]),e}(),f={install:function(e){(0,l.r)(e,"toast",new g(e))}}},76688:(e,t,a)=>{a.d(t,{Ay:()=>b});var n=a(6934);const i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],s=e=>{let t=0;for(let a=0;a<e.length;a++){const n=e[a];t=83*t+i.indexOf(n)}return t},r=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},o=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},l=(e,t)=>(e<0?-1:1)*Math.pow(Math.abs(e),t);class u extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}}const c=e=>{const t=e>>8&255,a=255&e;return[r(e>>16),r(t),r(a)]},d=(e,t)=>{const a=Math.floor(e/361),n=Math.floor(e/19)%19,i=e%19;return[l((a-9)/9,2)*t,l((n-9)/9,2)*t,l((i-9)/9,2)*t]};var h=(e,t,a,n)=>{(e=>{if(!e||e.length<6)throw new u("The blurhash string must be at least 6 characters");const t=s(e[0]),a=Math.floor(t/9)+1,n=t%9+1;if(e.length!==4+2*n*a)throw new u(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*n*a}`)})(e),n|=1;const i=s(e[0]),r=Math.floor(i/9)+1,l=i%9+1,h=(s(e[1])+1)/166,p=new Array(l*r);for(let t=0;t<p.length;t++)if(0===t){const a=s(e.substring(2,6));p[t]=c(a)}else{const a=s(e.substring(4+2*t,6+2*t));p[t]=d(a,h*n)}const g=4*t,f=new Uint8ClampedArray(g*a);for(let e=0;e<a;e++)for(let n=0;n<t;n++){let i=0,s=0,u=0;for(let o=0;o<r;o++)for(let r=0;r<l;r++){const c=Math.cos(Math.PI*n*r/t)*Math.cos(Math.PI*e*o/a);let d=p[r+o*l];i+=d[0]*c,s+=d[1]*c,u+=d[2]*c}let c=o(i),d=o(s),h=o(u);f[4*n+0+e*g]=c,f[4*n+1+e*g]=d,f[4*n+2+e*g]=h,f[4*n+3+e*g]=255}return f};const p=["width","height"],g=(0,n.pM)({__name:"BlurHashCanvas",props:{hash:null,width:{default:128},height:{default:128},punch:{default:1}},setup(e){const t=e,a=(0,n.KR)();return(0,n.sV)((()=>{const e=h(t.hash,t.width,t.height,t.punch),n=a.value.getContext("2d"),i=n.createImageData(t.width,t.height);i.data.set(e),n.putImageData(i,0,0)})),(t,i)=>((0,n.uX)(),(0,n.CE)("canvas",{ref_key:"canvas",ref:a,width:e.width,height:e.height,style:{"object-fit":"contain"}},null,8,p))}});const f={class:"parent"},m=["width","height","src","srcset"];var v=((e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a})((0,n.pM)({__name:"BlurHashImage",props:{hash:null,width:{default:128},height:{default:128},punch:{default:1},src:null,srcset:{default:void 0}},setup(e,{expose:t}){const a=(0,n.KR)(!1);return t({imageLoaded:a}),(t,i)=>((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bo)((0,n.bF)(g,{class:"child",key:"canvas",hash:e.hash,width:e.width,height:e.height,punch:e.punch},null,8,["hash","width","height","punch"]),[[n.aG,!a.value]]),(0,n.bo)((0,n.Lk)("img",(0,n.v6)({key:"img"},t.$attrs,{class:"child",width:e.width,height:e.height,src:e.src,srcset:e.srcset,onLoad:i[0]||(i[0]=e=>a.value=!0)}),null,16,m),[[n.aG,a.value]])]))}}),[["__scopeId","data-v-3dc6b8e6"]]);const b={install(e){e.component("blur-hash-canvas",g),e.component("blur-hash-image",v)}}}}]);
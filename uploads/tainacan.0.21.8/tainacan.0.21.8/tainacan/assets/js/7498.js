"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[7498],{10281:(t,a,e)=>{e.d(a,{A:()=>u});var i=e(6934),n=e(40834),o=e(74042);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function d(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return l(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function l(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==r(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const u={name:"MetadataSectionEditionForm",components:{TainacanSelectbox:(0,i.$V)((function(){return e.e(5724).then(e.bind(e,93343))})),TainacanTaxonomy:(0,i.$V)((function(){return Promise.all([e.e(4561),e.e(7158)]).then(e.bind(e,14777))}))},mixins:[o.X3],props:{index:"",originalMetadataSection:Object,collectionId:"",isInsideImporterFlow:!1},emits:["on-edition-finished","on-edition-canceled"],data:function(){return{form:{},formErrors:{},formErrorMessage:"",closedByForm:!1,entityName:"metadataSection",isUpdating:!1,selectedConditionalMetadatumId:void 0,selectedConditionalValue:[],hideConditionalSectionSettings:!1,shouldUpdateConditionalValue:!0}},computed:c(c({},(0,n.L8)("metadata",["getMetadataSections"])),{},{availableConditionalMetadata:function(){var t=this;if(this.getMetadataSections.length){var a,e=this.getMetadataSections.filter((function(a){return a.id!=t.form.id})),i=[],n=d(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;i.push.apply(i,o.metadata_object_list)}}catch(t){n.e(t)}finally{n.f()}return i.filter((function(t){return"Tainacan\\Metadata_Types\\Selectbox"===t.metadata_type||"Tainacan\\Metadata_Types\\Taxonomy"===t.metadata_type}))}return[]},isConditionalSection:function(){return"yes"==this.form.is_conditional_section},selectedConditionalMetadatum:function(){var t=this;return this.availableConditionalMetadata.find((function(a){return a.id==t.selectedConditionalMetadatumId}))}}),created:function(){if(this.form=JSON.parse(JSON.stringify(this.originalMetadataSection)),"auto-draft"==this.form.status&&(this.form.status="publish"),"yes"==this.form.is_conditional_section&&Object.keys(this.form.conditional_section_rules).length){var t=Object.keys(this.form.conditional_section_rules)[0];this.selectedConditionalMetadatumId=t,this.selectedConditionalValue=this.form.conditional_section_rules[t]}this.formErrors=null!=this.form.formErrors?this.form.formErrors:{},this.formErrorMessage=null!=this.form.formErrors?this.form.formErrorMessage:""},mounted:function(){var t=this;(0,i.dY)().then((function(){t.updateExtraFormData(t.form)}))},methods:c(c({},(0,n.i0)("metadata",["updateMetadataSection"])),{},{saveEdition:function(t){var a=this;"yes"==this.form.is_conditional_section&&this.selectedConditionalMetadatumId&&this.selectedConditionalValue?(this.form.conditional_section_rules={},this.form.conditional_section_rules[this.selectedConditionalMetadatumId]=this.selectedConditionalValue):this.form.conditional_section_rules=null,this.fillExtraFormData(this.form),this.isUpdating=!0,this.updateMetadataSection({collectionId:this.collectionId,metadataSectionId:t.id,index:this.index,options:this.form}).then((function(){a.form={},a.formErrors={},a.formErrorMessage="",a.isUpdating=!1,a.closedByForm=!0,a.$emit("on-edition-finished")})).catch((function(t){a.isUpdating=!1;var e,i=d(t.errors);try{for(i.s();!(e=i.n()).done;)for(var n=e.value,o=0,r=Object.keys(n);o<r.length;o++){var l=r[o];a.formErrors[l]=n[l]}}catch(t){i.e(t)}finally{i.f()}a.formErrorMessage=t.error_message,a.form.formErrors=a.formErrors,a.form.formErrorMessage=a.formErrorMessage}))},clearErrors:function(t){this.formErrors[t]=void 0},cancelEdition:function(){this.closedByForm=!0,this.$emit("on-edition-canceled")},selectConditionalValue:function(t){var a=Array.isArray(t)?t:[t];this.selectedConditionalValue=a.map((function(t){return t.value?t.value:t}))},reloadConditionalValueComponent:function(){var t=this;this.shouldUpdateConditionalValue=!1,this.selectedConditionalValue=[],this.$nextTick((function(){return t.shouldUpdateConditionalValue=!0}))}})}},42091:(t,a,e)=>{e.d(a,{A:()=>g});var i=e(11158),n=e(78061),o=e(23527),r=e(31968),d=e(3012),l=e(40834),s=e(48766);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function m(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return u(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function u(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function p(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function v(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?p(Object(e),!0).forEach((function(a){h(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function h(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==c(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const g={name:"CollectionMetadataList",components:{MetadatumEditionForm:i.A,MetadataSectionEditionForm:n.A,ChildMetadataList:r.A,MetadatumDetails:o.A,Sortable:s.L},props:{metadataTypeFilterOptions:Array},emits:["on-update-highlighted-metadatum"],data:function(){return{collectionId:"",isLoadingMetadataSections:!1,isUpdatingMetadataOrder:!1,openedMetadatumId:"",openedMetadataSectionId:"",highlightedMetadatum:"",collapses:{},collapseAll:!1,metadataNameFilterString:"",isUpdatingMetadataSectionsOrder:!1,isUpdatingMetadatum:!1,metadataSearchCancel:void 0}},computed:{hasSomeMetadataTypeFilterApplied:function(){return this.metadataTypeFilterOptions.length>0&&this.metadataTypeFilterOptions.some((function(t){return t.enabled}))},activeMetadataSectionsList:{get:function(){return this.getMetadataSections()},set:function(t){this.updateMetadataSections(t)}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){for(var a=-1,e=-1,i=0;i<this.activeMetadataSectionsList.length;i++)if((a=this.activeMetadataSectionsList[i].metadata_object_list.findIndex((function(a){return a&&a.id==t.edit})))>=0){e=i;break}a>=0&&e>=0&&this.editMetadatum(t.edit)}else if(null!=t.sectionEdit){this.activeMetadataSectionsList.findIndex((function(a){return a&&a.id==t.sectionEdit}))>=0&&this.editMetadataSection(t.sectionEdit)}},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.activeMetadataSectionsList.forEach((function(e){e.metadata_object_list&&Array.isArray(e.metadata_object_list)&&e.metadata_object_list.forEach((function(e){return Object.assign(a.collapses,h({},e.id,t))}))}))}},mounted:function(){var t=this;this.cleanMetadataSections(),this.$emitter.on("addMetadatumViaButton",this.addMetadatumViaButton),this.$emitter.on("addMetadataSectionViaButton",this.addMetadataSectionViaButton),this.collectionId=this.$route.params.collectionId,this.isLoadingMetadataSections=!0,this.fetchMetadataSections({collectionId:this.collectionId,isContextEdit:!0,includeDisabled:!0}).then((function(){t.isLoadingMetadataSections=!1})).catch((function(a){t.$console.error(a),t.isLoadingMetadataSections=!1}))},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled."),this.$emitter.off("addMetadatumViaButton",this.addMetadatumViaButton),this.$emitter.off("addMetadataSectionViaButton",this.addMetadataSectionViaButton)},methods:v(v(v({},(0,l.i0)("metadata",["sendMetadatum","sendMetadataSection","deleteMetadatum","updateMetadatum","updateCollectionMetadataOrder","updateCollectionMetadataSectionsOrder","updateMetadataSections","fetchMetadataSections","deleteMetadataSection","cleanMetadataSections","moveMetadataSectionUp","moveMetadataSectionDown","moveMetadatumUp","moveMetadatumDown","moveMetadatum"])),(0,l.L8)("metadata",["getMetadataSections","getMetadatumTypes"])),{},{handleSectionChange:function(t){switch(t.type){case"add":this.addNewMetadataSection(t.newIndex);break;case"remove":this.removeMetadataSection(this.activeFiltersList[t.oldIndex]);break;case"change":case"update":var a=JSON.parse(JSON.stringify(this.activeMetadataSectionsList)),e=a.splice(t.oldIndex,1)[0];a.splice(t.newIndex,0,e),this.updateMetadataSections(a),this.updateMetadataSectionsOrder()}},handleChange:function(t,a){var e=this;switch(t.type){case"add":if(t.from.classList.contains("active-metadata-area")){this.isLoadingMetadataSections=!0;var i=t.item.dataset.originalSectionIndex,n=JSON.parse(JSON.stringify(this.activeMetadataSectionsList[i].metadata_object_list)),o=JSON.parse(JSON.stringify(this.activeMetadataSectionsList[a].metadata_object_list)),r=n.splice(t.oldIndex,1)[0];o.splice(t.newIndex,0,r);var d=JSON.parse(JSON.stringify(this.activeMetadataSectionsList));d[a].metadata_object_list=o,d[i].metadata_object_list=n,this.updateMetadataSections(d),t.to.removeChild(t.item),this.updateMetadatum({collectionId:this.collectionId,metadatumId:t.item.dataset.metadatumId,isRepositoryLevel:"default"===t.item.dataset.collectionId,index:t.newIndex,options:{},includeOptionsAsHtml:!0,sectionId:this.activeMetadataSectionsList[a].id}).then((function(){e.updateMetadataSectionsOrder(d).then((function(){return e.isLoadingMetadataSections=!1})).catch((function(){return e.isLoadingMetadataSections=!1}))})).catch((function(){e.isLoadingMetadataSections=!1}))}else this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex,a),t.to.removeChild(t.item);break;case"change":case"update":this.moveMetadatum({newIndex:t.newIndex,oldIndex:t.oldIndex,sectionIndex:a}),this.updateMetadataOrder(a)}},updateMetadataOrder:function(t){var a,e=this,i=[],n=m(this.activeMetadataSectionsList[t].metadata_object_list);try{for(n.s();!(a=n.n()).done;){var o=a.value;null!=o&&i.push({id:o.id,enabled:o.enabled})}}catch(t){n.e(t)}finally{n.f()}this.isUpdatingMetadataOrder=!0,this.updateCollectionMetadataOrder({collectionId:this.collectionId,metadataOrder:i,metadataSectionId:this.activeMetadataSectionsList[t].id}).then((function(){return e.isUpdatingMetadataOrder=!1})).catch((function(){return e.isUpdatingMetadataOrder=!1}))},updateMetadataSectionsOrder:function(t){var a=this;null==t&&(t=this.activeMetadataSectionsList);var e,i=[],n=m(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;null!=o&&i.push({id:o.id,enabled:o.enabled,metadata_order:o.metadata_object_list.map((function(t){return{id:t.id,enabled:t.enabled}}))})}}catch(t){n.e(t)}finally{n.f()}this.isUpdatingMetadataSectionsOrder=!0,this.updateCollectionMetadataSectionsOrder({collectionId:this.collectionId,metadataSectionsOrder:i}).then((function(){return a.isUpdatingMetadataSectionsOrder=!1})).catch((function(){return a.isUpdatingMetadataSectionsOrder=!1}))},onChangeEnable:function(t,a,e){var i,n=this,o=[],r=m(this.activeMetadataSectionsList[e].metadata_object_list);try{for(r.s();!(i=r.n()).done;){var d=i.value;null!=d&&o.push({id:d.id,enabled:d.enabled})}}catch(t){r.e(t)}finally{r.f()}o[a].enabled=t,this.isUpdatingMetadataOrder=!0,this.updateCollectionMetadataOrder({collectionId:this.collectionId,metadataOrder:o,metadataSectionId:this.activeMetadataSectionsList[e].id}).then((function(){return n.isUpdatingMetadataOrder=!1})).catch((function(){return n.isUpdatingMetadataOrder=!1}))},onChangeEnableSection:function(t,a){var e,i=this,n=[],o=m(this.activeMetadataSectionsList);try{for(o.s();!(e=o.n()).done;){var r=e.value;null!=r&&n.push({id:r.id,enabled:r.enabled,metadata_order:r.metadata_object_list.map((function(t){return{id:t.id,enabled:t.enabled}}))})}}catch(t){o.e(t)}finally{o.f()}n[a].enabled=t,this.isUpdatingMetadataSectionsOrder=!0,this.updateCollectionMetadataSectionsOrder({collectionId:this.collectionId,metadataSectionsOrder:n}).then((function(){return i.isUpdatingMetadataSectionsOrder=!1})).catch((function(){return i.isUpdatingMetadataSectionsOrder=!1}))},addMetadatumViaButton:function(t){this.addNewMetadatum(t,this.activeMetadataSectionsList[0].metadata_object_list.length,0),this.highlightedMetadatum=t.name,this.$emit("on-update-highlighted-metadatum",this.highlightedMetadatum)},addMetadataSectionViaButton:function(){var t=this.activeMetadataSectionsList.length;this.addNewMetadataSection(t)},addNewMetadatum:function(t,a,e){var i=this;this.isUpdatingMetadatum=!0,this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className,status:"auto-draft",isRepositoryLevel:!1,newIndex:a,parent:"0",sectionId:this.activeMetadataSectionsList[e].id}).then((function(t){i.updateMetadataOrder(e),i.toggleMetadatumEdition(t),i.highlightedMetadatum="",i.isUpdatingMetadatum=!1,i.$emit("on-update-highlighted-metadatum",i.highlightedMetadatum)})).catch((function(t){i.isUpdatingMetadatum=!1,i.$console.error(t)}))},addNewMetadataSection:function(t){var a=this;this.isUpdatingMetadatum=!0,this.sendMetadataSection({collectionId:this.collectionId,name:this.$i18n.get("label_new_metadata_section"),status:"auto-draft",newIndex:t}).then((function(t){a.updateMetadataSectionsOrder(),a.toggleMetadataSectionEdition(t),a.isUpdatingMetadatum=!1})).catch((function(t){a.$console.error(t),a.isUpdatingMetadatum=!1}))},removeMetadatum:function(t,a){var e=this;this.$buefy.modal.open({parent:this,component:d.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_metadatum_delete"),onConfirm:function(){e.isUpdatingMetadataOrder=!0,e.deleteMetadatum({collectionId:e.collectionId,metadatumId:t.id,isRepositoryLevel:!1}).then((function(){e.updateMetadataOrder(a)})).catch((function(){e.isUpdatingMetadataOrder=!1,e.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")})},removeMetadataSection:function(t){var a=this;this.$buefy.modal.open({parent:this,component:d.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_metadata_section_delete"),onConfirm:function(){a.isUpdatingMetadataSectionsOrder=!0,a.deleteMetadataSection({collectionId:a.collectionId,metadataSectionId:t.id}).then((function(){a.updateMetadataSectionsOrder()})).catch((function(){a.isUpdatingMetadataSectionsOrder=!1,a.$console.log("Error deleting metadata section.")}))}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")})},toggleMetadatumEdition:function(t){this.$router.push({query:{edit:t.id}})},toggleMetadataSectionEdition:function(t){this.$router.push({query:{sectionEdit:t.id}})},editMetadatum:function(t){this.openedMetadatumId=t},editMetadataSection:function(t){this.openedMetadataSectionId=t},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onSectionEditionFinished:function(){this.openedMetadataSectionId="",this.$router.push({query:{}})},onSectionEditionCanceled:function(){this.openedMetadataSectionId="",this.$router.push({query:{}})},moveMetadatumUpViaButton:function(t,a){this.moveMetadatumUp({index:t,sectionIndex:a}),this.updateMetadataOrder(a)},moveMetadatumDownViaButton:function(t,a){this.moveMetadatumDown({index:t,sectionIndex:a}),this.updateMetadataOrder(a)},moveMetadataSectionUpViaButon:function(t){this.moveMetadataSectionUp(t),this.updateMetadataSectionsOrder()},moveMetadataSectionDownViaButton:function(t){this.moveMetadataSectionDown(t),this.updateMetadataSectionsOrder()},filterByMetadatumName:function(t){var a=this;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var e=t.metadata_type_options.children_objects.map((function(t){return t.name}));return e.push(t.name),e.some((function(t){return t.toString().toLowerCase().indexOf(a.metadataNameFilterString.toString().toLowerCase())>=0}))}return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var a=t.metadata_type_options.children_objects.map((function(t){return t.metadata_type}));a.push(t.metadata_type);var e,i=m(this.metadataTypeFilterOptions);try{var n,o=function(){var t=e.value;if(t.enabled&&a.some((function(a){return a==t.type})))return{v:!0}};for(i.s();!(e=i.n()).done;)if(n=o())return n.v}catch(t){i.e(t)}finally{i.f()}}else{var r,d=m(this.metadataTypeFilterOptions);try{for(d.s();!(r=d.n()).done;){var l=r.value;if(l.enabled&&t.metadata_type==l.type)return!0}}catch(t){d.e(t)}finally{d.f()}}return!1},isCollapseOpen:function(t){return 1==this.collapses[t]}})}},61352:(t,a,e)=>{e.d(a,{A:()=>l});var i=e(40834);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){d(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function d(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const l={name:"MetadataMappingList",props:{isRepositoryLevel:Boolean},data:function(){return{collectionId:"",isLoadingMetadatumMappers:!0,isLoadingMetadata:!1,mapper:"",mapperMetadata:[],isMapperMetadataLoading:!1,isMapperMetadataCreating:!1,mappedMetadata:[],newMapperMetadataList:[],newMetadataLabel:"",newMetadataUri:""}},computed:r(r({},(0,i.L8)("metadata",{metadatumMappers:"getMetadatumMappers",activeMetadatumList:"getMetadata"})),{},{isNewMetadataMapperMetadataDisabled:function(){return!this.newMetadataLabel||!this.newMetadataUri}}),mounted:function(){var t=this;this.isRepositoryLevel?this.loadMetadataMappers():(this.collectionId=this.$route.params.collectionId,this.isLoadingMetadata=!0,this.cleanMetadata(),this.fetchMetadata({collectionId:this.collectionId,isRepositoryLevel:!1,isContextEdit:!0,includeDisabled:!0,includeOptionsAsHtml:!1}).then((function(a){a.request.then((function(){t.loadMetadataMappers(),t.isLoadingMetadata=!1})).catch((function(){t.isLoadingMetadata=!1}))})).catch((function(){return t.isLoadingMetadata=!1})))},methods:r(r({},(0,i.i0)("metadata",["fetchMetadata","cleanMetadata","fetchMetadatumMappers","updateMetadataMapperMetadata"])),{},{loadMetadataMappers:function(){var t=this;this.isLoadingMetadatumMappers=!0,this.fetchMetadatumMappers().then((function(){t.isLoadingMetadatumMappers=!1,t.metadatumMappers.length>=1&&t.onSelectMetadataMapper(t.metadatumMappers[0])})).catch((function(){t.isLoadingMetadatumMappers=!1}))},onSelectMetadataMapper:function(t){var a=this;if(this.isMapperMetadataLoading=!0,this.mapper=t,this.mapperMetadata=[],""!=t){for(var e in t.metadata){var i=t.metadata[e];i.slug=e,i.selected="",i.isCustom=!1,this.activeMetadatumList.forEach((function(e){Object.prototype.hasOwnProperty.call(e.exposer_mapping,t.slug)&&e.exposer_mapping[t.slug]==i.slug&&(i.selected=e.id,a.mappedMetadata.push(e.id))})),this.mapperMetadata.push(i)}this.activeMetadatumList.forEach((function(e){if(Object.prototype.hasOwnProperty.call(e.exposer_mapping,t.slug)&&"object"==n(e.exposer_mapping[t.slug])){a.newMapperMetadataList.push(Object.assign({},e.exposer_mapping[t.slug])),a.mappedMetadata.push(e.id);var i=Object.assign({},e.exposer_mapping[t.slug]);i.selected=e.id,i.isCustom=!0,a.mapperMetadata.push(i)}}))}this.isMapperMetadataLoading=!1},isMetadatumSelected:function(t){return this.mappedMetadata.indexOf(t)>-1},onSelectMetadatumForMapperMetadata:function(){var t=this;this.mappedMetadata=[],this.mapperMetadata.forEach((function(a){0!=a.selected.length&&t.mappedMetadata.push(a.selected)}))},onUpdateMetadataMapperMetadataClick:function(){var t=this;this.isMapperMetadataLoading=!0;var a=[];this.mapperMetadata.forEach((function(t){if(0!=t.selected.length){var e={metadatum_id:t.selected,mapper_metadata:t.slug};a.push(e)}})),this.activeMetadatumList.forEach((function(e){if(-1==t.mappedMetadata.indexOf(e.id)){var i={metadatum_id:e.id,mapper_metadata:""};a.push(i)}})),this.newMapperMetadataList.forEach((function(t){var e=t.slug;a.forEach((function(i,n){if(i.mapper_metadata==e){var o=Object.assign({},t);delete o.selected,delete o.isCustom,i.mapper_metadata=o,a[n]=i}}))})),this.updateMetadataMapperMetadata({metadataMapperMetadata:a,mapper:this.mapper.slug}).then((function(){t.isMapperMetadataLoading=!1})).catch((function(){t.isMapperMetadataLoading=!1}))},onCancelUpdateMetadataMapperMetadata:function(){this.isMapperMetadataLoading=!0,this.onSelectMetadataMapper(this.mapper),this.isMapperMetadataLoading=!1},onNewMetadataMapperMetadata:function(){this.isMapperMetadataCreating=!0},onCancelNewMetadataMapperMetadata:function(){this.isMapperMetadataCreating=!1,this.newMetadataLabel="",this.newMetadataUri="",this.new_metadata_slug=""},onSaveNewMetadataMapperMetadata:function(){var t=this;this.isMapperMetadataLoading=!0;var a={label:this.newMetadataLabel,uri:this.newMetadataUri,slug:this.stringToSlug(this.newMetadataLabel),isCustom:!0},e="";""!=this.new_metadata_slug&&this.newMapperMetadataList.forEach((function(a,i){a.slug==t.new_metadata_slug&&(t.newMapperMetadataList.splice(i),t.mapperMetadata.forEach((function(a,i){a.slug==t.new_metadata_slug&&(e=a.selected,t.mapperMetadata.splice(i))})))})),this.newMapperMetadataList.push(a),a.selected=e,this.mapperMetadata.push(a),this.newMetadataLabel="",this.newMetadataUri="",this.new_metadata_slug="",this.isMapperMetadataCreating=!1,this.isMapperMetadataLoading=!1},stringToSlug:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var a="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",e=0;e<28;e++)t=t.replace(new RegExp(a.charAt(e),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(e));return t=t.replace(".","-").replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},editMetadatumCustomMapper:function(t){this.newMetadataLabel=t.label,this.newMetadataUri=t.uri,this.new_metadata_slug=t.slug,this.isMapperMetadataCreating=!0},removeMetadatumCustomMapper:function(t){var a=this,e=0;return this.newMapperMetadataList.forEach((function(i,n){if(i.slug==t.slug){a.newMapperMetadataList.splice(n);var o=a.mappedMetadata.indexOf(i.selected);a.mappedMetadata.splice(o),e=t.selected}})),""!=e&&e>0&&this.mapperMetadata.forEach((function(t,i){t.selected==e&&a.mapperMetadata.splice(i)})),!0}})}},26971:(t,a,e)=>{e.d(a,{A:()=>l});var i=e(40834);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){d(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function d(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const l={name:"MetadataTypesList",components:{Sortable:e(48766).L},props:{isRepositoryLevel:Boolean,highlightedMetadatum:String},emits:["on-finished-loading-metadata-types"],data:function(){return{isLoadingMetadataTypes:!0,availableMetadataSectionsList:[{label:this.$i18n.get("label_add_new_section"),name:this.$i18n.get("label_new_metadata_section"),id:"metadataSectionCreator"}]}},computed:r({},(0,i.L8)("metadata",{availableMetadataTypes:"getMetadatumTypes"})),mounted:function(){var t=this;this.isLoadingMetadataTypes=!0,this.fetchMetadatumTypes().then((function(){t.$emit("on-finished-loading-metadata-types"),t.isLoadingMetadataTypes=!1})).catch((function(){t.isLoadingMetadataTypes=!1}))},methods:r(r({},(0,i.i0)("metadata",["fetchMetadatumTypes"])),{},{addMetadatumViaButton:function(t){this.$emitter.emit("addMetadatumViaButton",t)},addMetadataSectionViaButton:function(){this.$emitter.emit("addMetadataSectionViaButton")},getPreviewTemplateContent:function(t){return'<div class="metadata-type-preview tainacan-form">\n                        <span class="metadata-type-label">'+this.$i18n.get("label_metadatum_type_preview")+'</span>\n                        <div class="field">\n                            <span class="collapse-handle">\n                                <span class="icon">\n                                    <i class="has-text-secondary tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"></i>\n                                </span> \n                                <label class="label has-tooltip">'+t.name+"</label>\n                            </span>\n                            <div>"+t.preview_template+"</div>\n                        </div>\n                    </div>"}})}},38424:(t,a,e)=>{e.d(a,{A:()=>h});var i=e(11158),n=e(23527),o=e(31968),r=e(3012),d=e(40834),l=e(48766);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return m(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function m(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function u(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function p(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?u(Object(e),!0).forEach((function(a){v(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function v(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==s(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const h={name:"RepositoryMetadataList",components:{MetadatumEditionForm:i.A,ChildMetadataList:o.A,MetadatumDetails:n.A,Sortable:l.L},props:{metadataTypeFilterOptions:Array},emits:["on-update-highlighted-metadatum"],data:function(){return{collectionId:"default",isLoadingMetadata:!1,openedMetadatumId:"",highlightedMetadatum:"",collapses:{},collapseAll:!1,metadataNameFilterString:"",metadataSearchCancel:void 0}},computed:{hasSomeMetadataTypeFilterApplied:function(){return this.metadataTypeFilterOptions.length>0&&this.metadataTypeFilterOptions.some((function(t){return t.enabled}))},activeMetadatumList:{get:function(){return this.getMetadata()},set:function(t){this.updateMetadata(t)}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){var a=this.activeMetadatumList.findIndex((function(a){return a&&a.id==t.edit}));a>=0&&this.editMetadatum(this.activeMetadatumList[a])}},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.activeMetadatumList.forEach((function(e){return Object.assign(a.collapses,v({},e.id,t))}))}},mounted:function(){this.cleanMetadata(),this.loadMetadata(),this.$emitter.on("addMetadatumViaButton",this.addMetadatumViaButton)},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:p(p(p({},(0,d.i0)("metadata",["fetchMetadata","sendMetadatum","deleteMetadatum","updateMetadata","cleanMetadata"])),(0,d.L8)("metadata",["getMetadata","getMetadatumTypes"])),{},{handleChange:function(t){switch(t.type){case"add":t.from.classList.contains("active-metadata-area")||(this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex),t.to.removeChild(t.item));break;case"remove":this.removeMetadatum(this.activeMetadatumList[t.oldIndex])}},addMetadatumViaButton:function(t){var a=this.activeMetadatumList.length;this.addNewMetadatum(t,a),this.highlightedMetadatum=t.name,this.$emit("on-update-highlighted-metadatum",this.highlightedMetadatum)},addNewMetadatum:function(t,a){var e=this;this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className,status:"auto-draft",isRepositoryLevel:!0,newIndex:a,parent:"0"}).then((function(t){e.toggleMetadatumEdition(t),e.highlightedMetadatum="",e.$emit("on-update-highlighted-metadatum",e.highlightedMetadatum)})).catch((function(t){e.$console.error(t)}))},removeMetadatum:function(t){var a=this;this.$buefy.modal.open({parent:this,component:r.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_metadatum_delete"),onConfirm:function(){a.deleteMetadatum({collectionId:a.collectionId,metadatumId:t.id,isRepositoryLevel:!0}).catch((function(){a.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")})},toggleMetadatumEdition:function(t){this.$router.push({query:{edit:t.id}})},editMetadatum:function(t){this.openedMetadatumId=t.id},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},loadMetadata:function(){var t=this;this.isLoadingMetadata=!0,null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled."),this.fetchMetadata({collectionId:this.collectionId,isRepositoryLevel:!0,isContextEdit:!0,includeDisabled:!0,parent:"0",includeOptionsAsHtml:!0}).then((function(a){a.request.then((function(){if(t.isLoadingMetadata=!1,null!=t.$route.query.edit){var a=t.activeMetadatumList.findIndex((function(a){return a.id==t.$route.query.edit}));a>=0&&t.editMetadatum(t.activeMetadatumList[a])}})).catch((function(){t.isLoadingMetadata=!1})),t.metadataSearchCancel=a.source})).catch((function(){return t.isLoadingMetadata=!1}))},filterByMetadatumName:function(t){var a=this;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var e=t.metadata_type_options.children_objects.map((function(t){return t.name}));return e.push(t.name),e.some((function(t){return t.toString().toLowerCase().indexOf(a.metadataNameFilterString.toString().toLowerCase())>=0}))}return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var a=t.metadata_type_options.children_objects.map((function(t){return t.metadata_type}));a.push(t.metadata_type);var e,i=c(this.metadataTypeFilterOptions);try{var n,o=function(){var t=e.value;if(t.enabled&&a.some((function(a){return a==t.type})))return{v:!0}};for(i.s();!(e=i.n()).done;)if(n=o())return n.v}catch(t){i.e(t)}finally{i.f()}}else{var r,d=c(this.metadataTypeFilterOptions);try{for(d.s();!(r=d.n()).done;){var l=r.value;if(l.enabled&&t.metadata_type==l.type)return!0}}catch(t){d.e(t)}finally{d.f()}}return!1},isCollapseOpen:function(t){return 1==this.collapses[t]}})}},456:(t,a,e)=>{e.d(a,{A:()=>v});var i=e(40834),n=e(11158),o=e(23527),r=e(3012),d=e(48766);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return c(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function c(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function m(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?m(Object(e),!0).forEach((function(a){p(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function p(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==l(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const v={components:{MetadatumEditionForm:n.A,MetadatumDetails:o.A,Sortable:d.L},props:{isRepositoryLevel:Boolean,parent:Object,isParentMultiple:Boolean,metadataNameFilterString:String,hasSomeMetadataTypeFilterApplied:{type:Boolean,default:new Boolean},metadataTypeFilterOptions:{type:Array,default:new Array},collapseAll:{type:Boolean,default:new Boolean},sectionId:String},data:function(){return{collectionId:"",isLoadingMetadata:!1,isUpdatingMetadataOrder:!1,openedMetadatumId:"",highlightedMetadatum:"",metadataSearchCancel:void 0,childrenMetadata:[],collapses:{}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){var a=this.childrenMetadata.findIndex((function(a){return a&&a.id==t.edit}));a>=0&&this.editMetadatum(this.childrenMetadata[a])}},immediate:!0,deep:!0},"parent.metadata_type_options.children_objects":{handler:function(t){t&&t.length>0?this.childrenMetadata=t:this.childrenMetadata=[]},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.childrenMetadata.forEach((function(e){return Object.assign(a.collapses,p({},e.id,t))}))}},mounted:function(){this.isRepositoryLevel?this.collectionId="default":this.collectionId=this.$route.params.collectionId},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:u(u(u({},(0,i.i0)("metadata",["fetchMetadata","sendMetadatum","deleteMetadatum","updateChildMetadataOrder"])),(0,i.L8)("metadata",["getMetadatumTypes"])),{},{handleChange:function(t){switch(t.type){case"add":t.from.classList.contains("active-metadata-area")||(this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex),t.to.removeChild(t.item));break;case"remove":this.removeMetadatum(this.childrenMetadata[t.oldIndex]);break;case"change":case"update":var a=JSON.parse(JSON.stringify(this.childrenMetadata)),e=a.splice(t.oldIndex,1)[0];a.splice(t.newIndex,0,e),this.childrenMetadata=a,this.updateMetadataOrder()}},updateMetadataOrder:function(){var t,a=this,e=[],i=s(this.childrenMetadata);try{for(i.s();!(t=i.n()).done;){var n=t.value;null!=n&&e.push({id:n.id})}}catch(t){i.e(t)}finally{i.f()}this.isUpdatingMetadataOrder=!0,this.updateChildMetadataOrder({isRepositoryLevel:this.isRepositoryLevel,collectionId:this.collectionId,parentMetadatumId:this.parent.id,childMetadataOrder:e}).then((function(){return a.isUpdatingMetadataOrder=!1})).catch((function(){return a.isUpdatingMetadataOrder=!1}))},addNewMetadatum:function(t,a){var e=this;this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className?t.className:t.metadata_type,status:"auto-draft",isRepositoryLevel:this.isRepositoryLevel,newIndex:a,parent:this.parent.id,sectionId:!!this.sectionId&&this.sectionId}).then((function(t){e.updateMetadataOrder(),e.toggleMetadatumEdition(t.id),e.highlightedMetadatum=""})).catch((function(t){e.$console.error(t)}))},removeMetadatum:function(t){var a=this;this.$buefy.modal.open({parent:this,component:r.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_metadatum_delete"),onConfirm:function(){a.deleteMetadatum({collectionId:a.collectionId,metadatumId:t.id,isRepositoryLevel:a.isRepositoryLevel}).then((function(){a.updateMetadataOrder()})).catch((function(){a.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")})},toggleMetadatumEdition:function(t){this.openedMetadatumId==t?(this.openedMetadatumId="",this.$router.push({query:{}})):this.$router.push({query:{edit:t}})},editMetadatum:function(t){this.openedMetadatumId=t.id},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},moveMetadatumUpViaButton:function(t){this.childrenMetadata.splice(t-1,0,this.childrenMetadata.splice(t,1)[0]),this.updateMetadataOrder()},moveMetadatumDownViaButton:function(t){this.childrenMetadata.splice(t+1,0,this.childrenMetadata.splice(t,1)[0]),this.updateMetadataOrder()},isAvailableChildMetadata:function(t,a,e){return!(!this.isRepositoryLevel&&"default"===this.parent.collection_id)&&(!!(e&&e.dataset&&e.dataset.metadatumType)&&((!a.el||"active-metadata-area"!==a.el.className)&&!["tainacan-compound","tainacan-taxonomy"].includes(e.dataset.metadatumType)))},isCollapseOpen:function(t){return 1==this.collapses[t]},filterByMetadatumName:function(t){return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;var a,e=s(this.metadataTypeFilterOptions);try{for(e.s();!(a=e.n()).done;){var i=a.value;if(i.enabled&&t.metadata_type==i.type)return!0}}catch(t){e.e(t)}finally{e.f()}return!1}})}},38567:(t,a,e)=>{e.d(a,{A:()=>i});const i={props:{metadatum:Object},computed:{insertOptions:function(){var t=[];return"yes"===this.metadatum.required&&t.push(this.$i18n.getHelperTitle("metadata","required")),"yes"===this.metadatum.multiple&&t.push(this.$i18n.getHelperTitle("metadata","multiple")),"yes"===this.metadatum.collection_key&&t.push(this.$i18n.getHelperTitle("metadata","collection_key")),t.join(", ")}}}},53904:(t,a,e)=>{e.d(a,{A:()=>u});var i=e(2390),n=e(85954),o=e(60760),r=e(98023),d=e(40834);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==l(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const u={name:"MetadataPage",components:{RepositoryMetadataList:i.A,CollectionMetadataList:n.A,MetadataTypesList:r.A,MetadataMappingList:o.A},data:function(){return{isRepositoryLevel:!1,activeTab:0,highlightedMetadatum:"",metadataTypeFilterOptions:[]}},computed:c(c({},(0,d.L8)("collection",{collection:"getCollection"})),{},{repositoryTabLabel:function(){var t=this.$i18n.get("metadata"),a=this.getMetadata();return Array.isArray(a)&&a.length&&(t+=" ("+a.length+")"),t},collectionTabLabel:function(){var t=this.$i18n.get("label_metadata_and_sections"),a=this.getMetadataSections();if(Array.isArray(a)&&a.length){var e=a.reduce((function(t,a){return a.metadata_object_list?t+parseInt(a.metadata_object_list.length):0}),0);t=this.$i18n.getWithVariables("label_metadata_%s_and_sections_%s",[e,a.length])}return t}}),created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},mounted:function(){this.isRepositoryLevel||this.$emitter.emit("onCollectionBreadCrumbUpdate",[{path:"",label:this.$i18n.get("metadata")}])},methods:c(c({},(0,d.L8)("metadata",["getMetadatumTypes","getMetadata","getMetadataSections"])),{},{createMetadataTypeFilterOptions:function(){this.metadataTypeFilterOptions=JSON.parse(JSON.stringify(this.getMetadatumTypes())).map((function(t){return{enabled:!1,name:t.name,type:t.className}}))}})}},30392:(t,a,e)=>{e.d(a,{X:()=>j});var i=e(6934),n=function(t){return(0,i.Qi)("data-v-1e221074"),t=t(),(0,i.jt)(),t},o={key:0,class:"tainacan-modal-content"},r={class:"tainacan-modal-title"},d={key:0},l={key:1},s=n((function(){return(0,i.Lk)("hr",null,null,-1)})),c={class:"tainacan-form"},m={class:"options-columns"},u={class:"label is-inline"},p=["innerHTML"],v={class:"label is-inline"},h={class:"label is-inline"},g={class:"is-flex is-justify-content-space-between"},f=n((function(){return(0,i.Lk)("span",{class:"icon has-text-gray3"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-public"})],-1)})),b=n((function(){return(0,i.Lk)("span",{class:"icon has-text-gray3"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"})],-1)})),y={class:"icon"},_=n((function(){return(0,i.Lk)("hr",null,null,-1)})),M={class:"options-columns"},k={key:0},w={style:{"break-inside":"avoid"}},C={class:"label is-inline"},L=["value"],S={class:"label is-inline"},x=["innerHTML"],O={class:"field is-grouped form-submit"},E={class:"control"},$={class:"help is-danger"},I={class:"control"};function j(t,a,e,n,j,F){var A=(0,i.g2)("help-button"),X=(0,i.g2)("b-input"),T=(0,i.g2)("b-field"),V=(0,i.g2)("b-switch"),U=(0,i.g2)("b-radio"),P=(0,i.g2)("b-select"),N=(0,i.g2)("b-button");return(0,i.uX)(),(0,i.CE)("form",{id:"metadataSectionEditForm",autofocus:"true",tabindex:"-1",role:"dialog","aria-modal":"",onSubmit:a[17]||(a[17]=(0,i.D$)((function(t){return F.saveEdition(j.form)}),["prevent"]))},[j.form&&Object.keys(j.form).length?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",r,[j.form.name?((0,i.uX)(),(0,i.CE)("h2",d,[(0,i.eW)((0,i.v_)(t.$i18n.get("instruction_configure_the_metadata_section"))+" ",1),(0,i.Lk)("em",null,(0,i.v_)(j.form.name),1)])):((0,i.uX)(),(0,i.CE)("h2",l,(0,i.v_)(t.$i18n.get("instruction_configure_new_metadata_section")),1)),s]),(0,i.Lk)("div",c,[(0,i.Lk)("div",m,[(0,i.bF)(T,{addons:!1,type:null!=j.formErrors.name?"is-danger":"",message:null!=j.formErrors.name?j.formErrors.name:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",u,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_name"))+" ",1),(0,i.Lk)("span",{class:(0,i.C4)(["required-metadata-section-asterisk",null!=j.formErrors.name?"is-danger":""])},"*",2),(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","name"),message:t.$i18n.getHelperMessage("metadata-sections","name")},null,8,["title","message"])]),(0,i.bF)(X,{modelValue:j.form.name,"onUpdate:modelValue":a[0]||(a[0]=function(t){return j.form.name=t}),name:"name",onFocus:a[1]||(a[1]=function(t){return F.clearErrors("name")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),t.hasBeginLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:0,id:"form-metadataSection-begin-left",class:"form-hook-region",innerHTML:t.getBeginLeftForm},null,8,p)):(0,i.Q3)("",!0),(0,i.bF)(T,{addons:!1,type:null!=j.formErrors.description?"is-danger":"",message:null!=j.formErrors.description?j.formErrors.description:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",v,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_description"))+" ",1),(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","description"),message:t.$i18n.getHelperMessage("metadata-sections","description")},null,8,["title","message"])]),(0,i.bF)(X,{modelValue:j.form.description,"onUpdate:modelValue":a[2]||(a[2]=function(t){return j.form.description=t}),type:"textarea",name:"description",rows:"3",onFocus:a[3]||(a[3]=function(t){return F.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,i.bF)(T,{addons:!1,label:t.$i18n.getHelperTitle("metadata-sections","description_bellow_name"),type:null!=j.formErrors.description_bellow_name?"is-danger":"",message:null!=j.formErrors.description_bellow_name?j.formErrors.description_bellow_name:""},{default:(0,i.k6)((function(){return[(0,i.eW)("   "),(0,i.bF)(V,{modelValue:j.form.description_bellow_name,"onUpdate:modelValue":[a[4]||(a[4]=function(t){return j.form.description_bellow_name=t}),a[5]||(a[5]=function(t){return F.clearErrors("description_bellow_name")})],size:"is-small","true-value":"yes","false-value":"no",name:"description_bellow_name"},{default:(0,i.k6)((function(){return[(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","description_bellow_name"),message:t.$i18n.getHelperMessage("metadata-sections","description_bellow_name")},null,8,["title","message"])]})),_:1},8,["modelValue"])]})),_:1},8,["label","type","message"]),"default_section"!==j.form.id?((0,i.uX)(),(0,i.Wv)(T,{key:1,addons:!1,type:null!=j.formErrors.status?"is-danger":"",message:null!=j.formErrors.status?j.formErrors.status:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",h,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_status"))+" ",1),(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","status"),message:t.$i18n.getHelperMessage("metadata-sections","status")},null,8,["title","message"])]),(0,i.Lk)("div",g,[(0,i.bF)(U,{id:"tainacan-select-status-publish",modelValue:j.form.status,"onUpdate:modelValue":a[6]||(a[6]=function(t){return j.form.status=t}),name:"status","native-value":"publish",onFocus:a[7]||(a[7]=function(t){return F.clearErrors("label_status")})},{default:(0,i.k6)((function(){return[f,(0,i.eW)(" "+(0,i.v_)(t.$i18n.get("status_public")),1)]})),_:1},8,["modelValue"]),(0,i.bF)(U,{id:"tainacan-select-status-private",modelValue:j.form.status,"onUpdate:modelValue":a[8]||(a[8]=function(t){return j.form.status=t}),name:"status","native-value":"private",onFocus:a[9]||(a[9]=function(t){return F.clearErrors("label_status")})},{default:(0,i.k6)((function(){return[b,(0,i.eW)(" "+(0,i.v_)(t.$i18n.get("status_private")),1)]})),_:1},8,["modelValue"])])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]),"default_section"!==j.form.id?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"metadata-form-section",onClick:a[10]||(a[10]=function(t){j.hideConditionalSectionSettings=!j.hideConditionalSectionSettings})},[(0,i.Lk)("span",y,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon",j.hideConditionalSectionSettings?"tainacan-icon-arrowright":"tainacan-icon-arrowdown"])},null,2)]),(0,i.Lk)("strong",null,(0,i.v_)(t.$i18n.get("label_advanced_metadata_options")),1),_])):(0,i.Q3)("",!0),"default_section"!==j.form.id?((0,i.uX)(),(0,i.Wv)(i.eB,{key:1,name:"filter-item"},{default:(0,i.k6)((function(){return[(0,i.bo)((0,i.Lk)("div",M,[(0,i.bF)(T,{addons:!1,label:t.$i18n.getHelperTitle("metadata-sections","is_conditional_section"),type:null!=j.formErrors.is_conditional_section?"is-danger":"",message:null!=j.formErrors.is_conditional_section?j.formErrors.is_conditional_section:""},{default:(0,i.k6)((function(){return[(0,i.eW)("   "),(0,i.bF)(V,{modelValue:j.form.is_conditional_section,"onUpdate:modelValue":[a[11]||(a[11]=function(t){return j.form.is_conditional_section=t}),a[12]||(a[12]=function(t){return F.clearErrors("is_conditional_section")})],size:"is-small","true-value":"yes","false-value":"no",name:"is_conditional_section"},{default:(0,i.k6)((function(){return[(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","is_conditional_section"),message:t.$i18n.getHelperMessage("metadata-sections","is_conditional_section")},null,8,["title","message"])]})),_:1},8,["modelValue"])]})),_:1},8,["label","type","message"]),F.isConditionalSection&&!F.availableConditionalMetadata.length?((0,i.uX)(),(0,i.CE)("div",k,[(0,i.Lk)("p",w,(0,i.v_)(t.$i18n.get("info_create_select_metadatum_for_conditional_section")),1)])):(0,i.Q3)("",!0),(0,i.bF)(i.eB,{name:"filter-item"},{default:(0,i.k6)((function(){return[F.isConditionalSection&&F.availableConditionalMetadata.length?((0,i.uX)(),(0,i.Wv)(T,{key:0,addons:!1,type:null!=j.formErrors.conditional_section_rules?"is-danger":"",message:null!=j.formErrors.conditional_section_rules?j.formErrors.conditional_section_rules:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",C,[(0,i.eW)((0,i.v_)(t.$i18n.getHelperTitle("metadata-sections","conditional_section_rules"))+" ",1),(0,i.bF)(A,{title:t.$i18n.getHelperTitle("metadata-sections","conditional_section_rules"),message:t.$i18n.getHelperMessage("metadata-sections","conditional_section_rules")},null,8,["title","message"])]),(0,i.bF)(P,{modelValue:j.selectedConditionalMetadatumId,"onUpdate:modelValue":[a[13]||(a[13]=function(t){return j.selectedConditionalMetadatumId=t}),a[14]||(a[14]=function(t){return F.reloadConditionalValueComponent()})],placeholder:t.$i18n.get("label_select_metadatum")},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(F.availableConditionalMetadata,(function(t){return(0,i.uX)(),(0,i.CE)("option",{key:t.id,value:t.id},(0,i.v_)(t.name),9,L)})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(i.eB,{name:"filter-item"},{default:(0,i.k6)((function(){return[F.isConditionalSection&&j.selectedConditionalMetadatumId&&F.selectedConditionalMetadatum&&F.selectedConditionalMetadatum.name?((0,i.uX)(),(0,i.Wv)(T,{key:0,addons:!1,type:null!=j.formErrors.conditional_section_rules?"is-danger":"",message:null!=j.formErrors.conditional_section_rules?j.formErrors.conditional_section_rules:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",S,(0,i.v_)(F.selectedConditionalMetadatum.name),1),j.shouldUpdateConditionalValue?((0,i.uX)(),(0,i.Wv)((0,i.$y)(F.selectedConditionalMetadatum.metadata_type_object.component),{key:0,"forced-component-type":F.selectedConditionalMetadatum.metadata_type_object.component.includes("taxonomy")?"tainacan-taxonomy-tag-input":"","item-metadatum":{metadatum:F.selectedConditionalMetadatum},value:Array.isArray(j.selectedConditionalValue)?j.selectedConditionalValue[0]:j.selectedConditionalValue,"allow-new":!1,maxtags:1,"onUpdate:value":a[15]||(a[15]=function(t){return F.selectConditionalValue(t)})},null,40,["forced-component-type","item-metadatum","value"])):(0,i.Q3)("",!0)]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]})),_:1})],512),[[i.aG,!j.hideConditionalSectionSettings]])]})),_:1})):(0,i.Q3)("",!0),t.hasEndLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:2,id:"form-metadataSection-end-left",class:"form-hook-region",innerHTML:t.getEndLeftForm},null,8,x)):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",O,[(0,i.Lk)("div",E,[(0,i.Lk)("button",{type:"button",class:"button is-outlined",onClick:a[16]||(a[16]=(0,i.D$)((function(t){return F.cancelEdition()}),["prevent"]))},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("p",$,(0,i.v_)(j.formErrorMessage),1),(0,i.Lk)("div",I,[(0,i.bF)(N,{loading:j.isUpdating,class:"button is-success","native-type":"submit"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.$i18n.get("save")),1)]})),_:1},8,["loading"])])])],32)}},69513:(t,a,e)=>{e.d(a,{X:()=>ot});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var r={class:"column"},d={class:"tainacan-form sub-header"},l=["aria-expanded"],s={class:"icon"},c={class:"collapse-all__text"},m=["aria-label"],u=(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1),p={class:"metadata-options-container"},v={key:0,class:"field is-grouped-centered section"},h={class:"content has-text-gray has-text-centered"},g=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1),f={class:"sorting-buttons"},b=["disabled","onClick"],y=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)],_=["disabled","onClick"],M=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)],k=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],w={class:"metadatum-name"},C={key:0},L={key:1,class:"icon"},S=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)],x={key:1,class:"loading-spinner"},O={key:2,class:"controls"},E=["onClick"],$={class:"icon"},I=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)],j=["disabled","onClick"],F={class:"icon"},A=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)],X={key:0,class:"field is-grouped-centered section"},T={class:"content has-text-gray has-text-centered"},V=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1),U=["data-metadatum-id","data-collection-id","data-original-section-index"],P={class:"sorting-buttons"},N=["disabled","aria-label","onClick"],z=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)],Q=["disabled","aria-label","onClick"],B=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)],H=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],R=["onClick"],D={class:"metadatum-name"},W={key:0},q={key:1,class:"icon"},J=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)],K={class:"icon icon-level-identifier"},G={key:1,class:"loading-spinner"},Y={key:2,class:"controls"},Z=["onClick"],tt={class:"icon"},at=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)],et=["onClick"],it={class:"icon"},nt=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)];function ot(t,a,e,n,ot,rt){var dt=(0,i.g2)("b-loading"),lt=(0,i.g2)("b-checkbox"),st=(0,i.g2)("b-dropdown-item"),ct=(0,i.g2)("b-dropdown"),mt=(0,i.g2)("b-field"),ut=(0,i.g2)("b-input"),pt=(0,i.g2)("b-switch"),vt=(0,i.g2)("metadatum-details"),ht=(0,i.g2)("child-metadata-list"),gt=(0,i.g2)("metadatum-edition-form"),ft=(0,i.g2)("b-modal"),bt=(0,i.g2)("sortable"),yt=(0,i.g2)("metadata-section-edition-form"),_t=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(dt,{modelValue:ot.isLoadingMetadataSections,"onUpdate:modelValue":a[0]||(a[0]=function(t){return ot.isLoadingMetadataSections=t})},null,8,["modelValue"]),(0,i.Lk)("div",d,[rt.activeMetadataSectionsList?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[rt.activeMetadataSectionsList.length>0?((0,i.uX)(),(0,i.CE)("button",{key:0,"aria-controls":"filters-items-list","aria-expanded":!ot.collapseAll,class:"link-style collapse-all",onClick:a[1]||(a[1]=function(t){return ot.collapseAll=!ot.collapseAll})},[(0,i.Lk)("span",s,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-arrowdown":ot.collapseAll,"tainacan-icon-arrowright":!ot.collapseAll},"has-text-secondary tainacan-icon tainacan-icon-1-125em"])},null,2)]),(0,i.Lk)("span",c,(0,i.v_)(ot.collapseAll?t.$i18n.get("label_show_less_details"):t.$i18n.get("label_show_more_details")),1)],8,l)):(0,i.Q3)("",!0),(0,i.bF)(mt,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(ct,{"mobile-modal":!0,disabled:rt.activeMetadataSectionsList.length<=0,class:"show metadata-options-dropdown","aria-role":"list","trap-focus":""},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",{"aria-label":t.$i18n.get("label_filter_by_metadata_type"),class:"button is-white"},[(0,i.Lk)("span",null,(0,i.v_)(t.$i18n.get("label_filter_by_metadata_type")),1),u],8,m)]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.metadataTypeFilterOptions,(function(t,a){return(0,i.uX)(),(0,i.Wv)(st,{key:a,class:"control",custom:"","aria-role":"listitem"},{default:(0,i.k6)((function(){return[(0,i.bF)(lt,{modelValue:t.enabled,"onUpdate:modelValue":function(a){return t.enabled=a},"native-value":t.enabled},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","native-value"])]})),_:2},1024)})),128))])]})),_:1},8,["disabled"])]})),_:1}),(0,i.bF)(mt,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(ut,{modelValue:ot.metadataNameFilterString,"onUpdate:modelValue":a[2]||(a[2]=function(t){return ot.metadataNameFilterString=t}),placeholder:t.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:a[3]||(a[3]=function(t){return ot.metadataNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})],64)):(0,i.Q3)("",!0)]),rt.activeMetadataSectionsList.length<=0&&!ot.isLoadingMetadataSections?((0,i.uX)(),(0,i.CE)("section",v,[(0,i.Lk)("div",h,[g,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadata_section")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(bt,{list:rt.activeMetadataSectionsList,"item-key":"id",class:"active-metadata-sections-area",options:{group:{name:"metadata-sections",pull:!1,put:["metadata-sections"]},sort:!(""!=ot.openedMetadataSectionId&&null!=ot.openedMetadataSectionId||""!=ot.openedMetadatumId&&null!=ot.openedMetadatumId),direction:"vertical",handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:a[11]||(a[11]=function(t){return rt.handleSectionChange(t)}),onAdd:a[12]||(a[12]=function(t){return rt.handleSectionChange(t)}),onRemove:a[13]||(a[13]=function(t){return rt.handleSectionChange(t)})},{item:(0,i.k6)((function(n){var r=n.element,d=n.index;return[((0,i.uX)(),(0,i.CE)("div",{key:r.id},[(0,i.Lk)("div",{class:(0,i.C4)(["active-metadata-sections-item",{"is-compact-item":!rt.isCollapseOpen(r.id),"not-sortable-item":null==r.id||""!=ot.openedMetadatumId||""!=ot.openedMetadataSectionId||ot.isUpdatingMetadataOrder||ot.isUpdatingMetadatum||ot.isUpdatingMetadataSectionsOrder||""!=ot.metadataNameFilterString||rt.hasSomeMetadataTypeFilterApplied,"not-focusable-item":ot.openedMetadataSectionId==r.id,"disabled-metadatum":0==r.enabled,"inherited-metadatum":!1}])},[(0,i.Lk)("div",{ref:"metadata-section-handler-"+r.id,class:"handle"},[(0,i.Lk)("span",f,[(0,i.Lk)("button",{disabled:0==d,class:"link-button",onClick:function(t){return rt.moveMetadataSectionUpViaButon(d)}},y,8,b),(0,i.Lk)("button",{disabled:d==rt.activeMetadataSectionsList.length-1,class:"link-button",onClick:function(t){return rt.moveMetadataSectionDownViaButton(d)}},M,8,_)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==r.id||""!=ot.openedMetadatumId||ot.isUpdatingMetadataOrder||""!=ot.openedMetadataSectionId||ot.isUpdatingMetadataSectionsOrder||""!=ot.metadataNameFilterString||rt.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon"},k,4)),[[_t,{content:null==r.id||""!=ot.openedMetadatumId||ot.isUpdatingMetadataOrder||""!=ot.openedMetadataSectionId||ot.isUpdatingMetadataSectionsOrder||ot.isUpdatingMetadatum?t.$i18n.get("info_not_allowed_change_order_metadata_sections"):t.$i18n.get("instruction_drag_and_drop_metadata_sections_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",w,[(0,i.Lk)("h3",null,(0,i.v_)(r.name),1)]),null!=r.id?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":"default_section"===r.id}])},["default_section"===r.id?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",C,[(0,i.eW)(" * ("+(0,i.v_)(t.$i18n.get("label_default_section"))+") ",1)])),[[_t,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),"private"===r.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",L,S)),[[_t,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0),null==r.id?((0,i.uX)(),(0,i.CE)("span",x)):(0,i.Q3)("",!0),void 0!==r.id?((0,i.uX)(),(0,i.CE)("span",O,[(0,i.bF)(pt,{disabled:ot.isUpdatingMetadataSectionsOrder,size:"is-small","model-value":r.enabled,"onUpdate:modelValue":function(t){return rt.onChangeEnableSection(t,d)}},null,8,["disabled","model-value","onUpdate:modelValue"]),r.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:r.collection_id!=ot.collectionId?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return rt.toggleMetadataSectionEdition(r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",$,I)),[[_t,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,E)):(0,i.Q3)("",!0),r.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,disabled:r.metadata_object_list.length>0,style:(0,i.Tr)({visibility:r.collection_id!=ot.collectionId||"default_section"===r.id||r.metadata_object_list.length?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return rt.removeMetadataSection(r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",F,A)),[[_t,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,j)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512)],2),r.metadata_object_list&&r.metadata_object_list.length<=0?((0,i.uX)(),(0,i.CE)("section",X,[(0,i.Lk)("div",T,[V,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(dt,{modelValue:ot.isUpdatingMetadatum,"onUpdate:modelValue":a[4]||(a[4]=function(t){return ot.isUpdatingMetadatum=t})},null,8,["modelValue"]),r.metadata_object_list&&Array.isArray(r.metadata_object_list)?((0,i.uX)(),(0,i.Wv)(bt,{key:1,list:r.metadata_object_list.filter((function(t){return null!=t&&0==t.parent})),"item-key":"id",class:"active-metadata-area",options:{group:{name:"metadata",pull:["metadata"],put:["metadata"]},sort:!(""!=ot.openedMetadatumId&&null!=ot.openedMetadatumId||""!=ot.openedMetadataSectionId&&null!=ot.openedMetadataSectionId),handle:".handle",direction:"vertical",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250,dataIdAttr:"data-metadatum-id"},onUpdate:function(t){return rt.handleChange(t,d)},onAdd:function(t){return rt.handleChange(t,d)},onRemove:function(t){return rt.handleChange(t,d)}},{item:(0,i.k6)((function(n){var l=n.element,s=n.index;return[(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:l.id,"data-metadatum-id":l.id,"data-collection-id":l.collection_id,"data-original-section-index":d,class:(0,i.C4)(["active-metadatum-item",{"is-compact-item":!rt.isCollapseOpen(l.id),"not-sortable-item":null==l.id||""!=ot.openedMetadatumId||ot.isUpdatingMetadataOrder||""!=ot.metadataNameFilterString||rt.hasSomeMetadataTypeFilterApplied||ot.isUpdatingMetadatum,"not-focusable-item":ot.openedMetadatumId==l.id,"disabled-metadatum":0==r.enabled||0==l.enabled,"inherited-metadatum":l.inherited,"child-metadatum":l.parent>0}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+l.id,class:"handle"},[(0,i.Lk)("span",P,[(0,i.Lk)("button",{disabled:0==s,class:"link-button","aria-label":t.$i18n.get("label_move_up"),onClick:function(t){return rt.moveMetadatumUpViaButton(s,d)}},z,8,N),(0,i.Lk)("button",{disabled:s==r.metadata_object_list.filter((function(t){return null!=t&&0==t.parent})).length-1,class:"link-button","aria-label":t.$i18n.get("label_move_down"),onClick:function(t){return rt.moveMetadatumDownViaButton(s,d)}},B,8,Q)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==l.id||""!=ot.openedMetadatumId||ot.isUpdatingMetadataOrder||""!=ot.metadataNameFilterString||rt.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon"},H,4)),[[_t,{content:null==l.id||""!=ot.openedMetadatumId||ot.isUpdatingMetadataOrder||ot.isUpdatingMetadatum?t.$i18n.get("info_not_allowed_change_order_metadata"):t.$i18n.get("instruction_drag_and_drop_metadatum_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon",style:(0,i.Tr)({cursor:"pointer",opacity:ot.openedMetadatumId!=l.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(ot.collapses,o({},l.id,!rt.isCollapseOpen(l.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+(rt.isCollapseOpen(l.id)?"arrowdown":"arrowright"))},null,2)],12,R)),[[_t,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",D,(0,i.v_)(l.name),1),null!=l.id&&l.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":l.metadata_type_object.core}])},["yes"===l.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",W,[(0,i.eW)(" *  ")])),[[_t,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(l.metadata_type_object.name)+") ",1),"private"===l.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",q,J)),[[_t,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",K,["default"==l.collection_id?((0,i.uX)(),(0,i.CE)("i",{key:0,class:(0,i.C4)([{"has-text-blue5":l.enabled,"has-text-gray3":!l.enabled},"tainacan-icon tainacan-icon-repository"])},null,2)):((0,i.uX)(),(0,i.CE)("i",{key:1,class:(0,i.C4)([{"has-text-turquoise5":l.enabled,"has-text-gray3":!l.enabled},"tainacan-icon tainacan-icon-collection"])},null,2))])),[[_t,{content:"default"==l.collection_id?t.$i18n.get("label_repository_metadatum"):t.$i18n.get("label_collection_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],2)):(0,i.Q3)("",!0),null==l.id||ot.isUpdatingMetadatum?((0,i.uX)(),(0,i.CE)("span",G)):(0,i.Q3)("",!0),void 0!==l.id?((0,i.uX)(),(0,i.CE)("span",Y,[(0,i.bF)(pt,{style:(0,i.Tr)({visibility:r.enabled?"visible":"hidden"}),disabled:ot.isUpdatingMetadataOrder||!r.enabled,size:"is-small","model-value":l.enabled,"onUpdate:modelValue":function(t){return rt.onChangeEnable(t,s,d)}},null,8,["style","disabled","model-value","onUpdate:modelValue"]),l.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:l.collection_id!=ot.collectionId?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return rt.toggleMetadatumEdition(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",tt,at)),[[_t,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,Z)):(0,i.Q3)("",!0),l.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:l.collection_id!=ot.collectionId||l.metadata_type_object.core?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return rt.removeMetadatum(l,d)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",it,nt)),[[_t,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,et)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[rt.isCollapseOpen(l.id)&&ot.openedMetadatumId!==l.id?((0,i.uX)(),(0,i.Wv)(vt,{key:0,metadatum:l},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024),l.metadata_type_object&&"tainacan-compound"==l.metadata_type_object.component?((0,i.uX)(),(0,i.Wv)(ht,{key:0,parent:l,"metadata-name-filter-string":ot.metadataNameFilterString,"metadata-type-filter-options":e.metadataTypeFilterOptions,"has-some-metadata-type-filter-applied":rt.hasSomeMetadataTypeFilterApplied,"is-parent-multiple":"yes"==l.multiple,"is-repository-level":!1,"collapse-all":ot.collapseAll,"section-id":r.id+""},null,8,["parent","metadata-name-filter-string","metadata-type-filter-options","has-some-metadata-type-filter-applied","is-parent-multiple","collapse-all","section-id"])):(0,i.Q3)("",!0)],10,U)),[[i.aG,(""==ot.metadataNameFilterString||rt.filterByMetadatumName(l))&&rt.filterByMetadatumType(l)]]),ot.openedMetadatumId==l.id?((0,i.uX)(),(0,i.Wv)(ft,{key:0,"model-value":ot.openedMetadatumId==l.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":t.$i18n.get("close"),onClose:a[7]||(a[7]=function(t){return rt.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(gt,{"collection-id":ot.collectionId,"original-metadatum":l,"is-repository-level":!1,index:s,onOnEditionFinished:a[5]||(a[5]=function(t){return rt.onEditionFinished()}),onOnEditionCanceled:a[6]||(a[6]=function(t){return rt.onEditionCanceled()})},null,8,["collection-id","original-metadatum","index"])]})),_:2},1032,["model-value","close-button-aria-label"])):(0,i.Q3)("",!0)]})),_:2},1032,["list","options","onUpdate","onAdd","onRemove"])):(0,i.Q3)("",!0),(0,i.bF)(ft,{"model-value":ot.openedMetadataSectionId==r.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":t.$i18n.get("close"),onClose:a[10]||(a[10]=function(t){return rt.onSectionEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(yt,{"collection-id":ot.collectionId,"original-metadata-section":r,index:d,onOnEditionFinished:a[8]||(a[8]=function(t){return rt.onSectionEditionFinished()}),onOnEditionCanceled:a[9]||(a[9]=function(t){return rt.onSectionEditionCanceled()})},null,8,["collection-id","original-metadata-section","index"])]})),_:2},1032,["model-value","close-button-aria-label"])]))]})),_:1},8,["list","options"])])}},76495:(t,a,e)=>{e.d(a,{X:()=>V});var i=e(6934),n=function(t){return(0,i.Qi)("data-v-f353088c"),t=t(),(0,i.jt)(),t},o={class:"metadata-mappers-area"},r={style:{"line-height":"2em"}},d=["value"],l={key:0,class:"field is-grouped-centered section"},s={class:"content has-text-gray has-text-centered"},c=n((function(){return(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)})),m={key:1,class:"tainacan-form"},u={class:"mapping-control"},p={key:0,class:"modal-new-link"},v=n((function(){return(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-add"})],-1)})),h={key:0,class:"mapping-header"},g=n((function(){return(0,i.Lk)("hr",null,null,-1)})),f=n((function(){return(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-pointer tainacan-icon-1-25em"})],-1)})),b=n((function(){return(0,i.Lk)("hr",null,null,-1)})),y={value:""},_=["value","disabled"],M=["onClick"],k={class:"icon"},w=[n((function(){return(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)}))],C=["onClick"],L={class:"icon"},S=[n((function(){return(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)}))],x={key:1,class:"field is-grouped form-submit fixed-form-submit"},O={class:"control"},E={class:"control"},$={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content"},I={class:"tainacan-modal-title"},j=n((function(){return(0,i.Lk)("hr",null,null,-1)})),F={class:"field is-grouped form-submit"},A={class:"control"},X={class:"control"},T=["disabled"];function V(t,a,e,n,V,U){var P=(0,i.g2)("b-loading"),N=(0,i.g2)("b-select"),z=(0,i.g2)("b-field"),Q=(0,i.g2)("b-input"),B=(0,i.g2)("b-modal"),H=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(P,{modelValue:V.isLoadingMetadatumMappers,"onUpdate:modelValue":a[0]||(a[0]=function(t){return V.isLoadingMetadatumMappers=t}),"can-cancel":!1,"is-full-page":!1},null,8,["modelValue"]),(0,i.bF)(P,{modelValue:V.isLoadingMetadata,"onUpdate:modelValue":a[1]||(a[1]=function(t){return V.isLoadingMetadata=t}),"can-cancel":!1,"is-full-page":!1},null,8,["modelValue"]),(0,i.bF)(z,null,{default:(0,i.k6)((function(){return[(0,i.Lk)("p",r,(0,i.v_)(t.$i18n.get("info_metadata_mapper_helper")),1),(0,i.bF)(N,{id:"mappers-options-dropdown",size:"is-small",placeholder:t.$i18n.get("instruction_select_a_mapper"),"model-value":V.mapper,"onUpdate:modelValue":a[2]||(a[2]=function(t){return U.onSelectMetadataMapper(t)})},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.metadatumMappers,(function(t){return(0,i.uX)(),(0,i.CE)("option",{key:t.slug,value:t},(0,i.v_)(t.name),9,d)})),128))]})),_:1},8,["placeholder","model-value"])]})),_:1}),t.activeMetadatumList.length<=0&&!V.isLoadingMetadata?((0,i.uX)(),(0,i.CE)("section",l,[(0,i.Lk)("div",s,[c,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1)])])):((0,i.uX)(),(0,i.CE)("form",m,[(0,i.Lk)("div",u,[""!=V.mapper&&V.mapper.allow_extra_metadata?((0,i.uX)(),(0,i.CE)("div",p,[null!=V.collectionId&&null!=V.collectionId?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"is-inline is-pulled-right add-link",onClick:a[3]||(a[3]=function(t){return U.onNewMetadataMapperMetadata()})},[v,(0,i.eW)(" "+(0,i.v_)(t.$i18n.get("label_add_more_mapper_metadata")),1)])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),V.mapperMetadata.length>0?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("label_from_source_mapper")),1),g,f,b,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("label_to_target_mapper")),1)])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(V.mapperMetadata,(function(a,n){return(0,i.uX)(),(0,i.CE)("div",{key:n,class:"source-metadatum"},[(0,i.bF)(N,{modelValue:a.selected,"onUpdate:modelValue":[function(t){return a.selected=t},U.onSelectMetadatumForMapperMetadata],name:"mappers-metadatum-select-"+a.slug},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",y,(0,i.v_)(t.$i18n.get("instruction_select_a_metadatum")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activeMetadatumList,(function(t,a){return(0,i.uX)(),(0,i.CE)("option",{key:a,value:t.id,disabled:U.isMetadatumSelected(t.id)},(0,i.v_)(t.name),9,_)})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","name"]),(0,i.Lk)("p",null,[(0,i.eW)((0,i.v_)(a.label)+" ",1),(0,i.Lk)("a",{style:(0,i.Tr)({visibility:a.isCustom?"visible":"hidden"}),onClick:(0,i.D$)((function(t){return U.editMetadatumCustomMapper(a)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,w)),[[H,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,M),(0,i.Lk)("a",{style:(0,i.Tr)({visibility:a.isCustom?"visible":"hidden"}),onClick:(0,i.D$)((function(t){return U.removeMetadatumCustomMapper(a)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",L,S)),[[H,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,C)])])})),128)),""==V.mapper||V.isLoadingMetadatumMappers?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",x,[(0,i.Lk)("div",O,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:a[4]||(a[4]=function(){return U.onCancelUpdateMetadataMapperMetadata&&U.onCancelUpdateMetadataMapperMetadata.apply(U,arguments)})},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("div",E,[(0,i.Lk)("button",{class:(0,i.C4)([{"is-loading":V.isMapperMetadataLoading},"button is-success"]),onClick:a[5]||(a[5]=(0,i.D$)((function(){return U.onUpdateMetadataMapperMetadataClick&&U.onUpdateMetadataMapperMetadataClick.apply(U,arguments)}),["prevent"]))},(0,i.v_)(t.$i18n.get("save")),3)])]))])),(0,i.bF)(B,{modelValue:V.isMapperMetadataCreating,"onUpdate:modelValue":a[10]||(a[10]=function(t){return V.isMapperMetadataCreating=t}),"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":t.$i18n.get("close"),onClose:U.onCancelNewMetadataMapperMetadata},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",$,[(0,i.Lk)("div",I,[(0,i.Lk)("h2",null,(0,i.v_)(t.$i18n.get("instruction_insert_mapper_metadatum_info")),1),j]),(0,i.bF)(z,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Q,{modelValue:V.newMetadataLabel,"onUpdate:modelValue":a[6]||(a[6]=function(t){return V.newMetadataLabel=t}),required:"",placeholder:t.$i18n.get("label_name")},null,8,["modelValue","placeholder"])]})),_:1}),(0,i.bF)(z,null,{default:(0,i.k6)((function(){return[(0,i.bF)(Q,{modelValue:V.newMetadataUri,"onUpdate:modelValue":a[7]||(a[7]=function(t){return V.newMetadataUri=t}),placeholder:"URI",type:"url",required:""},null,8,["modelValue"])]})),_:1}),(0,i.Lk)("div",F,[(0,i.Lk)("div",A,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:a[8]||(a[8]=function(){return U.onCancelNewMetadataMapperMetadata&&U.onCancelNewMetadataMapperMetadata.apply(U,arguments)})},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("div",X,[(0,i.Lk)("button",{class:(0,i.C4)([{"is-loading":V.isMapperMetadataLoading,"is-success":!V.isMapperMetadataLoading},"button"]),disabled:U.isNewMetadataMapperMetadataDisabled||V.isMapperMetadataLoading,onClick:a[9]||(a[9]=(0,i.D$)((function(){return U.onSaveNewMetadataMapperMetadata&&U.onSaveNewMetadataMapperMetadata.apply(U,arguments)}),["prevent"]))},(0,i.v_)(t.$i18n.get("save")),11,T)])])])]})),_:1},8,["modelValue","close-button-aria-label","onClose"])])}},94914:(t,a,e)=>{e.d(a,{X:()=>_});var i=e(6934),n={key:0,class:"column available-metadata-types-area"},o={class:"field"},r={class:"label"},d=["data-metadatum-type","onClick"],l={class:"icon grip-icon"},s=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],c={class:"metadatum-name"},m={class:"icon preview-help-icon has-text-secondary"},u=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-help"},null,-1)],p={key:0,class:"loading-spinner"},v=["id"],h={class:"icon grip-icon"},g=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],f={class:"metadatum-name"},b={class:"icon preview-help-icon has-text-secondary"},y=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-help"},null,-1)];function _(t,a,e,_,M,k){var w=(0,i.g2)("b-loading"),C=(0,i.g2)("sortable"),L=(0,i.gN)("tooltip");return e.isRepositoryLevel&&t.$userCaps.hasCapability("tnc_rep_edit_metadata")||!e.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("div",n,[(0,i.bF)(w,{modelValue:M.isLoadingMetadataTypes,"onUpdate:modelValue":a[0]||(a[0]=function(t){return M.isLoadingMetadataTypes=t})},null,8,["modelValue"]),(0,i.Lk)("div",o,[(0,i.Lk)("h3",r,(0,i.v_)(t.$i18n.get("label_available_metadata_types")),1),(0,i.bF)(C,{list:t.availableMetadataTypes,"item-key":"component",options:{group:{name:"metadata",pull:"clone",put:!1,revertClone:!0},draggable:".available-metadatum-item",sort:!1,dragClass:"sortable-drag"}},{item:(0,i.k6)((function(a){var n=a.element;return[(0,i.Lk)("div",{"data-metadatum-type":n.component,class:(0,i.C4)(["available-metadatum-item",{"highlighted-metadatum":e.highlightedMetadatum==n.name,"inherited-metadatum":n.inherited||e.isRepositoryLevel}]),onClick:(0,i.D$)((function(t){return k.addMetadatumViaButton(n)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",l,s)),[[L,{content:t.$i18n.get("instruction_click_or_drag_metadatum_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",c,[(0,i.eW)((0,i.v_)(n.name)+" ",1),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",m,u)),[[L,{popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":"","metadata-type-preview-tooltip"],content:k.getPreviewTemplateContent(n),html:!0,delay:{show:0,hide:100},placement:"top"}]])]),e.highlightedMetadatum==n.name?((0,i.uX)(),(0,i.CE)("span",p)):(0,i.Q3)("",!0)],10,d)]})),_:1},8,["list"]),e.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(C,{key:0,list:M.availableMetadataSectionsList,"item-key":"id",options:{group:{name:"metadata-sections",pull:"clone",put:!1,revertClone:!0},draggable:".available-metadatum-item",sort:!1,dragClass:"sortable-drag"}},{item:(0,i.k6)((function(n){var o=n.element;return[(0,i.Lk)("div",{id:o.id,class:"available-metadata-section-item",onClick:a[1]||(a[1]=function(t){return k.addMetadataSectionViaButton()})},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",h,g)),[[L,{content:t.$i18n.get("instruction_click_or_drag_metadatum_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",f,[(0,i.eW)((0,i.v_)(o.label)+" ",1),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",b,y)),[[L,{popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":"","metadata-type-preview-tooltip"],content:t.$i18n.get("info_create_section"),html:!0,delay:{show:0,hide:100},placement:"top"}]])])],8,v)]})),_:1},8,["list"]))])])):(0,i.Q3)("",!0)}},7623:(t,a,e)=>{e.d(a,{X:()=>X});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var r={class:"column"},d={class:"tainacan-form sub-header"},l=["aria-expanded"],s={class:"icon"},c={class:"collapse-all__text"},m=["aria-label"],u=(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1),p={class:"metadata-options-container"},v={key:0,class:"field is-grouped-centered section"},h={class:"content has-text-gray has-text-centered"},g=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1),f={class:"active-metadata-sections-area"},b={key:0},y={style:{opacity:"0.0"},class:"icon grip-icon"},_=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)],M=["onClick"],k={class:"metadatum-name"},w={key:0},C={key:1,class:"icon"},L=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)],S={class:"icon icon-level-identifier"},x={key:1,class:"loading-spinner"},O={key:2,class:"controls"},E=["onClick"],$={class:"icon"},I=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)],j=["onClick"],F={class:"icon"},A=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)];function X(t,a,e,n,X,T){var V=(0,i.g2)("b-loading"),U=(0,i.g2)("b-checkbox"),P=(0,i.g2)("b-dropdown-item"),N=(0,i.g2)("b-dropdown"),z=(0,i.g2)("b-field"),Q=(0,i.g2)("b-input"),B=(0,i.g2)("metadatum-details"),H=(0,i.g2)("child-metadata-list"),R=(0,i.g2)("metadatum-edition-form"),D=(0,i.g2)("b-modal"),W=(0,i.g2)("sortable"),q=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(V,{modelValue:X.isLoadingMetadata,"onUpdate:modelValue":a[0]||(a[0]=function(t){return X.isLoadingMetadata=t})},null,8,["modelValue"]),(0,i.Lk)("div",d,[T.activeMetadatumList&&!X.isLoadingMetadata?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[T.activeMetadatumList.length>0?((0,i.uX)(),(0,i.CE)("button",{key:0,"aria-controls":"filters-items-list","aria-expanded":!X.collapseAll,class:"link-style collapse-all",onClick:a[1]||(a[1]=function(t){return X.collapseAll=!X.collapseAll})},[(0,i.Lk)("span",s,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-arrowdown":X.collapseAll,"tainacan-icon-arrowright":!X.collapseAll},"has-text-secondary tainacan-icon tainacan-icon-1-125em"])},null,2)]),(0,i.Lk)("span",c,(0,i.v_)(X.collapseAll?t.$i18n.get("label_show_less_details"):t.$i18n.get("label_show_more_details")),1)],8,l)):(0,i.Q3)("",!0),(0,i.bF)(z,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(N,{"mobile-modal":!0,disabled:T.activeMetadatumList.length<=0,class:"show metadata-options-dropdown","aria-role":"list","trap-focus":""},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",{"aria-label":t.$i18n.get("label_filter_by_metadata_type"),class:"button is-white"},[(0,i.Lk)("span",null,(0,i.v_)(t.$i18n.get("label_filter_by_metadata_type")),1),u],8,m)]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.metadataTypeFilterOptions,(function(t,a){return(0,i.uX)(),(0,i.Wv)(P,{key:a,class:"control",custom:"","aria-role":"listitem"},{default:(0,i.k6)((function(){return[(0,i.bF)(U,{modelValue:t.enabled,"onUpdate:modelValue":function(a){return t.enabled=a},"native-value":t.enabled},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","native-value"])]})),_:2},1024)})),128))])]})),_:1},8,["disabled"])]})),_:1}),(0,i.bF)(z,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(Q,{modelValue:X.metadataNameFilterString,"onUpdate:modelValue":a[2]||(a[2]=function(t){return X.metadataNameFilterString=t}),placeholder:t.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:a[3]||(a[3]=function(t){return X.metadataNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})],64)):(0,i.Q3)("",!0)]),T.activeMetadatumList.length<=0&&!X.isLoadingMetadata?((0,i.uX)(),(0,i.CE)("section",v,[(0,i.Lk)("div",h,[g,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",f,[(0,i.bF)(W,{list:T.activeMetadatumList,"item-key":"id",class:"active-metadata-area",options:{group:{name:"metadata",pull:!1,put:!0},sort:!1,handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onAdd:a[7]||(a[7]=function(t){return T.handleChange(t)}),onRemove:a[8]||(a[8]=function(t){return T.handleChange(t)})},{item:(0,i.k6)((function(n){var r=n.element,d=n.index;return[null!=r&&0==r.parent?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",{class:(0,i.C4)(["active-metadatum-item",{"is-compact-item":!T.isCollapseOpen(r.id),"not-sortable-item":!0,"not-focusable-item":X.openedMetadatumId==r.id,"disabled-metadatum":0==r.enabled,"inherited-metadatum":!0,"child-metadatum":r.parent>0}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+r.id,class:"handle"},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",y,_)),[[q,{content:t.$i18n.get("info_not_allowed_change_order_metadata"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon",style:(0,i.Tr)({cursor:"pointer",opacity:X.openedMetadatumId!=r.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(X.collapses,o({},r.id,!T.isCollapseOpen(r.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+(T.isCollapseOpen(r.id)?"arrowdown":"arrowright"))},null,2)],12,M)),[[q,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",k,(0,i.v_)(r.name),1),null!=r.id&&r.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":r.metadata_type_object.core}])},["yes"===r.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",w,[(0,i.eW)(" *  ")])),[[q,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(r.metadata_type_object.name)+") ",1),"private"===r.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",C,L)),[[q,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",S,[(0,i.Lk)("i",{class:(0,i.C4)([{"has-text-blue5":r.enabled,"has-text-gray3":!r.enabled},"tainacan-icon tainacan-icon-repository"])},null,2)])),[[q,{content:t.$i18n.get("label_repository_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],2)):(0,i.Q3)("",!0),null==r.id?((0,i.uX)(),(0,i.CE)("span",x)):(0,i.Q3)("",!0),void 0!==r.id?((0,i.uX)(),(0,i.CE)("span",O,[r.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:r.collection_id!=X.collectionId?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return T.toggleMetadatumEdition(r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",$,I)),[[q,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],12,E)):(0,i.Q3)("",!0),r.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:r.collection_id!=X.collectionId||r.metadata_type_object.core?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return T.removeMetadatum(r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",F,A)),[[q,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],12,j)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[T.isCollapseOpen(r.id)&&X.openedMetadatumId!==r.id?((0,i.uX)(),(0,i.Wv)(B,{key:0,metadatum:r},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024)],2),r.metadata_type_object&&"tainacan-compound"==r.metadata_type_object.component?((0,i.uX)(),(0,i.Wv)(H,{key:0,parent:r,"metadata-name-filter-string":X.metadataNameFilterString,"metadata-type-filter-options":e.metadataTypeFilterOptions,"has-some-metadata-type-filter-applied":T.hasSomeMetadataTypeFilterApplied,"is-parent-multiple":"yes"==r.multiple,"is-repository-level":!0,"collapse-all":X.collapseAll},null,8,["parent","metadata-name-filter-string","metadata-type-filter-options","has-some-metadata-type-filter-applied","is-parent-multiple","collapse-all"])):(0,i.Q3)("",!0),(0,i.bF)(D,{"model-value":X.openedMetadatumId==r.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":t.$i18n.get("close"),onClose:a[6]||(a[6]=function(t){return T.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(R,{"collection-id":X.collectionId,"original-metadatum":r,"is-repository-level":!0,index:d,onOnEditionFinished:a[4]||(a[4]=function(t){return T.onEditionFinished()}),onOnEditionCanceled:a[5]||(a[5]=function(t){return T.onEditionCanceled()})},null,8,["collection-id","original-metadatum","index"])]})),_:2},1032,["model-value","close-button-aria-label"])],512)),[[i.aG,(""==X.metadataNameFilterString||T.filterByMetadatumName(r))&&T.filterByMetadatumType(r)]]):(0,i.Q3)("",!0)]})),_:1},8,["list"])])])}},42895:(t,a,e)=>{e.d(a,{X:()=>T});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var r=function(t){return(0,i.Qi)("data-v-c085373e"),t=t(),(0,i.jt)(),t},d={class:"child-metadata-list-container"},l=r((function(){return(0,i.Lk)("span",{class:"icon children-icon not-sortable-item"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-nextlevel"})],-1)})),s={key:0,class:"field is-grouped-centered section not-sortable-item"},c={class:"content has-text-gray has-text-centered"},m=r((function(){return(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-metadata"})])],-1)})),u=["data-metadatum-id","data-collection-id"],p={class:"sorting-buttons"},v=["disabled","aria-label","onClick"],h=[r((function(){return(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)}))],g=["disabled","aria-label","onClick"],f=[r((function(){return(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)}))],b=[r((function(){return(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)}))],y=["onClick"],_={class:"metadatum-name"},M={key:0,class:"label-details"},k={key:0},w={key:1},C={key:2},L={key:3,class:"icon"},S=[r((function(){return(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)}))],x={class:"icon icon-level-identifier"},O={key:1,class:"loading-spinner"},E={key:2,class:"controls"},$=["onClick"],I={class:"icon"},j=[r((function(){return(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)}))],F=["onClick"],A={class:"icon"},X=[r((function(){return(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)}))];function T(t,a,e,n,r,T){var V=(0,i.g2)("metadatum-details"),U=(0,i.g2)("metadatum-edition-form"),P=(0,i.g2)("b-modal"),N=(0,i.g2)("sortable"),z=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",d,[l,r.childrenMetadata.length<=0?((0,i.uX)(),(0,i.CE)("section",s,[(0,i.Lk)("div",c,[m,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_child_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(N,{list:r.childrenMetadata,style:(0,i.Tr)({minHeight:r.childrenMetadata.length>0?"40px":"70px"}),class:"active-metadata-area child-metadata-area","item-key":"id",options:{group:{name:"metadata",pull:!1,put:T.isAvailableChildMetadata},sort:""==r.openedMetadatumId||null==r.openedMetadatumId,handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:a[3]||(a[3]=function(t){return T.handleChange(t)}),onAdd:a[4]||(a[4]=function(t){return T.handleChange(t)}),onRemove:a[5]||(a[5]=function(t){return T.handleChange(t)})},{item:(0,i.k6)((function(n){var d=n.element,l=n.index;return[(0,i.bo)((0,i.Lk)("div",{"data-metadatum-id":d.id,"data-collection-id":d.collection_id,class:(0,i.C4)(["active-metadatum-item",{"not-sortable-item":null==d.id||""!=r.openedMetadatumId||r.isUpdatingMetadataOrder||0==d.parent||d.collection_id!=r.collectionId||""!=e.metadataNameFilterString||e.hasSomeMetadataTypeFilterApplied,"not-focusable-item":r.openedMetadatumId==d.id,"disabled-metadatum":0==e.parent.enabled,"inherited-metadatum":d.collection_id!=r.collectionId&&0==d.parent||e.isRepositoryLevel}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+d.id,class:"handle"},[(0,i.Lk)("span",p,[(0,i.Lk)("button",{disabled:0==l,class:"link-button","aria-label":t.$i18n.get("label_move_up"),onClick:function(t){return T.moveMetadatumUpViaButton(l)}},h,8,v),(0,i.Lk)("button",{disabled:l==r.childrenMetadata.length-1,class:"link-button","aria-label":t.$i18n.get("label_move_down"),onClick:function(t){return T.moveMetadatumDownViaButton(l)}},f,8,g)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==d.id||""!=r.openedMetadatumId||r.isUpdatingMetadataOrder||0==d.parent||d.collection_id!=r.collectionId||""!=e.metadataNameFilterString||e.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon"},b,4)),[[z,{content:null==d.id||""!=r.openedMetadatumId||r.isUpdatingMetadataOrder?t.$i18n.get("info_not_allowed_change_order_metadata"):t.$i18n.get("instruction_drag_and_drop_metadatum_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon",style:(0,i.Tr)({cursor:"pointer",opacity:r.openedMetadatumId!=d.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(r.collapses,o({},d.id,!T.isCollapseOpen(d.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+(T.isCollapseOpen(d.id)?"arrowdown":"arrowright"))},null,2)],12,y)),[[z,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",_,(0,i.v_)(d.name),1),null!=d.id&&d.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",M,["yes"===d.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,[(0,i.eW)(" *  ")])),[[z,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(d.metadata_type_object.name)+") ",1),d.metadata_type_object.core&&"title"==d.metadata_type_object.related_mapped_prop?((0,i.uX)(),(0,i.CE)("em",w,(0,i.v_)(t.$i18n.get("label_core_title")),1)):(0,i.Q3)("",!0),d.metadata_type_object.core&&"description"==d.metadata_type_object.related_mapped_prop?((0,i.uX)(),(0,i.CE)("em",C,(0,i.v_)(t.$i18n.get("label_core_description")),1)):(0,i.Q3)("",!0),"private"==d.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",L,S)),[[z,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",x,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-collection":"default"!=d.collection_id&&!e.isRepositoryLevel,"tainacan-icon-repository":"default"==d.collection_id||e.isRepositoryLevel,"has-text-turquoise5":"default"!=d.collection_id&&!e.isRepositoryLevel,"has-text-blue5":"default"==d.collection_id||e.isRepositoryLevel,"has-text-gray3":!e.parent.enabled},"tainacan-icon"])},null,2)])),[[z,{content:"default"==d.collection_id||e.isRepositoryLevel?t.$i18n.get("label_repository_metadatum"):t.$i18n.get("label_collection_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])])):(0,i.Q3)("",!0),null==d.id?((0,i.uX)(),(0,i.CE)("span",O)):(0,i.Q3)("",!0),void 0!==d.id?((0,i.uX)(),(0,i.CE)("span",E,[d.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:d.collection_id!=r.collectionId?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return T.toggleMetadatumEdition(d.id)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",I,j)),[[z,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,$)):(0,i.Q3)("",!0),d.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:d.collection_id!=r.collectionId||"title"==d.metadata_type_object.related_mapped_prop||"description"==d.metadata_type_object.related_mapped_prop?"hidden":"visible"}),onClick:(0,i.D$)((function(t){return T.removeMetadatum(d)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",A,X)),[[z,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,F)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[T.isCollapseOpen(d.id)&&r.openedMetadatumId!==d.id?((0,i.uX)(),(0,i.Wv)(V,{key:0,metadatum:d},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024),(0,i.bF)(P,{"model-value":r.openedMetadatumId==d.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":t.$i18n.get("close"),onClose:a[2]||(a[2]=function(t){return T.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(U,{"collection-id":r.collectionId,"original-metadatum":d,"is-parent-multiple":e.isParentMultiple,"is-repository-level":e.isRepositoryLevel,index:l,onOnEditionFinished:a[0]||(a[0]=function(t){return T.onEditionFinished()}),onOnEditionCanceled:a[1]||(a[1]=function(t){return T.onEditionCanceled()})},null,8,["collection-id","original-metadatum","is-parent-multiple","is-repository-level","index"])]})),_:2},1032,["model-value","close-button-aria-label"])],10,u),[[i.aG,(""==e.metadataNameFilterString||T.filterByMetadatumName(d))&&T.filterByMetadatumType(d)]])]})),_:1},8,["list","style","options"])])}},11881:(t,a,e)=>{e.d(a,{X:()=>y});var i=e(6934),n={class:"tainacan-form metadatum-details"},o={key:0,class:"field"},r={class:"label"},d={class:"value"},l={key:1,class:"field"},s={class:"label"},c={class:"value"},m={class:"field"},u={class:"label"},p={class:"value"},v={key:2,class:"field"},h={class:"label"},g={class:"value"},f={key:0},b=["innerHTML"];function y(t,a,e,y,_,M){return(0,i.uX)(),(0,i.CE)("div",n,[e.metadatum.description?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",r,(0,i.v_)(t.$i18n.getHelperTitle("metadata","description")),1),(0,i.Lk)("div",d,(0,i.v_)(e.metadatum.description),1)])):(0,i.Q3)("",!0),e.metadatum.semantic_uri?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",s,(0,i.v_)(t.$i18n.getHelperTitle("metadata","semantic_uri")),1),(0,i.Lk)("div",c,(0,i.v_)(e.metadatum.semantic_uri),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",m,[(0,i.Lk)("div",u,(0,i.v_)(t.$i18n.get("label_display")),1),(0,i.Lk)("div",p,["yes"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_display_default")),1)],64)):(0,i.Q3)("",!0),"no"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_not_display")),1)],64)):(0,i.Q3)("",!0),"never"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_display_never")),1)],64)):(0,i.Q3)("",!0)])]),""!=M.insertOptions?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",h,(0,i.v_)(t.$i18n.get("label_insert_options")),1),(0,i.Lk)("div",g,[(0,i.eW)((0,i.v_)(M.insertOptions)+" ",1),"yes"===e.metadatum.multiple&&null!=e.metadatum.cardinality&&0!=e.metadatum.cardinality&&1!=e.metadatum.cardinality&&""!=e.metadatum.cardinality?((0,i.uX)(),(0,i.CE)("span",f,"  ("+(0,i.v_)(t.$i18n.getWithVariables("label_maximum_of_%s_values",[e.metadatum.cardinality]))+") ",1)):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),e.metadatum.options_as_html?((0,i.uX)(),(0,i.CE)("div",{key:3,innerHTML:e.metadatum.options_as_html},null,8,b)):(0,i.Q3)("",!0)])}},31827:(t,a,e)=>{e.d(a,{X:()=>c});var i=e(6934),n=(0,i.Lk)("br",null,null,-1),o={class:"metadata-list-page"},r={class:"columns"},d={key:1,class:"section"},l={class:"content has-text-grey has-text-centered"},s=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-metadata"})])],-1);function c(t,a,e,c,m,u){var p=(0,i.g2)("tainacan-title"),v=(0,i.g2)("repository-metadata-list"),h=(0,i.g2)("collection-metadata-list"),g=(0,i.g2)("metadata-types-list"),f=(0,i.g2)("b-tab-item"),b=(0,i.g2)("metadata-mapping-list"),y=(0,i.g2)("b-tabs");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"repository-level-page page-container":m.isRepositoryLevel}),style:{"padding-bottom":"0"}},[(0,i.bF)(p,{"bread-crumb-items":[{path:"",label:t.$i18n.get("metadata")}]},null,8,["bread-crumb-items"]),m.isRepositoryLevel?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_repository_metadata_inheritance")),1),n],64)):(0,i.Q3)("",!0),(0,i.Lk)("div",o,[m.isRepositoryLevel&&t.$userCaps.hasCapability("tnc_rep_edit_metadata")||!m.isRepositoryLevel&&t.collection&&t.collection.current_user_can_edit_metadata?((0,i.uX)(),(0,i.Wv)(y,{key:0,modelValue:m.activeTab,"onUpdate:modelValue":a[2]||(a[2]=function(t){return m.activeTab=t})},{default:(0,i.k6)((function(){return[(0,i.bF)(f,{label:m.isRepositoryLevel?u.repositoryTabLabel:u.collectionTabLabel},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",r,[m.isRepositoryLevel?((0,i.uX)(),(0,i.Wv)(v,{key:0,"metadata-type-filter-options":m.metadataTypeFilterOptions,onOnUpdateHighlightedMetadatum:a[0]||(a[0]=function(t){return m.highlightedMetadatum=t})},null,8,["metadata-type-filter-options"])):((0,i.uX)(),(0,i.Wv)(h,{key:1,"metadata-type-filter-options":m.metadataTypeFilterOptions,onOnUpdateHighlightedMetadatum:a[1]||(a[1]=function(t){return m.highlightedMetadatum=t})},null,8,["metadata-type-filter-options"])),(0,i.bF)(g,{"highlighted-metadatum":m.highlightedMetadatum,"is-repository-level":m.isRepositoryLevel,onOnFinishedLoadingMetadataTypes:u.createMetadataTypeFilterOptions},null,8,["highlighted-metadatum","is-repository-level","onOnFinishedLoadingMetadataTypes"])])]})),_:1},8,["label"]),(0,i.bF)(f,{label:t.$i18n.get("mapping")},{default:(0,i.k6)((function(){return[1==m.activeTab?((0,i.uX)(),(0,i.Wv)(b,{key:0,"is-repository-level":m.isRepositoryLevel},null,8,["is-repository-level"])):(0,i.Q3)("",!0)]})),_:1},8,["label"])]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("section",d,[(0,i.Lk)("div",l,[s,(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_can_not_edit_metadata")),1)])]))])],2)}},15393:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,"form#metadataSectionEditForm .options-columns[data-v-1e221074]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:1px solid var(--tainacan-gray1);-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:1px solid var(--tainacan-gray1);column-count:2;column-gap:4em;column-rule:1px solid var(--tainacan-gray1);padding-left:0.25em;padding-right:0.25em;padding-bottom:0.5em}form#metadataSectionEditForm .options-columns>.field[data-v-1e221074],form#metadataSectionEditForm .options-columns>section[data-v-1e221074]{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid}form#metadataSectionEditForm .options-columns .field>.field[data-v-1e221074]:not(:last-child){margin-bottom:0em}form#metadataSectionEditForm .options-columns[data-v-1e221074] .field{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid}form#metadataSectionEditForm .options-columns section[data-v-1e221074]{display:grid}form#metadataSectionEditForm .options-columns .field[data-v-1e221074]:first-child{-webkit-column-span:all;column-span:all}form#metadataSectionEditForm .options-columns .tainacan-help-tooltip-trigger[data-v-1e221074]{font-size:1.25em}form#metadataSectionEditForm .tainacan-form .field[data-v-1e221074]:not(:last-child){margin-bottom:1em}form#metadataSectionEditForm .tainacan-form[data-v-1e221074] .control-label{white-space:normal}form#metadataSectionEditForm .metadata-form-section[data-v-1e221074]{margin:1.5em 0 0.5em -1.5em;position:relative;cursor:pointer}form#metadataSectionEditForm .metadata-form-section .icon[data-v-1e221074]{background:var(--tainacan-background-color);z-index:1;position:relative}form#metadataSectionEditForm .metadata-form-section strong[data-v-1e221074]{background:var(--tainacan-background-color);color:var(--tainacan-gray4);font-size:0.875em;z-index:1;position:relative;padding-right:12px}form#metadataSectionEditForm .metadata-form-section hr[data-v-1e221074]{position:absolute;top:-0.75em;width:calc(100% - 42px);height:1px;background-color:var(--tainacan-gray2);margin-left:42px;transition:background-color 0.2s ease, height 0.2s ease}form#metadataSectionEditForm .metadata-form-section:hover .icon[data-v-1e221074],form#metadataSectionEditForm .metadata-form-section:hover strong[data-v-1e221074]{color:var(--tainacan-secondary)}form#metadataSectionEditForm .metadata-form-section:hover hr[data-v-1e221074]{background-color:var(--tainacan-primary);height:2px}@media screen and (max-width: 768px){form#metadataSectionEditForm .options-columns[data-v-1e221074]{-moz-column-count:1;-webkit-column-count:1;column-count:1}}[data-v-1e221074] .is-special-hidden-for-mobile,[data-v-1e221074] .is-special-hidden-for-mobile:focus,[data-v-1e221074] .is-special-hidden-for-mobile:focus-visible{opacity:0;width:0;height:0 !important;min-height:0;min-width:0;padding:0 !important;line-height:0px !important;border:none !important;border-color:transparent !important;border-width:0px !important;font-size:0px !important;display:block !important}.form-submit[data-v-1e221074]{background-color:var(--tainacan-gray1);position:sticky;bottom:0;padding:16px 4.166666667vw;display:flex;justify-content:space-between;z-index:2;font-size:1.125em}\n",""]);const d=r},78568:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".metadata-mappers-area[data-v-f353088c]{padding:0 1em}.tainacan-form[data-v-f353088c]{display:flex;flex-direction:column;justify-content:space-between;min-height:247px}.form-submit[data-v-f353088c]{margin-top:24px}.add-link[data-v-f353088c]{font-size:0.875em}.field[data-v-f353088c]{position:relative}.mapping-control[data-v-f353088c]{background-color:var(--tainacan-background-color, white);position:sticky;top:-34px;z-index:9;height:2.5rem;padding-top:12px}.mapping-header[data-v-f353088c]{background-color:var(--tainacan-background-color, white);position:sticky;top:0;z-index:9;width:100%;display:flex;justify-content:space-between;align-items:center;color:var(--tainacan-info-color);font-size:0.875em;font-weight:bold;margin:0 0 12px 0;border-bottom:1px solid var(--tainacan-gray3);box-shadow:0 5px 12px -14px var(--tainacan-gray5)}.mapping-header p[data-v-f353088c]{white-space:nowrap}.mapping-header hr[data-v-f353088c]{width:100%;margin-left:12px;margin-right:12px;height:1px;background:var(--tainacan-gray3)}@media screen and (max-width: 768px){.mapping-header p[data-v-f353088c]{white-space:normal}.mapping-header hr[data-v-f353088c]{display:none}}.source-metadatum[data-v-f353088c]{padding:2px 0;min-height:35px;width:100%;margin:3px 16px 6px 16px;display:flex;justify-content:space-between;align-items:center;position:relative}.source-metadatum[data-v-f353088c]::before{display:block;content:'';position:absolute;height:1px;width:100%;background-color:var(--tainacan-gray2);z-index:-1}.source-metadatum>p[data-v-f353088c]{font-weight:normal;transition:font-weight 0.1s ease;padding-left:6px;overflow:hidden;word-wrap:break-word;background-color:var(--tainacan-background-color, white)}.source-metadatum .control[data-v-f353088c]{max-width:60%}.source-metadatum[data-v-f353088c]:hover{--tainacan-input-border-color: var(--tainacan-gray4)}.source-metadatum[data-v-f353088c]:hover::before{background-color:var(--tainacan-gray4)}.source-metadatum:hover>p[data-v-f353088c]{font-weight:bold}.fixed-form-submit[data-v-f353088c]{margin-top:24px;position:sticky !important;bottom:0;background:var(--tainacan-background-color, white);z-index:9;padding:12px;border-top:1px solid var(--tainacan-gray3);box-shadow:0 -5px 12px -14px var(--tainacan-gray5)}\n",""]);const d=r},60811:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".available-metadata-types-area{padding:10px 0px 10px 10px !important;margin:0;max-width:380px;min-width:20.8333333%;max-height:calc(100vh - 7.75em);top:-28px;position:sticky;font-size:0.875em}@media screen and (max-width: 769px){.available-metadata-types-area{max-width:100%;padding:10px}.available-metadata-types-area h3{margin:1em 0em 1em 0em !important}.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadata-section-item::before,.available-metadata-types-area .available-metadata-section-item::after{display:none !important}}.available-metadata-types-area h3{margin:0.875em 0em 1em 0em}.available-metadata-types-area .available-metadatum-item,.available-metadata-types-area .available-metadata-section-item{padding:0.6em;margin:4px 4px 4px 1.2em;background-color:var(--tainacan-white);cursor:pointer;left:0;height:2.8571em;position:relative;border:1px solid var(--tainacan-gray2);border-radius:1px;transition:left 0.2s ease}.available-metadata-types-area .available-metadatum-item .grip-icon,.available-metadata-types-area .available-metadata-section-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.available-metadata-types-area .available-metadatum-item .icon,.available-metadata-types-area .available-metadata-section-item .icon{position:relative;bottom:1px}.available-metadata-types-area .available-metadatum-item .preview-help-icon,.available-metadata-types-area .available-metadata-section-item .preview-help-icon{position:absolute;top:6px}.available-metadata-types-area .available-metadatum-item .metadatum-name,.available-metadata-types-area .available-metadata-section-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:0.4em;display:inline-block;max-width:180px;width:60%}.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadata-section-item::after,.available-metadata-types-area .available-metadata-section-item::before{content:'';display:block;position:absolute;right:100%;width:0;height:0;border-style:solid}.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadata-section-item::after{top:-1px;border-color:transparent white transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-19px}.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadata-section-item::before{top:-1px;border-color:transparent var(--tainacan-gray2) transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-20px}.available-metadata-types-area .available-metadata-section-item{margin-top:2em;color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}.available-metadata-types-area .available-metadata-section-item::before{border-color:transparent var(--tainacan-secondary) transparent transparent}.available-metadata-types-area .sortable-drag{opacity:1 !important}.available-metadata-types-area .sortable-chosen .metadata-type-preview{display:none}@keyframes hightlighten{0%{color:#222;background-color:var(--tainacan-white);border-color:var(--tainacan-white)}25%{color:var(--tainacan-white);background-color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}75%{color:var(--tainacan-white);background-color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}100%{color:#222;background-color:var(--tainacan-white);border-color:var(--tainacan-white)}}@keyframes hightlighten-icon{0%{color:var(--tainacan-gray3)}25%{color:var(--tainacan-white)}75%{color:var(--tainacan-white)}100%{color:var(--tainacan-gray3)}}@keyframes hightlighten-arrow{0%{border-color:transparent white transparent transparent;border-color:transparent white transparent transparent}25%{border-color:transparent var(--tainacan-secondary) transparent transparent;border-color:transparent var(--tainacan-secondary) transparent transparent}75%{border-color:transparent var(--tainacan-secondary) transparent transparent;border-color:transparent var(--tainacan-secondary) transparent transparent}100%{border-color:transparent white transparent transparent;border-color:transparent white transparent transparent}}.available-metadata-types-area .highlighted-metadatum{background-color:var(--tainacan-white);position:relative;left:0px;animation-name:hightlighten;animation-duration:1.0s;animation-iteration-count:2}.available-metadata-types-area .highlighted-metadatum .grip-icon{animation-name:hightlighten-icon;animation-duration:1.0s;animation-iteration-count:2}.available-metadata-types-area .highlighted-metadatum::before,.available-metadata-types-area .highlighted-metadatum::after{animation-name:hightlighten-arrow;animation-duration:1.0s;animation-iteration-count:2}.available-metadata-types-area .available-metadatum-item:hover,.available-metadata-types-area .available-metadata-section-item:hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise2);position:relative;left:-4px}.available-metadata-types-area .available-metadatum-item:hover:after,.available-metadata-types-area .available-metadata-section-item:hover:after{border-color:transparent var(--tainacan-turquoise1) transparent transparent}.available-metadata-types-area .available-metadatum-item:hover:before,.available-metadata-types-area .available-metadata-section-item:hover:before{border-color:transparent var(--tainacan-turquoise2) transparent transparent}.available-metadata-types-area .available-metadatum-item:hover .grip-icon,.available-metadata-types-area .available-metadata-section-item:hover .grip-icon{color:var(--tainacan-secondary)}.inherited-metadatum.available-metadatum-item:hover,.inherited-metadatum.available-metadata-section-item:hover{background-color:var(--tainacan-blue1) !important;border-color:var(--tainacan-blue2) !important}.inherited-metadatum.available-metadatum-item:hover .grip-icon,.inherited-metadatum.available-metadata-section-item:hover .grip-icon{color:var(--tainacan-blue5) !important}.inherited-metadatum.available-metadatum-item:hover:after,.inherited-metadatum.available-metadata-section-item:hover:after{border-color:transparent var(--tainacan-blue1) transparent transparent !important}.inherited-metadatum.available-metadatum-item:hover:before,.inherited-metadatum.available-metadata-section-item:hover:before{border-color:transparent var(--tainacan-blue2) transparent transparent !important}\n",""]);const d=r},91224:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".child-metadata-list-container[data-v-c085373e]{position:relative;margin-left:42px;border-left:1px solid var(--tainacan-gray2)}.child-metadata-list-container section.field[data-v-c085373e]{padding:0.5em 1em 0 1em !important;position:absolute;width:100% !important}.child-metadata-list-container .children-icon[data-v-c085373e]{position:absolute;top:0;left:-22px}.child-metadata-list-container .children-icon .icon[data-v-c085373e]{color:var(--tainacan-info-color) !important}.child-metadata-list-container .child-metadata-area[data-v-c085373e]{padding:0;margin:0;font-size:1em}.child-metadata-list-container .child-metadata-area section[data-v-c085373e]{padding:0.5em 1em}.child-metadata-list-container .child-metadata-area .active-metadatum-item[data-v-c085373e]{margin-left:0}\n",""]);const d=r},84036:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".metadatum-details[data-v-0e6a63a7]{padding:0.75em 1.5em 0.75em 3.5em;-moz-column-count:3;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:3;-webkit-column-gap:0;-webkit-column-rule:none;column-count:3;column-gap:4em;column-rule:none}@media screen and (max-width: 1024px){.metadatum-details[data-v-0e6a63a7]{-moz-column-count:2;-webkit-column-count:2;column-count:2}}@media screen and (max-width: 768px){.metadatum-details[data-v-0e6a63a7]{-moz-column-count:1;-webkit-column-count:1;column-count:1}}.metadatum-details[data-v-0e6a63a7] .field{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid;margin-bottom:1em}.metadatum-details[data-v-0e6a63a7] .field>.field:not(:last-child){margin-bottom:0em}.metadatum-details[data-v-0e6a63a7] .field .label{white-space:normal}.metadatum-details[data-v-0e6a63a7] .field .value{font-size:0.9em}.metadatum-details[data-v-0e6a63a7] .field:only-child{column-span:all}\n",""]);const d=r},24188:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,'.metadata-list-page{padding-bottom:0}.metadata-list-page .tainacan-page-title{margin-bottom:14px;display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between}.metadata-list-page .tainacan-page-title h1,.metadata-list-page .tainacan-page-title h2{font-size:1.25em;font-weight:500;color:var(--tainacan-heading-color);display:inline-block;width:80%;flex-shrink:1;flex-grow:1}.metadata-list-page .tainacan-page-title a.back-link{font-weight:500;float:right;margin-top:5px}.metadata-list-page .tainacan-page-title hr{margin:3px 0px 4px 0px;height:1px;background-color:var(--tainacan-secondary);width:100%}.metadata-list-page .b-tabs .tab-content{overflow:visible;min-height:300px;padding-bottom:0;padding-left:0;padding-right:0}.metadata-list-page .column{overflow-x:hidden;overflow-y:auto;padding:0.75em 0}.metadata-list-page .column section.field.is-grouped-centered.section{position:absolute;width:63%;background:var(--tainacan-background-color);padding-top:5em}.metadata-list-page .column:not(.available-metadata-types-area){margin-right:var(--tainacan-one-column);flex-grow:2}@media screen and (max-width: 769px){.metadata-list-page .column:not(.available-metadata-types-area){margin-right:0}}.metadata-list-page .column h3{font-weight:500}.metadata-list-page .page-title{border-bottom:1px solid var(--tainacan-secondary);margin:1em 0em 2.0em 0em}.metadata-list-page .page-title h2{color:var(--tainacan-blue5);font-weight:500}.metadata-list-page .sub-header{display:flex;align-items:center;justify-content:space-between;padding:0.5em 1em 0.5em 2em}.metadata-list-page .sub-header .header-item{margin-left:0.75rem;margin-bottom:0px}.metadata-list-page .sub-header h3{margin-right:auto}.metadata-list-page .sub-header .dropdown-menu{display:block}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content{padding:0}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .metadata-options-container{max-height:288px;overflow:auto;font-size:1.125em}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .dropdown-item{padding:0.25em 1.0em 0.25em 0.75em}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .dropdown-item span{vertical-align:middle}.metadata-list-page .collapse-all{display:inline-flex;align-items:center;margin-left:-0.5em;margin-right:auto}.metadata-list-page .collapse-all__text{font-size:0.75em !important}.metadata-list-page .loading-spinner{animation:spinAround 500ms infinite linear;border:2px solid var(--tainacan-gray2);border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:inline-block;height:1em;width:1em}.metadata-list-page .active-metadata-area,.metadata-list-page .active-metadata-sections-area{min-height:3em;transition:min-height 0.2s ease}.metadata-list-page .active-metadata-area:empty,.metadata-list-page .active-metadata-sections-area:empty{min-height:220px}@media screen and (max-width: 769px){.metadata-list-page .active-metadata-area,.metadata-list-page .active-metadata-sections-area{min-height:45px;margin:0;padding-right:0em}}.metadata-list-page .active-metadata-area.metadata-area-receive,.metadata-list-page .active-metadata-sections-area.metadata-area-receive{border:1px dashed var(--tainacan-gray4)}.metadata-list-page .active-metadata-area .collapse,.metadata-list-page .active-metadata-sections-area .collapse{display:initial}.metadata-list-page .active-metadata-area.active-metadata-sections-area,.metadata-list-page .active-metadata-sections-area.active-metadata-sections-area{font-size:0.875em;margin-left:1.5em;padding-right:1em;min-height:330px}.metadata-list-page .active-metadata-area .active-metadatum-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item{background-color:var(--tainacan-white);padding:0;margin:0px 4px;min-height:2.8571em;display:block;position:relative;cursor:grab;opacity:1 !important}.metadata-list-page .active-metadata-area .active-metadatum-item>.field,.metadata-list-page .active-metadata-area .active-metadatum-item form,.metadata-list-page .active-metadata-area .active-metadata-sections-item>.field,.metadata-list-page .active-metadata-area .active-metadata-sections-item form,.metadata-list-page .active-metadata-sections-area .active-metadatum-item>.field,.metadata-list-page .active-metadata-sections-area .active-metadatum-item form,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item>.field,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item form{background-color:var(--tainacan-white) !important}.metadata-list-page .active-metadata-area .active-metadatum-item .handle,.metadata-list-page .active-metadata-area .active-metadata-sections-item .handle,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .handle,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .handle{padding:0.7em 6.9em 0.7em 0.9em;white-space:nowrap;display:flex}.metadata-list-page .active-metadata-area .active-metadatum-item .grip-icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.metadata-list-page .active-metadata-area .active-metadatum-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .metadatum-name{white-space:nowrap;font-weight:bold;margin-left:0.4em;margin-right:0.4em;color:var(--tainacan-gray4)}.metadata-list-page .active-metadata-area .active-metadatum-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-area .active-metadata-sections-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .metadatum-name.is-danger{color:var(--tainacan-danger) !important}.metadata-list-page .active-metadata-area .active-metadatum-item.active-metadata-sections-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.active-metadata-sections-item{padding-left:0;margin-top:1rem;border-bottom:1px solid var(--tainacan-gray2)}.metadata-list-page .active-metadata-area .active-metadatum-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-area .active-metadata-sections-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.active-metadata-sections-item .metadatum-name h3{color:var(--tainacan-gray4) !important;font-size:1.25em;line-height:normal;font-weight:600}.metadata-list-page .active-metadata-area .active-metadatum-item .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.metadata-list-page .active-metadata-area .active-metadatum-item .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .not-saved{font-style:italic;font-weight:bold;color:var(--tainacan-danger);margin-left:0.5em}.metadata-list-page .active-metadata-area .active-metadatum-item .controls,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls{font-size:0.875em;position:absolute;right:10px;top:10px}.metadata-list-page .active-metadata-area .active-metadatum-item .controls .switch,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .switch,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .switch,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .switch{position:relative;bottom:1px}.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon{bottom:1px;position:relative}.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon i,.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon i:before,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon i,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon i:before,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon i,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon i:before,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon i,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon i:before{font-size:1.25em}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons{display:flex;flex-direction:column;position:absolute;overflow:hidden;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:3px;border-bottom-left-radius:3px;font-size:0.875em;left:0em;top:0px;opacity:0;visibility:hidden;transition:opacity 0.2s ease, left 0.2s ease}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons button,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons button,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons button,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons button{border:none;background:var(--tainacan-turquoise1)}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons button:hover{color:var(--tainacan-secondary)}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-area .active-metadata-sections-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:not(.not-sortable-item) .handle:hover>.sorting-buttons{opacity:1.0;visibility:visible;left:-2em}.metadata-list-page .active-metadata-area .active-metadatum-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.is-compact-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.metadata-list-page .active-metadata-area .active-metadatum-item.not-sortable-item,.metadata-list-page .active-metadata-area .active-metadatum-item.not-sortable-item:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-sortable-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-sortable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-sortable-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-sortable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-sortable-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-sortable-item:hover{cursor:default;background-color:var(--tainacan-white) !important}.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item,.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item:hover{cursor:default}.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item:hover .metadatum-name{color:var(--tainacan-secondary)}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover{color:var(--tainacan-gray3)}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name{opacity:0.7}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved{color:var(--tainacan-gray3) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-sections-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise1)}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .not-saved{color:var(--tainacan-gray4) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .grip-icon{color:var(--tainacan-secondary) !important}.metadata-list-page .active-metadata-area .sortable-ghost,.metadata-list-page .active-metadata-sections-area .sortable-ghost{border:1px dashed var(--tainacan-gray2);background:var(--tainacan-white);display:block;padding:0.25em 0.9em;margin:4px;height:2.8571em;position:relative}.metadata-list-page .active-metadata-area .sortable-ghost .grip-icon,.metadata-list-page .active-metadata-sections-area .sortable-ghost .grip-icon{color:var(--tainacan-white)}.metadata-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check{border:1.5px solid var(--tainacan-blue5)}.metadata-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check::before{background-color:var(--tainacan-blue5)}.metadata-list-page .inherited-metadatum.active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .inherited-metadatum.active-metadata-sections-item:not(.not-sortable-item) .handle:hover{background-color:var(--tainacan-blue1);border-color:var(--tainacan-blue1)}.metadata-list-page .inherited-metadatum.active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .inherited-metadatum.active-metadata-sections-item:not(.not-sortable-item) .handle:hover .grip-icon{color:var(--tainacan-blue5) !important}.metadata-list-page .inherited-metadatum>.sorting-buttons button{background:var(--tainacan-blue1)}.metadata-list-page .inherited-metadatum>.sorting-buttons button:hover{color:var(--tainacan-blue5)}.repository-level-page .tainacan-form.sub-header{padding-left:2.75em !important}.repository-level-page .active-metadata-sections-area,.repository-level-page .active-metadata-area{margin-left:0px !important}\n',""]);const d=r},79092:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(15393),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},3745:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(78568),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},45770:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(60811),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},16285:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(91224),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},38121:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(84036),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},97707:(t,a,e)=>{var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),h=e(24188),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},78061:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(47135),n=e(56170);e(68101);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-1e221074"]])},85954:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(70444),n=e(36053);const o=(0,e(66262).A)(n.A,[["render",i.X]])},60760:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(928),n=e(21447);e(22764);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-f353088c"]])},98023:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(23809),n=e(86812);e(17127);const o=(0,e(66262).A)(n.A,[["render",i.X]])},2390:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(70526),n=e(84161);const o=(0,e(66262).A)(n.A,[["render",i.X]])},31968:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(22940),n=e(91859);e(91588);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-c085373e"]])},23527:(t,a,e)=>{e.d(a,{A:()=>o});var i=e(31602),n=e(96688);e(93952);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-0e6a63a7"]])},47498:(t,a,e)=>{e.r(a),e.d(a,{default:()=>o});var i=e(42398),n=e(68913);e(4048);const o=(0,e(66262).A)(n.A,[["render",i.X]])},56170:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(10281)},36053:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(42091)},21447:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(61352)},86812:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(26971)},84161:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(38424)},91859:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(456)},96688:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(38567)},68913:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(53904)},47135:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(30392)},70444:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(69513)},928:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(76495)},23809:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(94914)},70526:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(7623)},22940:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(42895)},31602:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(11881)},42398:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(31827)},68101:(t,a,e)=>{e(79092)},22764:(t,a,e)=>{e(3745)},17127:(t,a,e)=>{e(45770)},91588:(t,a,e)=>{e(16285)},93952:(t,a,e)=>{e(38121)},4048:(t,a,e)=>{e(97707)}}]);
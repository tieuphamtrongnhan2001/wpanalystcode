"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[507,2888],{83833:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(74042),i=n(95093),o=n.n(i);const r={directives:{imask:n(30554).Zq},mixins:[a.$J],props:{itemMetadatum:Object,value:[String,Number,Array],disabled:!1},emits:["update:value","blur","mobile-special-focus"],data:function(){return{dateValue:"",isInvalidDate:!1}},computed:{isOnItemSubmissionForm:function(){return!this.itemMetadatum.item||!this.itemMetadatum.item.id}},watch:{value:function(t){this.dateValue=t?this.parseDateToNavigatorLanguage(t):""}},created:function(){this.dateValue=this.value?this.parseDateToNavigatorLanguage(this.value):""},methods:{onInput:_.debounce((function(t){if(""!=t.target.value){var e="";if(t&&t instanceof Date?e=!!o()(this.dateValue,this.dateFormat).toISOString(!0)&&o()(this.dateValue,this.dateFormat).toISOString(!0).split("T")[0]:t.target.value&&t.target.value.length===this.dateFormat.length&&(e=!!o()(t.target.value,this.dateFormat).toISOString(!0)&&o()(t.target.value,this.dateFormat).toISOString(!0).split("T")[0]),0==e)return this.isOnItemSubmissionForm?this.$emit("update:value",this.dateValue):this.dateValue=t.target.value,void(this.isInvalidDate=!0);this.$emit("update:value",e)}else this.$emit("update:value","");this.isInvalidDate=!1}),750),onBlur:function(){this.$emit("blur")},onMobileSpecialFocus:function(){this.$emit("mobile-special-focus")}}}},84779:(t,e,n)=>{n.d(e,{X:()=>s});var a=n(6934),i={class:"control is-clearfix"},o=["id","value","disabled","placeholder"],r={key:0,style:{"font-size":"0.75em"},class:"has-text-danger is-italic"};function s(t,e,n,s,l,u){var m=(0,a.gN)("imask");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bo)((0,a.Lk)("input",{id:"tainacan-item-metadatum_id-"+n.itemMetadatum.metadatum.id+(n.itemMetadatum.parent_meta_id?"_parent_meta_id-"+n.itemMetadatum.parent_meta_id:""),value:l.dateValue,disabled:n.disabled,class:(0,a.C4)(["input",l.isInvalidDate?"is-danger":""]),type:"text",placeholder:n.itemMetadatum.metadatum.placeholder?n.itemMetadatum.metadatum.placeholder:t.dateFormat.toLowerCase(),onInput:e[0]||(e[0]=function(){return u.onInput&&u.onInput.apply(u,arguments)}),onBlur:e[1]||(e[1]=function(){return u.onBlur&&u.onBlur.apply(u,arguments)}),onFocus:e[2]||(e[2]=function(){return u.onMobileSpecialFocus&&u.onMobileSpecialFocus.apply(u,arguments)})},null,42,o),[[m,{mask:t.dateMask,skipInvalid:!1}]]),l.isInvalidDate?((0,a.uX)(),(0,a.CE)("p",r,(0,a.v_)(t.$i18n.get("info_error_invalid_date")),1)):(0,a.Q3)("",!0)])}},74042:(t,e,n)=>{n.d(e,{$J:()=>d,X3:()=>h,lg:()=>m});var a=n(75552),i=n(55373),o=n.n(i),r=n(95093),s=n.n(r);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var m={methods:{getSamplePermalink:function(t,e,n){return a.M3.post("",o().stringify({action:"tainacan-sample-permalink",post_id:t,new_title:e,new_slug:n}))}}},d={created:function(){var t=navigator.language;s().locale(t);var e=s().localeData();this.dateFormat=e.longDateFormat("L")?e.longDateFormat("L"):"pt_BR"==e._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(t){return t=new Date(t.replace(/-/g,"/")),s()(t,s().ISO_8601).format(this.dateFormat)}}},h={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var t=this;return this.formHooks[this.entityName]["begin-left"].map((function(e){return t.checkFormConditionals(e)})).join("")},getBeginRightForm:function(){var t=this;return this.formHooks[this.entityName]["begin-right"].map((function(e){return t.checkFormConditionals(e)})).join("")},getEndLeftForm:function(){var t=this;return this.formHooks[this.entityName]["end-left"].map((function(e){return t.checkFormConditionals(e)})).join("")},getEndRightForm:function(){var t=this;return this.formHooks[this.entityName]["end-right"].map((function(e){return t.checkFormConditionals(e)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(t){for(var e=0,n=["begin-left","begin-right","end-left","end-right"];e<n.length;e++){var a=n[e];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var i=document.getElementById("form-"+this.entityName+"-"+a);if(i){var o,r=l(i.elements);try{for(r.s();!(o=r.n()).done;){var s=o.value;"checkbox"==s.type||"select"==s.type&&null!=s.multiple&&1==s.multiple?s.checked&&null!=s.name&&""!=s.name&&(Array.isArray(t[s.name])||(t[s.name]=[]),t[s.name].push(s.value)):"radio"==s.type?s.checked&&null!=s.name&&""!=s.name&&(t[s.name]=s.value):t[s.name]=s.value}}catch(t){r.e(t)}finally{r.f()}}}}},updateExtraFormData:function(t){for(var e=0,n=["begin-left","begin-right","end-left","end-right"];e<n.length;e++){var a=n[e];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var i=document.getElementById("form-"+this.entityName+"-"+a);if(i){var o,r=l(i.elements);try{var s=function(){for(var e=o.value,n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];if(e.name==i)if(Array.isArray(t[i])){var r=t[i].find((function(t){return t==e.value}));e.checked=null!=r}else null!=t[i]&&null!=t[i]&&""!=t[i]&&("radio"==e.type?e.checked=t[i]==e.value:e.value=t[i])}};for(r.s();!(o=r.n()).done;)s()}catch(t){r.e(t)}finally{r.f()}}}}},checkFormConditionals:function(t){return t.form?t.conditional&&t.conditional.attribute&&t.conditional.value?this.form&&this.form[t.conditional.attribute]===t.conditional.value?t.form:"":t.form:""}}}},7929:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([t.id,"\n.input:-moz-placeholder-shown.is-danger[data-v-31536aea] {\n        background-color: var(--tainacan-input-background-color);\n        border: 1px solid var(--tainacan-input-border-color);\n}\n.input:placeholder-shown.is-danger[data-v-31536aea] {\n        background-color: var(--tainacan-input-background-color);\n        border: 1px solid var(--tainacan-input-border-color);\n}\n",""]);const s=r},22106:(t,e,n)=>{var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),s=n(77659),l=n.n(s),u=n(55056),m=n.n(u),d=n(10540),h=n.n(d),c=n(63494),f=n.n(c),v=n(7929),g={};g.styleTagTransform=f(),g.setAttributes=m(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=h();i()(v.A,g),v.A&&v.A.locals&&v.A.locals},40507:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var a=n(53150),i=n(896);n(34765);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-31536aea"]])},896:(t,e,n)=>{n.d(e,{A:()=>a.A});var a=n(83833)},53150:(t,e,n)=>{n.d(e,{X:()=>a.X});var a=n(84779)},34765:(t,e,n)=>{n(22106)}}]);